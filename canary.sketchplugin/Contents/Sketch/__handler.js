var globalThis = this;
var global = this;
function __skpm_run (key, context) {
  globalThis.context = context;
  try {

var exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/handler.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@skpm/promise/index.js":
/*!*********************************************!*\
  !*** ./node_modules/@skpm/promise/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* from https://github.com/taylorhakes/promise-polyfill */\n\nfunction promiseFinally(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nfunction noop() {}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError(\"Promises must be constructed via new\");\n  if (typeof fn !== \"function\") throw new TypeError(\"not a function\");\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError(\"A promise cannot be resolved with itself.\");\n    if (\n      newValue &&\n      (typeof newValue === \"object\" || typeof newValue === \"function\")\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === \"function\") {\n        doResolve(then.bind(newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value, self);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === \"function\" ? onFulfilled : null;\n  this.onRejected = typeof onRejected === \"function\" ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) {\n          Promise._multipleResolvesFn(\"resolve\", self, value);\n          return;\n        }\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) {\n          Promise._multipleResolvesFn(\"reject\", self, reason);\n          return;\n        }\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) {\n      Promise._multipleResolvesFn(\"reject\", self, ex);\n      return;\n    }\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype[\"catch\"] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype[\"finally\"] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!Array.isArray(arr)) {\n      return reject(new TypeError(\"Promise.all accepts an array\"));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === \"object\" || typeof val === \"function\")) {\n          var then = val.then;\n          if (typeof then === \"function\") {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === \"object\" && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!Array.isArray(arr)) {\n      return reject(new TypeError(\"Promise.race accepts an array\"));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn = setImmediate;\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err, promise) {\n  if (\n    typeof process !== \"undefined\" &&\n    process.listenerCount &&\n    (process.listenerCount(\"unhandledRejection\") ||\n      process.listenerCount(\"uncaughtException\"))\n  ) {\n    process.emit(\"unhandledRejection\", err, promise);\n    process.emit(\"uncaughtException\", err, \"unhandledRejection\");\n  } else if (typeof console !== \"undefined\" && console) {\n    console.warn(\"Possible Unhandled Promise Rejection:\", err);\n  }\n};\n\nPromise._multipleResolvesFn = function _multipleResolvesFn(\n  type,\n  promise,\n  value\n) {\n  if (typeof process !== \"undefined\" && process.emit) {\n    process.emit(\"multipleResolves\", type, promise, value);\n  }\n};\n\nmodule.exports = Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHNrcG0vcHJvbWlzZS9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9ub2RlX21vZHVsZXMvQHNrcG0vcHJvbWlzZS9pbmRleC5qcz9kMDlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RheWxvcmhha2VzL3Byb21pc2UtcG9seWZpbGwgKi9cblxuZnVuY3Rpb24gcHJvbWlzZUZpbmFsbHkoY2FsbGJhY2spIHtcbiAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuIHRoaXMudGhlbihcbiAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZWplY3QocmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICovXG5mdW5jdGlvbiBQcm9taXNlKGZuKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO1xuICBpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgYSBmdW5jdGlvblwiKTtcbiAgLyoqIEB0eXBlIHshbnVtYmVyfSAqL1xuICB0aGlzLl9zdGF0ZSA9IDA7XG4gIC8qKiBAdHlwZSB7IWJvb2xlYW59ICovXG4gIHRoaXMuX2hhbmRsZWQgPSBmYWxzZTtcbiAgLyoqIEB0eXBlIHtQcm9taXNlfHVuZGVmaW5lZH0gKi9cbiAgdGhpcy5fdmFsdWUgPSB1bmRlZmluZWQ7XG4gIC8qKiBAdHlwZSB7IUFycmF5PCFGdW5jdGlvbj59ICovXG4gIHRoaXMuX2RlZmVycmVkcyA9IFtdO1xuXG4gIGRvUmVzb2x2ZShmbiwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZShzZWxmLCBkZWZlcnJlZCkge1xuICB3aGlsZSAoc2VsZi5fc3RhdGUgPT09IDMpIHtcbiAgICBzZWxmID0gc2VsZi5fdmFsdWU7XG4gIH1cbiAgaWYgKHNlbGYuX3N0YXRlID09PSAwKSB7XG4gICAgc2VsZi5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9oYW5kbGVkID0gdHJ1ZTtcbiAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNiID0gc2VsZi5fc3RhdGUgPT09IDEgPyBkZWZlcnJlZC5vbkZ1bGZpbGxlZCA6IGRlZmVycmVkLm9uUmVqZWN0ZWQ7XG4gICAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgICAoc2VsZi5fc3RhdGUgPT09IDEgPyByZXNvbHZlIDogcmVqZWN0KShkZWZlcnJlZC5wcm9taXNlLCBzZWxmLl92YWx1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldCA9IGNiKHNlbGYuX3ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZWplY3QoZGVmZXJyZWQucHJvbWlzZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlc29sdmUoZGVmZXJyZWQucHJvbWlzZSwgcmV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoc2VsZiwgbmV3VmFsdWUpIHtcbiAgdHJ5IHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOiBodHRwczovL2dpdGh1Yi5jb20vcHJvbWlzZXMtYXBsdXMvcHJvbWlzZXMtc3BlYyN0aGUtcHJvbWlzZS1yZXNvbHV0aW9uLXByb2NlZHVyZVxuICAgIGlmIChuZXdWYWx1ZSA9PT0gc2VsZilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtcbiAgICBpZiAoXG4gICAgICBuZXdWYWx1ZSAmJlxuICAgICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgbmV3VmFsdWUgPT09IFwiZnVuY3Rpb25cIilcbiAgICApIHtcbiAgICAgIHZhciB0aGVuID0gbmV3VmFsdWUudGhlbjtcbiAgICAgIGlmIChuZXdWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgc2VsZi5fc3RhdGUgPSAzO1xuICAgICAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICBmaW5hbGUoc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBkb1Jlc29sdmUodGhlbi5iaW5kKG5ld1ZhbHVlKSwgc2VsZik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgc2VsZi5fc3RhdGUgPSAxO1xuICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgZmluYWxlKHNlbGYpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmVqZWN0KHNlbGYsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChzZWxmLCBuZXdWYWx1ZSkge1xuICBzZWxmLl9zdGF0ZSA9IDI7XG4gIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gIGZpbmFsZShzZWxmKTtcbn1cblxuZnVuY3Rpb24gZmluYWxlKHNlbGYpIHtcbiAgaWYgKHNlbGYuX3N0YXRlID09PSAyICYmIHNlbGYuX2RlZmVycmVkcy5sZW5ndGggPT09IDApIHtcbiAgICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2VsZi5faGFuZGxlZCkge1xuICAgICAgICBQcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbihzZWxmLl92YWx1ZSwgc2VsZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZi5fZGVmZXJyZWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaGFuZGxlKHNlbGYsIHNlbGYuX2RlZmVycmVkc1tpXSk7XG4gIH1cbiAgc2VsZi5fZGVmZXJyZWRzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFuZGxlcihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvbWlzZSkge1xuICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIG9uRnVsZmlsbGVkID09PSBcImZ1bmN0aW9uXCIgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBvblJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHNlbGYpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBmbihcbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgUHJvbWlzZS5fbXVsdGlwbGVSZXNvbHZlc0ZuKFwicmVzb2x2ZVwiLCBzZWxmLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvbHZlKHNlbGYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBQcm9taXNlLl9tdWx0aXBsZVJlc29sdmVzRm4oXCJyZWplY3RcIiwgc2VsZiwgcmVhc29uKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgaWYgKGRvbmUpIHtcbiAgICAgIFByb21pc2UuX211bHRpcGxlUmVzb2x2ZXNGbihcInJlamVjdFwiLCBzZWxmLCBleCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbmUgPSB0cnVlO1xuICAgIHJlamVjdChzZWxmLCBleCk7XG4gIH1cbn1cblxuUHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAvLyBAdHMtaWdub3JlXG4gIHZhciBwcm9tID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaGFuZGxlKHRoaXMsIG5ldyBIYW5kbGVyKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBwcm9tKSk7XG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gcHJvbWlzZUZpbmFsbHk7XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheVwiKSk7XG4gICAgfVxuXG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgIHZhciB0aGVuID0gdmFsLnRoZW47XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZWplY3QoZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBQcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWplY3QodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKGFycikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiByZWplY3QobmV3IFR5cGVFcnJvcihcIlByb21pc2UucmFjZSBhY2NlcHRzIGFuIGFycmF5XCIpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoYXJyW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFVzZSBwb2x5ZmlsbCBmb3Igc2V0SW1tZWRpYXRlIGZvciBwZXJmb3JtYW5jZSBnYWluc1xuUHJvbWlzZS5faW1tZWRpYXRlRm4gPSBzZXRJbW1lZGlhdGU7XG5cblByb21pc2UuX3VuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gX3VuaGFuZGxlZFJlamVjdGlvbkZuKGVyciwgcHJvbWlzZSkge1xuICBpZiAoXG4gICAgdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQgJiZcbiAgICAocHJvY2Vzcy5saXN0ZW5lckNvdW50KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIpIHx8XG4gICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiKSlcbiAgKSB7XG4gICAgcHJvY2Vzcy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIGVyciwgcHJvbWlzZSk7XG4gICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyLCBcInVuaGFuZGxlZFJlamVjdGlvblwiKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uOlwiLCBlcnIpO1xuICB9XG59O1xuXG5Qcm9taXNlLl9tdWx0aXBsZVJlc29sdmVzRm4gPSBmdW5jdGlvbiBfbXVsdGlwbGVSZXNvbHZlc0ZuKFxuICB0eXBlLFxuICBwcm9taXNlLFxuICB2YWx1ZVxuKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLmVtaXQpIHtcbiAgICBwcm9jZXNzLmVtaXQoXCJtdWx0aXBsZVJlc29sdmVzXCIsIHR5cGUsIHByb21pc2UsIHZhbHVlKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcm9taXNlO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@skpm/promise/index.js\n");

/***/ }),

/***/ "./node_modules/mocha-js-delegate/index.js":
/*!*************************************************!*\
  !*** ./node_modules/mocha-js-delegate/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* globals MOClassDescription, NSObject, NSSelectorFromString, NSClassFromString, MOPropertyDescription */\n\nmodule.exports = function MochaDelegate(definition, superclass) {\n  var uniqueClassName =\n    'MochaJSDelegate_DynamicClass_' + NSUUID.UUID().UUIDString()\n\n  var delegateClassDesc = MOClassDescription.allocateDescriptionForClassWithName_superclass_(\n    uniqueClassName,\n    superclass || NSObject\n  )\n\n  // Storage\n  var handlers = {}\n  var ivars = {}\n\n  // Define an instance method\n  function setHandlerForSelector(selectorString, func) {\n    var handlerHasBeenSet = selectorString in handlers\n    var selector = NSSelectorFromString(selectorString)\n\n    handlers[selectorString] = func\n\n    /*\n      For some reason, Mocha acts weird about arguments: https://github.com/logancollins/Mocha/issues/28\n      We have to basically create a dynamic handler with a likewise dynamic number of predefined arguments.\n    */\n    if (!handlerHasBeenSet) {\n      var args = []\n      var regex = /:/g\n      while (regex.exec(selectorString)) {\n        args.push('arg' + args.length)\n      }\n\n      // eslint-disable-next-line no-eval\n      var dynamicFunction = eval(\n        '(function (' +\n          args.join(', ') +\n          ') { return handlers[selectorString].apply(this, arguments); })'\n      )\n\n      delegateClassDesc.addInstanceMethodWithSelector_function(\n        selector,\n        dynamicFunction\n      )\n    }\n  }\n\n  // define a property\n  function setIvar(key, value) {\n    var ivarHasBeenSet = key in handlers\n\n    ivars[key] = value\n\n    if (!ivarHasBeenSet) {\n      delegateClassDesc.addInstanceVariableWithName_typeEncoding(key, '@')\n      var description = MOPropertyDescription.new()\n      description.name = key\n      description.typeEncoding = '@'\n      description.weak = true\n      description.ivarName = key\n      delegateClassDesc.addProperty(description)\n    }\n  }\n\n  this.getClass = function() {\n    return NSClassFromString(uniqueClassName)\n  }\n\n  this.getClassInstance = function(instanceVariables) {\n    var instance = NSClassFromString(uniqueClassName).new()\n    Object.keys(ivars).forEach(function(key) {\n      instance[key] = ivars[key]\n    })\n    Object.keys(instanceVariables || {}).forEach(function(key) {\n      instance[key] = instanceVariables[key]\n    })\n    return instance\n  }\n  // alias\n  this.new = this.getClassInstance\n\n  // Convenience\n  if (typeof definition === 'object') {\n    Object.keys(definition).forEach(\n      function(key) {\n        if (typeof definition[key] === 'function') {\n          setHandlerForSelector(key, definition[key])\n        } else {\n          setIvar(key, definition[key])\n        }\n      }\n    )\n  }\n\n  delegateClassDesc.registerClass()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbW9jaGEtanMtZGVsZWdhdGUvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL21vY2hhLWpzLWRlbGVnYXRlL2luZGV4LmpzP2FlZWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBNT0NsYXNzRGVzY3JpcHRpb24sIE5TT2JqZWN0LCBOU1NlbGVjdG9yRnJvbVN0cmluZywgTlNDbGFzc0Zyb21TdHJpbmcsIE1PUHJvcGVydHlEZXNjcmlwdGlvbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIE1vY2hhRGVsZWdhdGUoZGVmaW5pdGlvbiwgc3VwZXJjbGFzcykge1xuICB2YXIgdW5pcXVlQ2xhc3NOYW1lID1cbiAgICAnTW9jaGFKU0RlbGVnYXRlX0R5bmFtaWNDbGFzc18nICsgTlNVVUlELlVVSUQoKS5VVUlEU3RyaW5nKClcblxuICB2YXIgZGVsZWdhdGVDbGFzc0Rlc2MgPSBNT0NsYXNzRGVzY3JpcHRpb24uYWxsb2NhdGVEZXNjcmlwdGlvbkZvckNsYXNzV2l0aE5hbWVfc3VwZXJjbGFzc18oXG4gICAgdW5pcXVlQ2xhc3NOYW1lLFxuICAgIHN1cGVyY2xhc3MgfHwgTlNPYmplY3RcbiAgKVxuXG4gIC8vIFN0b3JhZ2VcbiAgdmFyIGhhbmRsZXJzID0ge31cbiAgdmFyIGl2YXJzID0ge31cblxuICAvLyBEZWZpbmUgYW4gaW5zdGFuY2UgbWV0aG9kXG4gIGZ1bmN0aW9uIHNldEhhbmRsZXJGb3JTZWxlY3RvcihzZWxlY3RvclN0cmluZywgZnVuYykge1xuICAgIHZhciBoYW5kbGVySGFzQmVlblNldCA9IHNlbGVjdG9yU3RyaW5nIGluIGhhbmRsZXJzXG4gICAgdmFyIHNlbGVjdG9yID0gTlNTZWxlY3RvckZyb21TdHJpbmcoc2VsZWN0b3JTdHJpbmcpXG5cbiAgICBoYW5kbGVyc1tzZWxlY3RvclN0cmluZ10gPSBmdW5jXG5cbiAgICAvKlxuICAgICAgRm9yIHNvbWUgcmVhc29uLCBNb2NoYSBhY3RzIHdlaXJkIGFib3V0IGFyZ3VtZW50czogaHR0cHM6Ly9naXRodWIuY29tL2xvZ2FuY29sbGlucy9Nb2NoYS9pc3N1ZXMvMjhcbiAgICAgIFdlIGhhdmUgdG8gYmFzaWNhbGx5IGNyZWF0ZSBhIGR5bmFtaWMgaGFuZGxlciB3aXRoIGEgbGlrZXdpc2UgZHluYW1pYyBudW1iZXIgb2YgcHJlZGVmaW5lZCBhcmd1bWVudHMuXG4gICAgKi9cbiAgICBpZiAoIWhhbmRsZXJIYXNCZWVuU2V0KSB7XG4gICAgICB2YXIgYXJncyA9IFtdXG4gICAgICB2YXIgcmVnZXggPSAvOi9nXG4gICAgICB3aGlsZSAocmVnZXguZXhlYyhzZWxlY3RvclN0cmluZykpIHtcbiAgICAgICAgYXJncy5wdXNoKCdhcmcnICsgYXJncy5sZW5ndGgpXG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICB2YXIgZHluYW1pY0Z1bmN0aW9uID0gZXZhbChcbiAgICAgICAgJyhmdW5jdGlvbiAoJyArXG4gICAgICAgICAgYXJncy5qb2luKCcsICcpICtcbiAgICAgICAgICAnKSB7IHJldHVybiBoYW5kbGVyc1tzZWxlY3RvclN0cmluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSknXG4gICAgICApXG5cbiAgICAgIGRlbGVnYXRlQ2xhc3NEZXNjLmFkZEluc3RhbmNlTWV0aG9kV2l0aFNlbGVjdG9yX2Z1bmN0aW9uKFxuICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgZHluYW1pY0Z1bmN0aW9uXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLy8gZGVmaW5lIGEgcHJvcGVydHlcbiAgZnVuY3Rpb24gc2V0SXZhcihrZXksIHZhbHVlKSB7XG4gICAgdmFyIGl2YXJIYXNCZWVuU2V0ID0ga2V5IGluIGhhbmRsZXJzXG5cbiAgICBpdmFyc1trZXldID0gdmFsdWVcblxuICAgIGlmICghaXZhckhhc0JlZW5TZXQpIHtcbiAgICAgIGRlbGVnYXRlQ2xhc3NEZXNjLmFkZEluc3RhbmNlVmFyaWFibGVXaXRoTmFtZV90eXBlRW5jb2Rpbmcoa2V5LCAnQCcpXG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSBNT1Byb3BlcnR5RGVzY3JpcHRpb24ubmV3KClcbiAgICAgIGRlc2NyaXB0aW9uLm5hbWUgPSBrZXlcbiAgICAgIGRlc2NyaXB0aW9uLnR5cGVFbmNvZGluZyA9ICdAJ1xuICAgICAgZGVzY3JpcHRpb24ud2VhayA9IHRydWVcbiAgICAgIGRlc2NyaXB0aW9uLml2YXJOYW1lID0ga2V5XG4gICAgICBkZWxlZ2F0ZUNsYXNzRGVzYy5hZGRQcm9wZXJ0eShkZXNjcmlwdGlvbilcbiAgICB9XG4gIH1cblxuICB0aGlzLmdldENsYXNzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIE5TQ2xhc3NGcm9tU3RyaW5nKHVuaXF1ZUNsYXNzTmFtZSlcbiAgfVxuXG4gIHRoaXMuZ2V0Q2xhc3NJbnN0YW5jZSA9IGZ1bmN0aW9uKGluc3RhbmNlVmFyaWFibGVzKSB7XG4gICAgdmFyIGluc3RhbmNlID0gTlNDbGFzc0Zyb21TdHJpbmcodW5pcXVlQ2xhc3NOYW1lKS5uZXcoKVxuICAgIE9iamVjdC5rZXlzKGl2YXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaW5zdGFuY2Vba2V5XSA9IGl2YXJzW2tleV1cbiAgICB9KVxuICAgIE9iamVjdC5rZXlzKGluc3RhbmNlVmFyaWFibGVzIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaW5zdGFuY2Vba2V5XSA9IGluc3RhbmNlVmFyaWFibGVzW2tleV1cbiAgICB9KVxuICAgIHJldHVybiBpbnN0YW5jZVxuICB9XG4gIC8vIGFsaWFzXG4gIHRoaXMubmV3ID0gdGhpcy5nZXRDbGFzc0luc3RhbmNlXG5cbiAgLy8gQ29udmVuaWVuY2VcbiAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5rZXlzKGRlZmluaXRpb24pLmZvckVhY2goXG4gICAgICBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBzZXRIYW5kbGVyRm9yU2VsZWN0b3Ioa2V5LCBkZWZpbml0aW9uW2tleV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0SXZhcihrZXksIGRlZmluaXRpb25ba2V5XSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIGRlbGVnYXRlQ2xhc3NEZXNjLnJlZ2lzdGVyQ2xhc3MoKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mocha-js-delegate/index.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function parseHexColor(color) {\n  // Check the string for incorrect formatting.\n  if (!color || color[0] !== '#') {\n    if (\n      color &&\n      typeof color.isKindOfClass === 'function' &&\n      color.isKindOfClass(NSColor)\n    ) {\n      return color\n    }\n    throw new Error(\n      'Incorrect color formating. It should be an hex color: #RRGGBBAA'\n    )\n  }\n\n  // append FF if alpha channel is not specified.\n  var source = color.substr(1)\n  if (source.length === 3) {\n    source += 'F'\n  } else if (source.length === 6) {\n    source += 'FF'\n  }\n  // Convert the string from #FFF format to #FFFFFF format.\n  var hex\n  if (source.length === 4) {\n    for (var i = 0; i < 4; i += 1) {\n      hex += source[i]\n      hex += source[i]\n    }\n  } else if (source.length === 8) {\n    hex = source\n  } else {\n    return NSColor.whiteColor()\n  }\n\n  var r = parseInt(hex.slice(0, 2), 16)\n  var g = parseInt(hex.slice(2, 4), 16)\n  var b = parseInt(hex.slice(4, 6), 16)\n  var a = parseInt(hex.slice(6, 8), 16)\n\n  return NSColor.colorWithSRGBRed_green_blue_alpha(r, g, b, a)\n}\n\nmodule.exports = function(browserWindow, panel, webview) {\n  // keep reference to the subviews\n  browserWindow._panel = panel\n  browserWindow._webview = webview\n  browserWindow._destroyed = false\n\n  browserWindow.destroy = function() {\n    return panel.close()\n  }\n\n  browserWindow.close = function() {\n    if (panel.delegate().utils && panel.delegate().utils.parentWindow) {\n      var shouldClose = true\n      browserWindow.emit('close', {\n        get defaultPrevented() {\n          return !shouldClose\n        },\n        preventDefault: function() {\n          shouldClose = false\n        },\n      })\n      if (shouldClose) {\n        panel.delegate().utils.parentWindow.endSheet(panel)\n      }\n      return\n    }\n\n    if (!browserWindow.isClosable()) {\n      return\n    }\n\n    panel.performClose(null)\n  }\n\n  function focus(focused) {\n    if (!browserWindow.isVisible()) {\n      return\n    }\n    if (focused) {\n      NSApplication.sharedApplication().activateIgnoringOtherApps(true)\n      panel.makeKeyAndOrderFront(null)\n    } else {\n      panel.orderBack(null)\n      NSApp.mainWindow().makeKeyAndOrderFront(null)\n    }\n  }\n\n  browserWindow.focus = focus.bind(this, true)\n  browserWindow.blur = focus.bind(this, false)\n\n  browserWindow.isFocused = function() {\n    return panel.isKeyWindow()\n  }\n\n  browserWindow.isDestroyed = function() {\n    return browserWindow._destroyed\n  }\n\n  browserWindow.show = function() {\n    // This method is supposed to put focus on window, however if the app does not\n    // have focus then \"makeKeyAndOrderFront\" will only show the window.\n    NSApp.activateIgnoringOtherApps(true)\n\n    if (panel.delegate().utils && panel.delegate().utils.parentWindow) {\n      return panel.delegate().utils.parentWindow.beginSheet_completionHandler(\n        panel,\n        __mocha__.createBlock_function('v16@?0q8', function() {\n          browserWindow.emit('closed')\n        })\n      )\n    }\n\n    return panel.makeKeyAndOrderFront(null)\n  }\n\n  browserWindow.showInactive = function() {\n    return panel.orderFrontRegardless()\n  }\n\n  browserWindow.hide = function() {\n    return panel.orderOut(null)\n  }\n\n  browserWindow.isVisible = function() {\n    return panel.isVisible()\n  }\n\n  browserWindow.isModal = function() {\n    return false\n  }\n\n  browserWindow.maximize = function() {\n    if (!browserWindow.isMaximized()) {\n      panel.zoom(null)\n    }\n  }\n  browserWindow.unmaximize = function() {\n    if (browserWindow.isMaximized()) {\n      panel.zoom(null)\n    }\n  }\n\n  browserWindow.isMaximized = function() {\n    if ((panel.styleMask() & NSResizableWindowMask) !== 0) {\n      return panel.isZoomed()\n    }\n    var rectScreen = NSScreen.mainScreen().visibleFrame()\n    var rectWindow = panel.frame()\n    return (\n      rectScreen.origin.x == rectWindow.origin.x &&\n      rectScreen.origin.y == rectWindow.origin.y &&\n      rectScreen.size.width == rectWindow.size.width &&\n      rectScreen.size.height == rectWindow.size.height\n    )\n  }\n\n  browserWindow.minimize = function() {\n    return panel.miniaturize(null)\n  }\n\n  browserWindow.restore = function() {\n    return panel.deminiaturize(null)\n  }\n\n  browserWindow.isMinimized = function() {\n    return panel.isMiniaturized()\n  }\n\n  browserWindow.setFullScreen = function(fullscreen) {\n    if (fullscreen !== browserWindow.isFullscreen()) {\n      panel.toggleFullScreen(null)\n    }\n  }\n\n  browserWindow.isFullscreen = function() {\n    return panel.styleMask() & NSFullScreenWindowMask\n  }\n\n  browserWindow.setAspectRatio = function(aspectRatio /* , extraSize */) {\n    // Reset the behaviour to default if aspect_ratio is set to 0 or less.\n    if (aspectRatio > 0.0) {\n      panel.setAspectRatio(NSMakeSize(aspectRatio, 1.0))\n    } else {\n      panel.setResizeIncrements(NSMakeSize(1.0, 1.0))\n    }\n  }\n\n  browserWindow.setBounds = function(bounds, animate) {\n    if (!bounds) {\n      return\n    }\n\n    // Do nothing if in fullscreen mode.\n    if (browserWindow.isFullscreen()) {\n      return\n    }\n\n    const newBounds = Object.assign(browserWindow.getBounds(), bounds)\n\n    // TODO: Check size constraints since setFrame does not check it.\n    // var size = bounds.size\n    // size.SetToMax(GetMinimumSize());\n    // gfx::Size max_size = GetMaximumSize();\n    // if (!max_size.IsEmpty())\n    //   size.SetToMin(max_size);\n\n    var cocoaBounds = NSMakeRect(\n      newBounds.x,\n      0,\n      newBounds.width,\n      newBounds.height\n    )\n    // Flip Y coordinates based on the primary screen\n    var screen = NSScreen.screens().firstObject()\n    cocoaBounds.origin.y = NSHeight(screen.frame()) - newBounds.y\n\n    panel.setFrame_display_animate(cocoaBounds, true, animate)\n  }\n\n  browserWindow.getBounds = function() {\n    const cocoaBounds = panel.frame()\n    var mainScreenRect = NSScreen.screens()\n      .firstObject()\n      .frame()\n    return {\n      x: cocoaBounds.origin.x,\n      y: Math.round(NSHeight(mainScreenRect) - cocoaBounds.origin.y),\n      width: cocoaBounds.size.width,\n      height: cocoaBounds.size.height,\n    }\n  }\n\n  browserWindow.setContentBounds = function(bounds, animate) {\n    // TODO:\n    browserWindow.setBounds(bounds, animate)\n  }\n\n  browserWindow.getContentBounds = function() {\n    // TODO:\n    return browserWindow.getBounds()\n  }\n\n  browserWindow.setSize = function(width, height, animate) {\n    // TODO: handle resizing around center\n    return browserWindow.setBounds({ width: width, height: height }, animate)\n  }\n\n  browserWindow.getSize = function() {\n    var bounds = browserWindow.getBounds()\n    return [bounds.width, bounds.height]\n  }\n\n  browserWindow.setContentSize = function(width, height, animate) {\n    // TODO: handle resizing around center\n    return browserWindow.setContentBounds(\n      { width: width, height: height },\n      animate\n    )\n  }\n\n  browserWindow.getContentSize = function() {\n    var bounds = browserWindow.getContentBounds()\n    return [bounds.width, bounds.height]\n  }\n\n  browserWindow.setMinimumSize = function(width, height) {\n    const minSize = CGSizeMake(width, height)\n    panel.setContentMinSize(minSize)\n  }\n\n  browserWindow.getMinimumSize = function() {\n    const size = panel.contentMinSize()\n    return [size.width, size.height]\n  }\n\n  browserWindow.setMaximumSize = function(width, height) {\n    const maxSize = CGSizeMake(width, height)\n    panel.setContentMaxSize(maxSize)\n  }\n\n  browserWindow.getMaximumSize = function() {\n    const size = panel.contentMaxSize()\n    return [size.width, size.height]\n  }\n\n  browserWindow.setResizable = function(resizable) {\n    return browserWindow._setStyleMask(resizable, NSResizableWindowMask)\n  }\n\n  browserWindow.isResizable = function() {\n    return panel.styleMask() & NSResizableWindowMask\n  }\n\n  browserWindow.setMovable = function(movable) {\n    return panel.setMovable(movable)\n  }\n  browserWindow.isMovable = function() {\n    return panel.isMovable()\n  }\n\n  browserWindow.setMinimizable = function(minimizable) {\n    return browserWindow._setStyleMask(minimizable, NSMiniaturizableWindowMask)\n  }\n\n  browserWindow.isMinimizable = function() {\n    return panel.styleMask() & NSMiniaturizableWindowMask\n  }\n\n  browserWindow.setMaximizable = function(maximizable) {\n    if (panel.standardWindowButton(NSWindowZoomButton)) {\n      panel.standardWindowButton(NSWindowZoomButton).setEnabled(maximizable)\n    }\n  }\n\n  browserWindow.isMaximizable = function() {\n    return (\n      panel.standardWindowButton(NSWindowZoomButton) &&\n      panel.standardWindowButton(NSWindowZoomButton).isEnabled()\n    )\n  }\n\n  browserWindow.setFullScreenable = function(fullscreenable) {\n    browserWindow._setCollectionBehavior(\n      fullscreenable,\n      NSWindowCollectionBehaviorFullScreenPrimary\n    )\n    // On EL Capitan this flag is required to hide fullscreen button.\n    browserWindow._setCollectionBehavior(\n      !fullscreenable,\n      NSWindowCollectionBehaviorFullScreenAuxiliary\n    )\n  }\n\n  browserWindow.isFullScreenable = function() {\n    var collectionBehavior = panel.collectionBehavior()\n    return collectionBehavior & NSWindowCollectionBehaviorFullScreenPrimary\n  }\n\n  browserWindow.setClosable = function(closable) {\n    browserWindow._setStyleMask(closable, NSClosableWindowMask)\n  }\n\n  browserWindow.isClosable = function() {\n    return panel.styleMask() & NSClosableWindowMask\n  }\n\n  browserWindow.setAlwaysOnTop = function(top, level, relativeLevel) {\n    var windowLevel = NSNormalWindowLevel\n    var maxWindowLevel = CGWindowLevelForKey(kCGMaximumWindowLevelKey)\n    var minWindowLevel = CGWindowLevelForKey(kCGMinimumWindowLevelKey)\n\n    if (top) {\n      if (level === 'normal') {\n        windowLevel = NSNormalWindowLevel\n      } else if (level === 'torn-off-menu') {\n        windowLevel = NSTornOffMenuWindowLevel\n      } else if (level === 'modal-panel') {\n        windowLevel = NSModalPanelWindowLevel\n      } else if (level === 'main-menu') {\n        windowLevel = NSMainMenuWindowLevel\n      } else if (level === 'status') {\n        windowLevel = NSStatusWindowLevel\n      } else if (level === 'pop-up-menu') {\n        windowLevel = NSPopUpMenuWindowLevel\n      } else if (level === 'screen-saver') {\n        windowLevel = NSScreenSaverWindowLevel\n      } else if (level === 'dock') {\n        // Deprecated by macOS, but kept for backwards compatibility\n        windowLevel = NSDockWindowLevel\n      } else {\n        windowLevel = NSFloatingWindowLevel\n      }\n    }\n\n    var newLevel = windowLevel + (relativeLevel || 0)\n    if (newLevel >= minWindowLevel && newLevel <= maxWindowLevel) {\n      panel.setLevel(newLevel)\n    } else {\n      throw new Error(\n        'relativeLevel must be between ' +\n          minWindowLevel +\n          ' and ' +\n          maxWindowLevel\n      )\n    }\n  }\n\n  browserWindow.isAlwaysOnTop = function() {\n    return panel.level() !== NSNormalWindowLevel\n  }\n\n  browserWindow.moveTop = function() {\n    return panel.orderFrontRegardless()\n  }\n\n  browserWindow.center = function() {\n    panel.center()\n  }\n\n  browserWindow.setPosition = function(x, y, animate) {\n    return browserWindow.setBounds({ x: x, y: y }, animate)\n  }\n\n  browserWindow.getPosition = function() {\n    var bounds = browserWindow.getBounds()\n    return [bounds.x, bounds.y]\n  }\n\n  browserWindow.setTitle = function(title) {\n    panel.setTitle(title)\n  }\n\n  browserWindow.getTitle = function() {\n    return String(panel.title())\n  }\n\n  var attentionRequestId = 0\n  browserWindow.flashFrame = function(flash) {\n    if (flash) {\n      attentionRequestId = NSApp.requestUserAttention(NSInformationalRequest)\n    } else {\n      NSApp.cancelUserAttentionRequest(attentionRequestId)\n      attentionRequestId = 0\n    }\n  }\n\n  browserWindow.getNativeWindowHandle = function() {\n    return panel\n  }\n\n  browserWindow.getNativeWebViewHandle = function() {\n    return webview\n  }\n\n  browserWindow.loadURL = function(url) {\n    // When frameLocation is a file, prefix it with the Sketch Resources path\n    if (/^(?!https?|file).*\\.html?$/.test(url)) {\n      if (typeof __command !== 'undefined' && __command.pluginBundle()) {\n        url =\n          'file://' +\n          __command\n            .pluginBundle()\n            .urlForResourceNamed(url)\n            .path()\n      }\n    }\n\n    if (/^file:\\/\\/.*\\.html?$/.test(url)) {\n      // ensure URLs containing spaces are properly handled\n      url = NSString.alloc().initWithString(url)\n      url = url.stringByAddingPercentEncodingWithAllowedCharacters(\n        NSCharacterSet.URLQueryAllowedCharacterSet()\n      )\n      webview.loadFileURL_allowingReadAccessToURL(\n        NSURL.URLWithString(url),\n        NSURL.URLWithString('file:///')\n      )\n      return\n    }\n\n    const properURL = NSURL.URLWithString(url)\n    const urlRequest = NSURLRequest.requestWithURL(properURL)\n\n    webview.loadRequest(urlRequest)\n  }\n\n  browserWindow.reload = function() {\n    webview.reload()\n  }\n\n  browserWindow.setHasShadow = function(hasShadow) {\n    return panel.setHasShadow(hasShadow)\n  }\n\n  browserWindow.hasShadow = function() {\n    return panel.hasShadow()\n  }\n\n  browserWindow.setOpacity = function(opacity) {\n    return panel.setAlphaValue(opacity)\n  }\n\n  browserWindow.getOpacity = function() {\n    return panel.alphaValue()\n  }\n\n  browserWindow.setVisibleOnAllWorkspaces = function(visible) {\n    return browserWindow._setCollectionBehavior(\n      visible,\n      NSWindowCollectionBehaviorCanJoinAllSpaces\n    )\n  }\n\n  browserWindow.isVisibleOnAllWorkspaces = function() {\n    var collectionBehavior = panel.collectionBehavior()\n    return collectionBehavior & NSWindowCollectionBehaviorCanJoinAllSpaces\n  }\n\n  browserWindow.setIgnoreMouseEvents = function(ignore) {\n    return panel.setIgnoresMouseEvents(ignore)\n  }\n\n  browserWindow.setContentProtection = function(enable) {\n    panel.setSharingType(enable ? NSWindowSharingNone : NSWindowSharingReadOnly)\n  }\n\n  browserWindow.setAutoHideCursor = function(autoHide) {\n    panel.setDisableAutoHideCursor(autoHide)\n  }\n\n  browserWindow.setVibrancy = function(type) {\n    var effectView = browserWindow._vibrantView\n\n    if (!type) {\n      if (effectView == null) {\n        return\n      }\n\n      effectView.removeFromSuperview()\n      panel.setVibrantView(null)\n      return\n    }\n\n    if (effectView == null) {\n      var contentView = panel.contentView()\n      effectView = NSVisualEffectView.alloc().initWithFrame(\n        contentView.bounds()\n      )\n      browserWindow._vibrantView = effectView\n\n      effectView.setAutoresizingMask(NSViewWidthSizable | NSViewHeightSizable)\n      effectView.setBlendingMode(NSVisualEffectBlendingModeBehindWindow)\n      effectView.setState(NSVisualEffectStateActive)\n      effectView.setFrame(contentView.bounds())\n      contentView.addSubview_positioned_relativeTo(\n        effectView,\n        NSWindowBelow,\n        null\n      )\n    }\n\n    var vibrancyType = NSVisualEffectMaterialLight\n\n    if (type === 'appearance-based') {\n      vibrancyType = NSVisualEffectMaterialAppearanceBased\n    } else if (type === 'light') {\n      vibrancyType = NSVisualEffectMaterialLight\n    } else if (type === 'dark') {\n      vibrancyType = NSVisualEffectMaterialDark\n    } else if (type === 'titlebar') {\n      vibrancyType = NSVisualEffectMaterialTitlebar\n    } else if (type === 'selection') {\n      vibrancyType = NSVisualEffectMaterialSelection\n    } else if (type === 'menu') {\n      vibrancyType = NSVisualEffectMaterialMenu\n    } else if (type === 'popover') {\n      vibrancyType = NSVisualEffectMaterialPopover\n    } else if (type === 'sidebar') {\n      vibrancyType = NSVisualEffectMaterialSidebar\n    } else if (type === 'medium-light') {\n      vibrancyType = NSVisualEffectMaterialMediumLight\n    } else if (type === 'ultra-dark') {\n      vibrancyType = NSVisualEffectMaterialUltraDark\n    }\n\n    effectView.setMaterial(vibrancyType)\n  }\n\n  browserWindow._setBackgroundColor = function(colorName) {\n    var color = parseHexColor(colorName)\n    webview.setValue_forKey(false, 'drawsBackground')\n    panel.backgroundColor = color\n  }\n\n  browserWindow._invalidate = function() {\n    panel.flushWindow()\n    panel.contentView().setNeedsDisplay(true)\n  }\n\n  browserWindow._setStyleMask = function(on, flag) {\n    var wasMaximizable = browserWindow.isMaximizable()\n    if (on) {\n      panel.setStyleMask(panel.styleMask() | flag)\n    } else {\n      panel.setStyleMask(panel.styleMask() & ~flag)\n    }\n    // Change style mask will make the zoom button revert to default, probably\n    // a bug of Cocoa or macOS.\n    browserWindow.setMaximizable(wasMaximizable)\n  }\n\n  browserWindow._setCollectionBehavior = function(on, flag) {\n    var wasMaximizable = browserWindow.isMaximizable()\n    if (on) {\n      panel.setCollectionBehavior(panel.collectionBehavior() | flag)\n    } else {\n      panel.setCollectionBehavior(panel.collectionBehavior() & ~flag)\n    }\n    // Change collectionBehavior will make the zoom button revert to default,\n    // probably a bug of Cocoa or macOS.\n    browserWindow.setMaximizable(wasMaximizable)\n  }\n\n  browserWindow._showWindowButton = function(button) {\n    var view = panel.standardWindowButton(button)\n    view.superview().addSubview_positioned_relative(view, NSWindowAbove, null)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvYnJvd3Nlci1hcGkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL2Jyb3dzZXItYXBpLmpzPzI1ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcGFyc2VIZXhDb2xvcihjb2xvcikge1xuICAvLyBDaGVjayB0aGUgc3RyaW5nIGZvciBpbmNvcnJlY3QgZm9ybWF0dGluZy5cbiAgaWYgKCFjb2xvciB8fCBjb2xvclswXSAhPT0gJyMnKSB7XG4gICAgaWYgKFxuICAgICAgY29sb3IgJiZcbiAgICAgIHR5cGVvZiBjb2xvci5pc0tpbmRPZkNsYXNzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICBjb2xvci5pc0tpbmRPZkNsYXNzKE5TQ29sb3IpXG4gICAgKSB7XG4gICAgICByZXR1cm4gY29sb3JcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0luY29ycmVjdCBjb2xvciBmb3JtYXRpbmcuIEl0IHNob3VsZCBiZSBhbiBoZXggY29sb3I6ICNSUkdHQkJBQSdcbiAgICApXG4gIH1cblxuICAvLyBhcHBlbmQgRkYgaWYgYWxwaGEgY2hhbm5lbCBpcyBub3Qgc3BlY2lmaWVkLlxuICB2YXIgc291cmNlID0gY29sb3Iuc3Vic3RyKDEpXG4gIGlmIChzb3VyY2UubGVuZ3RoID09PSAzKSB7XG4gICAgc291cmNlICs9ICdGJ1xuICB9IGVsc2UgaWYgKHNvdXJjZS5sZW5ndGggPT09IDYpIHtcbiAgICBzb3VyY2UgKz0gJ0ZGJ1xuICB9XG4gIC8vIENvbnZlcnQgdGhlIHN0cmluZyBmcm9tICNGRkYgZm9ybWF0IHRvICNGRkZGRkYgZm9ybWF0LlxuICB2YXIgaGV4XG4gIGlmIChzb3VyY2UubGVuZ3RoID09PSA0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpICs9IDEpIHtcbiAgICAgIGhleCArPSBzb3VyY2VbaV1cbiAgICAgIGhleCArPSBzb3VyY2VbaV1cbiAgICB9XG4gIH0gZWxzZSBpZiAoc291cmNlLmxlbmd0aCA9PT0gOCkge1xuICAgIGhleCA9IHNvdXJjZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBOU0NvbG9yLndoaXRlQ29sb3IoKVxuICB9XG5cbiAgdmFyIHIgPSBwYXJzZUludChoZXguc2xpY2UoMCwgMiksIDE2KVxuICB2YXIgZyA9IHBhcnNlSW50KGhleC5zbGljZSgyLCA0KSwgMTYpXG4gIHZhciBiID0gcGFyc2VJbnQoaGV4LnNsaWNlKDQsIDYpLCAxNilcbiAgdmFyIGEgPSBwYXJzZUludChoZXguc2xpY2UoNiwgOCksIDE2KVxuXG4gIHJldHVybiBOU0NvbG9yLmNvbG9yV2l0aFNSR0JSZWRfZ3JlZW5fYmx1ZV9hbHBoYShyLCBnLCBiLCBhKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJyb3dzZXJXaW5kb3csIHBhbmVsLCB3ZWJ2aWV3KSB7XG4gIC8vIGtlZXAgcmVmZXJlbmNlIHRvIHRoZSBzdWJ2aWV3c1xuICBicm93c2VyV2luZG93Ll9wYW5lbCA9IHBhbmVsXG4gIGJyb3dzZXJXaW5kb3cuX3dlYnZpZXcgPSB3ZWJ2aWV3XG4gIGJyb3dzZXJXaW5kb3cuX2Rlc3Ryb3llZCA9IGZhbHNlXG5cbiAgYnJvd3NlcldpbmRvdy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBhbmVsLmNsb3NlKClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAocGFuZWwuZGVsZWdhdGUoKS51dGlscyAmJiBwYW5lbC5kZWxlZ2F0ZSgpLnV0aWxzLnBhcmVudFdpbmRvdykge1xuICAgICAgdmFyIHNob3VsZENsb3NlID0gdHJ1ZVxuICAgICAgYnJvd3NlcldpbmRvdy5lbWl0KCdjbG9zZScsIHtcbiAgICAgICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgICAgcmV0dXJuICFzaG91bGRDbG9zZVxuICAgICAgICB9LFxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2hvdWxkQ2xvc2UgPSBmYWxzZVxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIGlmIChzaG91bGRDbG9zZSkge1xuICAgICAgICBwYW5lbC5kZWxlZ2F0ZSgpLnV0aWxzLnBhcmVudFdpbmRvdy5lbmRTaGVldChwYW5lbClcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghYnJvd3NlcldpbmRvdy5pc0Nsb3NhYmxlKCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHBhbmVsLnBlcmZvcm1DbG9zZShudWxsKVxuICB9XG5cbiAgZnVuY3Rpb24gZm9jdXMoZm9jdXNlZCkge1xuICAgIGlmICghYnJvd3NlcldpbmRvdy5pc1Zpc2libGUoKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICBOU0FwcGxpY2F0aW9uLnNoYXJlZEFwcGxpY2F0aW9uKCkuYWN0aXZhdGVJZ25vcmluZ090aGVyQXBwcyh0cnVlKVxuICAgICAgcGFuZWwubWFrZUtleUFuZE9yZGVyRnJvbnQobnVsbClcbiAgICB9IGVsc2Uge1xuICAgICAgcGFuZWwub3JkZXJCYWNrKG51bGwpXG4gICAgICBOU0FwcC5tYWluV2luZG93KCkubWFrZUtleUFuZE9yZGVyRnJvbnQobnVsbClcbiAgICB9XG4gIH1cblxuICBicm93c2VyV2luZG93LmZvY3VzID0gZm9jdXMuYmluZCh0aGlzLCB0cnVlKVxuICBicm93c2VyV2luZG93LmJsdXIgPSBmb2N1cy5iaW5kKHRoaXMsIGZhbHNlKVxuXG4gIGJyb3dzZXJXaW5kb3cuaXNGb2N1c2VkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBhbmVsLmlzS2V5V2luZG93KClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuaXNEZXN0cm95ZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYnJvd3NlcldpbmRvdy5fZGVzdHJveWVkXG4gIH1cblxuICBicm93c2VyV2luZG93LnNob3cgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUaGlzIG1ldGhvZCBpcyBzdXBwb3NlZCB0byBwdXQgZm9jdXMgb24gd2luZG93LCBob3dldmVyIGlmIHRoZSBhcHAgZG9lcyBub3RcbiAgICAvLyBoYXZlIGZvY3VzIHRoZW4gXCJtYWtlS2V5QW5kT3JkZXJGcm9udFwiIHdpbGwgb25seSBzaG93IHRoZSB3aW5kb3cuXG4gICAgTlNBcHAuYWN0aXZhdGVJZ25vcmluZ090aGVyQXBwcyh0cnVlKVxuXG4gICAgaWYgKHBhbmVsLmRlbGVnYXRlKCkudXRpbHMgJiYgcGFuZWwuZGVsZWdhdGUoKS51dGlscy5wYXJlbnRXaW5kb3cpIHtcbiAgICAgIHJldHVybiBwYW5lbC5kZWxlZ2F0ZSgpLnV0aWxzLnBhcmVudFdpbmRvdy5iZWdpblNoZWV0X2NvbXBsZXRpb25IYW5kbGVyKFxuICAgICAgICBwYW5lbCxcbiAgICAgICAgX19tb2NoYV9fLmNyZWF0ZUJsb2NrX2Z1bmN0aW9uKCd2MTZAPzBxOCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGJyb3dzZXJXaW5kb3cuZW1pdCgnY2xvc2VkJylcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gcGFuZWwubWFrZUtleUFuZE9yZGVyRnJvbnQobnVsbClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2hvd0luYWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBhbmVsLm9yZGVyRnJvbnRSZWdhcmRsZXNzKClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5vcmRlck91dChudWxsKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5pc1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWwuaXNWaXNpYmxlKClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuaXNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5tYXhpbWl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghYnJvd3NlcldpbmRvdy5pc01heGltaXplZCgpKSB7XG4gICAgICBwYW5lbC56b29tKG51bGwpXG4gICAgfVxuICB9XG4gIGJyb3dzZXJXaW5kb3cudW5tYXhpbWl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChicm93c2VyV2luZG93LmlzTWF4aW1pemVkKCkpIHtcbiAgICAgIHBhbmVsLnpvb20obnVsbClcbiAgICB9XG4gIH1cblxuICBicm93c2VyV2luZG93LmlzTWF4aW1pemVkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKChwYW5lbC5zdHlsZU1hc2soKSAmIE5TUmVzaXphYmxlV2luZG93TWFzaykgIT09IDApIHtcbiAgICAgIHJldHVybiBwYW5lbC5pc1pvb21lZCgpXG4gICAgfVxuICAgIHZhciByZWN0U2NyZWVuID0gTlNTY3JlZW4ubWFpblNjcmVlbigpLnZpc2libGVGcmFtZSgpXG4gICAgdmFyIHJlY3RXaW5kb3cgPSBwYW5lbC5mcmFtZSgpXG4gICAgcmV0dXJuIChcbiAgICAgIHJlY3RTY3JlZW4ub3JpZ2luLnggPT0gcmVjdFdpbmRvdy5vcmlnaW4ueCAmJlxuICAgICAgcmVjdFNjcmVlbi5vcmlnaW4ueSA9PSByZWN0V2luZG93Lm9yaWdpbi55ICYmXG4gICAgICByZWN0U2NyZWVuLnNpemUud2lkdGggPT0gcmVjdFdpbmRvdy5zaXplLndpZHRoICYmXG4gICAgICByZWN0U2NyZWVuLnNpemUuaGVpZ2h0ID09IHJlY3RXaW5kb3cuc2l6ZS5oZWlnaHRcbiAgICApXG4gIH1cblxuICBicm93c2VyV2luZG93Lm1pbmltaXplID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBhbmVsLm1pbmlhdHVyaXplKG51bGwpXG4gIH1cblxuICBicm93c2VyV2luZG93LnJlc3RvcmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWwuZGVtaW5pYXR1cml6ZShudWxsKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5pc01pbmltaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5pc01pbmlhdHVyaXplZCgpXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldEZ1bGxTY3JlZW4gPSBmdW5jdGlvbihmdWxsc2NyZWVuKSB7XG4gICAgaWYgKGZ1bGxzY3JlZW4gIT09IGJyb3dzZXJXaW5kb3cuaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgIHBhbmVsLnRvZ2dsZUZ1bGxTY3JlZW4obnVsbClcbiAgICB9XG4gIH1cblxuICBicm93c2VyV2luZG93LmlzRnVsbHNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5zdHlsZU1hc2soKSAmIE5TRnVsbFNjcmVlbldpbmRvd01hc2tcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0QXNwZWN0UmF0aW8gPSBmdW5jdGlvbihhc3BlY3RSYXRpbyAvKiAsIGV4dHJhU2l6ZSAqLykge1xuICAgIC8vIFJlc2V0IHRoZSBiZWhhdmlvdXIgdG8gZGVmYXVsdCBpZiBhc3BlY3RfcmF0aW8gaXMgc2V0IHRvIDAgb3IgbGVzcy5cbiAgICBpZiAoYXNwZWN0UmF0aW8gPiAwLjApIHtcbiAgICAgIHBhbmVsLnNldEFzcGVjdFJhdGlvKE5TTWFrZVNpemUoYXNwZWN0UmF0aW8sIDEuMCkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBhbmVsLnNldFJlc2l6ZUluY3JlbWVudHMoTlNNYWtlU2l6ZSgxLjAsIDEuMCkpXG4gICAgfVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRCb3VuZHMgPSBmdW5jdGlvbihib3VuZHMsIGFuaW1hdGUpIHtcbiAgICBpZiAoIWJvdW5kcykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gRG8gbm90aGluZyBpZiBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAgaWYgKGJyb3dzZXJXaW5kb3cuaXNGdWxsc2NyZWVuKCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG5ld0JvdW5kcyA9IE9iamVjdC5hc3NpZ24oYnJvd3NlcldpbmRvdy5nZXRCb3VuZHMoKSwgYm91bmRzKVxuXG4gICAgLy8gVE9ETzogQ2hlY2sgc2l6ZSBjb25zdHJhaW50cyBzaW5jZSBzZXRGcmFtZSBkb2VzIG5vdCBjaGVjayBpdC5cbiAgICAvLyB2YXIgc2l6ZSA9IGJvdW5kcy5zaXplXG4gICAgLy8gc2l6ZS5TZXRUb01heChHZXRNaW5pbXVtU2l6ZSgpKTtcbiAgICAvLyBnZng6OlNpemUgbWF4X3NpemUgPSBHZXRNYXhpbXVtU2l6ZSgpO1xuICAgIC8vIGlmICghbWF4X3NpemUuSXNFbXB0eSgpKVxuICAgIC8vICAgc2l6ZS5TZXRUb01pbihtYXhfc2l6ZSk7XG5cbiAgICB2YXIgY29jb2FCb3VuZHMgPSBOU01ha2VSZWN0KFxuICAgICAgbmV3Qm91bmRzLngsXG4gICAgICAwLFxuICAgICAgbmV3Qm91bmRzLndpZHRoLFxuICAgICAgbmV3Qm91bmRzLmhlaWdodFxuICAgIClcbiAgICAvLyBGbGlwIFkgY29vcmRpbmF0ZXMgYmFzZWQgb24gdGhlIHByaW1hcnkgc2NyZWVuXG4gICAgdmFyIHNjcmVlbiA9IE5TU2NyZWVuLnNjcmVlbnMoKS5maXJzdE9iamVjdCgpXG4gICAgY29jb2FCb3VuZHMub3JpZ2luLnkgPSBOU0hlaWdodChzY3JlZW4uZnJhbWUoKSkgLSBuZXdCb3VuZHMueVxuXG4gICAgcGFuZWwuc2V0RnJhbWVfZGlzcGxheV9hbmltYXRlKGNvY29hQm91bmRzLCB0cnVlLCBhbmltYXRlKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXRCb3VuZHMgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBjb2NvYUJvdW5kcyA9IHBhbmVsLmZyYW1lKClcbiAgICB2YXIgbWFpblNjcmVlblJlY3QgPSBOU1NjcmVlbi5zY3JlZW5zKClcbiAgICAgIC5maXJzdE9iamVjdCgpXG4gICAgICAuZnJhbWUoKVxuICAgIHJldHVybiB7XG4gICAgICB4OiBjb2NvYUJvdW5kcy5vcmlnaW4ueCxcbiAgICAgIHk6IE1hdGgucm91bmQoTlNIZWlnaHQobWFpblNjcmVlblJlY3QpIC0gY29jb2FCb3VuZHMub3JpZ2luLnkpLFxuICAgICAgd2lkdGg6IGNvY29hQm91bmRzLnNpemUud2lkdGgsXG4gICAgICBoZWlnaHQ6IGNvY29hQm91bmRzLnNpemUuaGVpZ2h0LFxuICAgIH1cbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0Q29udGVudEJvdW5kcyA9IGZ1bmN0aW9uKGJvdW5kcywgYW5pbWF0ZSkge1xuICAgIC8vIFRPRE86XG4gICAgYnJvd3NlcldpbmRvdy5zZXRCb3VuZHMoYm91bmRzLCBhbmltYXRlKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXRDb250ZW50Qm91bmRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzpcbiAgICByZXR1cm4gYnJvd3NlcldpbmRvdy5nZXRCb3VuZHMoKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRTaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgYW5pbWF0ZSkge1xuICAgIC8vIFRPRE86IGhhbmRsZSByZXNpemluZyBhcm91bmQgY2VudGVyXG4gICAgcmV0dXJuIGJyb3dzZXJXaW5kb3cuc2V0Qm91bmRzKHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9LCBhbmltYXRlKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJvdW5kcyA9IGJyb3dzZXJXaW5kb3cuZ2V0Qm91bmRzKClcbiAgICByZXR1cm4gW2JvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodF1cbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0Q29udGVudFNpemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBhbmltYXRlKSB7XG4gICAgLy8gVE9ETzogaGFuZGxlIHJlc2l6aW5nIGFyb3VuZCBjZW50ZXJcbiAgICByZXR1cm4gYnJvd3NlcldpbmRvdy5zZXRDb250ZW50Qm91bmRzKFxuICAgICAgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0sXG4gICAgICBhbmltYXRlXG4gICAgKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXRDb250ZW50U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3VuZHMgPSBicm93c2VyV2luZG93LmdldENvbnRlbnRCb3VuZHMoKVxuICAgIHJldHVybiBbYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0XVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRNaW5pbXVtU2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBtaW5TaXplID0gQ0dTaXplTWFrZSh3aWR0aCwgaGVpZ2h0KVxuICAgIHBhbmVsLnNldENvbnRlbnRNaW5TaXplKG1pblNpemUpXG4gIH1cblxuICBicm93c2VyV2luZG93LmdldE1pbmltdW1TaXplID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHBhbmVsLmNvbnRlbnRNaW5TaXplKClcbiAgICByZXR1cm4gW3NpemUud2lkdGgsIHNpemUuaGVpZ2h0XVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRNYXhpbXVtU2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCBtYXhTaXplID0gQ0dTaXplTWFrZSh3aWR0aCwgaGVpZ2h0KVxuICAgIHBhbmVsLnNldENvbnRlbnRNYXhTaXplKG1heFNpemUpXG4gIH1cblxuICBicm93c2VyV2luZG93LmdldE1heGltdW1TaXplID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3Qgc2l6ZSA9IHBhbmVsLmNvbnRlbnRNYXhTaXplKClcbiAgICByZXR1cm4gW3NpemUud2lkdGgsIHNpemUuaGVpZ2h0XVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRSZXNpemFibGUgPSBmdW5jdGlvbihyZXNpemFibGUpIHtcbiAgICByZXR1cm4gYnJvd3NlcldpbmRvdy5fc2V0U3R5bGVNYXNrKHJlc2l6YWJsZSwgTlNSZXNpemFibGVXaW5kb3dNYXNrKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5pc1Jlc2l6YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5zdHlsZU1hc2soKSAmIE5TUmVzaXphYmxlV2luZG93TWFza1xuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRNb3ZhYmxlID0gZnVuY3Rpb24obW92YWJsZSkge1xuICAgIHJldHVybiBwYW5lbC5zZXRNb3ZhYmxlKG1vdmFibGUpXG4gIH1cbiAgYnJvd3NlcldpbmRvdy5pc01vdmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWwuaXNNb3ZhYmxlKClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0TWluaW1pemFibGUgPSBmdW5jdGlvbihtaW5pbWl6YWJsZSkge1xuICAgIHJldHVybiBicm93c2VyV2luZG93Ll9zZXRTdHlsZU1hc2sobWluaW1pemFibGUsIE5TTWluaWF0dXJpemFibGVXaW5kb3dNYXNrKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5pc01pbmltaXphYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBhbmVsLnN0eWxlTWFzaygpICYgTlNNaW5pYXR1cml6YWJsZVdpbmRvd01hc2tcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0TWF4aW1pemFibGUgPSBmdW5jdGlvbihtYXhpbWl6YWJsZSkge1xuICAgIGlmIChwYW5lbC5zdGFuZGFyZFdpbmRvd0J1dHRvbihOU1dpbmRvd1pvb21CdXR0b24pKSB7XG4gICAgICBwYW5lbC5zdGFuZGFyZFdpbmRvd0J1dHRvbihOU1dpbmRvd1pvb21CdXR0b24pLnNldEVuYWJsZWQobWF4aW1pemFibGUpXG4gICAgfVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5pc01heGltaXphYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKE5TV2luZG93Wm9vbUJ1dHRvbikgJiZcbiAgICAgIHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKE5TV2luZG93Wm9vbUJ1dHRvbikuaXNFbmFibGVkKClcbiAgICApXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldEZ1bGxTY3JlZW5hYmxlID0gZnVuY3Rpb24oZnVsbHNjcmVlbmFibGUpIHtcbiAgICBicm93c2VyV2luZG93Ll9zZXRDb2xsZWN0aW9uQmVoYXZpb3IoXG4gICAgICBmdWxsc2NyZWVuYWJsZSxcbiAgICAgIE5TV2luZG93Q29sbGVjdGlvbkJlaGF2aW9yRnVsbFNjcmVlblByaW1hcnlcbiAgICApXG4gICAgLy8gT24gRUwgQ2FwaXRhbiB0aGlzIGZsYWcgaXMgcmVxdWlyZWQgdG8gaGlkZSBmdWxsc2NyZWVuIGJ1dHRvbi5cbiAgICBicm93c2VyV2luZG93Ll9zZXRDb2xsZWN0aW9uQmVoYXZpb3IoXG4gICAgICAhZnVsbHNjcmVlbmFibGUsXG4gICAgICBOU1dpbmRvd0NvbGxlY3Rpb25CZWhhdmlvckZ1bGxTY3JlZW5BdXhpbGlhcnlcbiAgICApXG4gIH1cblxuICBicm93c2VyV2luZG93LmlzRnVsbFNjcmVlbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29sbGVjdGlvbkJlaGF2aW9yID0gcGFuZWwuY29sbGVjdGlvbkJlaGF2aW9yKClcbiAgICByZXR1cm4gY29sbGVjdGlvbkJlaGF2aW9yICYgTlNXaW5kb3dDb2xsZWN0aW9uQmVoYXZpb3JGdWxsU2NyZWVuUHJpbWFyeVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRDbG9zYWJsZSA9IGZ1bmN0aW9uKGNsb3NhYmxlKSB7XG4gICAgYnJvd3NlcldpbmRvdy5fc2V0U3R5bGVNYXNrKGNsb3NhYmxlLCBOU0Nsb3NhYmxlV2luZG93TWFzaylcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuaXNDbG9zYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5zdHlsZU1hc2soKSAmIE5TQ2xvc2FibGVXaW5kb3dNYXNrXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldEFsd2F5c09uVG9wID0gZnVuY3Rpb24odG9wLCBsZXZlbCwgcmVsYXRpdmVMZXZlbCkge1xuICAgIHZhciB3aW5kb3dMZXZlbCA9IE5TTm9ybWFsV2luZG93TGV2ZWxcbiAgICB2YXIgbWF4V2luZG93TGV2ZWwgPSBDR1dpbmRvd0xldmVsRm9yS2V5KGtDR01heGltdW1XaW5kb3dMZXZlbEtleSlcbiAgICB2YXIgbWluV2luZG93TGV2ZWwgPSBDR1dpbmRvd0xldmVsRm9yS2V5KGtDR01pbmltdW1XaW5kb3dMZXZlbEtleSlcblxuICAgIGlmICh0b3ApIHtcbiAgICAgIGlmIChsZXZlbCA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgd2luZG93TGV2ZWwgPSBOU05vcm1hbFdpbmRvd0xldmVsXG4gICAgICB9IGVsc2UgaWYgKGxldmVsID09PSAndG9ybi1vZmYtbWVudScpIHtcbiAgICAgICAgd2luZG93TGV2ZWwgPSBOU1Rvcm5PZmZNZW51V2luZG93TGV2ZWxcbiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09ICdtb2RhbC1wYW5lbCcpIHtcbiAgICAgICAgd2luZG93TGV2ZWwgPSBOU01vZGFsUGFuZWxXaW5kb3dMZXZlbFxuICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gJ21haW4tbWVudScpIHtcbiAgICAgICAgd2luZG93TGV2ZWwgPSBOU01haW5NZW51V2luZG93TGV2ZWxcbiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09ICdzdGF0dXMnKSB7XG4gICAgICAgIHdpbmRvd0xldmVsID0gTlNTdGF0dXNXaW5kb3dMZXZlbFxuICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gJ3BvcC11cC1tZW51Jykge1xuICAgICAgICB3aW5kb3dMZXZlbCA9IE5TUG9wVXBNZW51V2luZG93TGV2ZWxcbiAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT09ICdzY3JlZW4tc2F2ZXInKSB7XG4gICAgICAgIHdpbmRvd0xldmVsID0gTlNTY3JlZW5TYXZlcldpbmRvd0xldmVsXG4gICAgICB9IGVsc2UgaWYgKGxldmVsID09PSAnZG9jaycpIHtcbiAgICAgICAgLy8gRGVwcmVjYXRlZCBieSBtYWNPUywgYnV0IGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgIHdpbmRvd0xldmVsID0gTlNEb2NrV2luZG93TGV2ZWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvd0xldmVsID0gTlNGbG9hdGluZ1dpbmRvd0xldmVsXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5ld0xldmVsID0gd2luZG93TGV2ZWwgKyAocmVsYXRpdmVMZXZlbCB8fCAwKVxuICAgIGlmIChuZXdMZXZlbCA+PSBtaW5XaW5kb3dMZXZlbCAmJiBuZXdMZXZlbCA8PSBtYXhXaW5kb3dMZXZlbCkge1xuICAgICAgcGFuZWwuc2V0TGV2ZWwobmV3TGV2ZWwpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3JlbGF0aXZlTGV2ZWwgbXVzdCBiZSBiZXR3ZWVuICcgK1xuICAgICAgICAgIG1pbldpbmRvd0xldmVsICtcbiAgICAgICAgICAnIGFuZCAnICtcbiAgICAgICAgICBtYXhXaW5kb3dMZXZlbFxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuaXNBbHdheXNPblRvcCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5sZXZlbCgpICE9PSBOU05vcm1hbFdpbmRvd0xldmVsXG4gIH1cblxuICBicm93c2VyV2luZG93Lm1vdmVUb3AgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWwub3JkZXJGcm9udFJlZ2FyZGxlc3MoKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5jZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICBwYW5lbC5jZW50ZXIoKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHksIGFuaW1hdGUpIHtcbiAgICByZXR1cm4gYnJvd3NlcldpbmRvdy5zZXRCb3VuZHMoeyB4OiB4LCB5OiB5IH0sIGFuaW1hdGUpXG4gIH1cblxuICBicm93c2VyV2luZG93LmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJvdW5kcyA9IGJyb3dzZXJXaW5kb3cuZ2V0Qm91bmRzKClcbiAgICByZXR1cm4gW2JvdW5kcy54LCBib3VuZHMueV1cbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0VGl0bGUgPSBmdW5jdGlvbih0aXRsZSkge1xuICAgIHBhbmVsLnNldFRpdGxlKHRpdGxlKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXRUaXRsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBTdHJpbmcocGFuZWwudGl0bGUoKSlcbiAgfVxuXG4gIHZhciBhdHRlbnRpb25SZXF1ZXN0SWQgPSAwXG4gIGJyb3dzZXJXaW5kb3cuZmxhc2hGcmFtZSA9IGZ1bmN0aW9uKGZsYXNoKSB7XG4gICAgaWYgKGZsYXNoKSB7XG4gICAgICBhdHRlbnRpb25SZXF1ZXN0SWQgPSBOU0FwcC5yZXF1ZXN0VXNlckF0dGVudGlvbihOU0luZm9ybWF0aW9uYWxSZXF1ZXN0KVxuICAgIH0gZWxzZSB7XG4gICAgICBOU0FwcC5jYW5jZWxVc2VyQXR0ZW50aW9uUmVxdWVzdChhdHRlbnRpb25SZXF1ZXN0SWQpXG4gICAgICBhdHRlbnRpb25SZXF1ZXN0SWQgPSAwXG4gICAgfVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5nZXROYXRpdmVXaW5kb3dIYW5kbGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWxcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuZ2V0TmF0aXZlV2ViVmlld0hhbmRsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB3ZWJ2aWV3XG4gIH1cblxuICBicm93c2VyV2luZG93LmxvYWRVUkwgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAvLyBXaGVuIGZyYW1lTG9jYXRpb24gaXMgYSBmaWxlLCBwcmVmaXggaXQgd2l0aCB0aGUgU2tldGNoIFJlc291cmNlcyBwYXRoXG4gICAgaWYgKC9eKD8haHR0cHM/fGZpbGUpLipcXC5odG1sPyQvLnRlc3QodXJsKSkge1xuICAgICAgaWYgKHR5cGVvZiBfX2NvbW1hbmQgIT09ICd1bmRlZmluZWQnICYmIF9fY29tbWFuZC5wbHVnaW5CdW5kbGUoKSkge1xuICAgICAgICB1cmwgPVxuICAgICAgICAgICdmaWxlOi8vJyArXG4gICAgICAgICAgX19jb21tYW5kXG4gICAgICAgICAgICAucGx1Z2luQnVuZGxlKClcbiAgICAgICAgICAgIC51cmxGb3JSZXNvdXJjZU5hbWVkKHVybClcbiAgICAgICAgICAgIC5wYXRoKClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoL15maWxlOlxcL1xcLy4qXFwuaHRtbD8kLy50ZXN0KHVybCkpIHtcbiAgICAgIC8vIGVuc3VyZSBVUkxzIGNvbnRhaW5pbmcgc3BhY2VzIGFyZSBwcm9wZXJseSBoYW5kbGVkXG4gICAgICB1cmwgPSBOU1N0cmluZy5hbGxvYygpLmluaXRXaXRoU3RyaW5nKHVybClcbiAgICAgIHVybCA9IHVybC5zdHJpbmdCeUFkZGluZ1BlcmNlbnRFbmNvZGluZ1dpdGhBbGxvd2VkQ2hhcmFjdGVycyhcbiAgICAgICAgTlNDaGFyYWN0ZXJTZXQuVVJMUXVlcnlBbGxvd2VkQ2hhcmFjdGVyU2V0KClcbiAgICAgIClcbiAgICAgIHdlYnZpZXcubG9hZEZpbGVVUkxfYWxsb3dpbmdSZWFkQWNjZXNzVG9VUkwoXG4gICAgICAgIE5TVVJMLlVSTFdpdGhTdHJpbmcodXJsKSxcbiAgICAgICAgTlNVUkwuVVJMV2l0aFN0cmluZygnZmlsZTovLy8nKVxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgcHJvcGVyVVJMID0gTlNVUkwuVVJMV2l0aFN0cmluZyh1cmwpXG4gICAgY29uc3QgdXJsUmVxdWVzdCA9IE5TVVJMUmVxdWVzdC5yZXF1ZXN0V2l0aFVSTChwcm9wZXJVUkwpXG5cbiAgICB3ZWJ2aWV3LmxvYWRSZXF1ZXN0KHVybFJlcXVlc3QpXG4gIH1cblxuICBicm93c2VyV2luZG93LnJlbG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHdlYnZpZXcucmVsb2FkKClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0SGFzU2hhZG93ID0gZnVuY3Rpb24oaGFzU2hhZG93KSB7XG4gICAgcmV0dXJuIHBhbmVsLnNldEhhc1NoYWRvdyhoYXNTaGFkb3cpXG4gIH1cblxuICBicm93c2VyV2luZG93Lmhhc1NoYWRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwYW5lbC5oYXNTaGFkb3coKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5zZXRPcGFjaXR5ID0gZnVuY3Rpb24ob3BhY2l0eSkge1xuICAgIHJldHVybiBwYW5lbC5zZXRBbHBoYVZhbHVlKG9wYWNpdHkpXG4gIH1cblxuICBicm93c2VyV2luZG93LmdldE9wYWNpdHkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcGFuZWwuYWxwaGFWYWx1ZSgpXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldFZpc2libGVPbkFsbFdvcmtzcGFjZXMgPSBmdW5jdGlvbih2aXNpYmxlKSB7XG4gICAgcmV0dXJuIGJyb3dzZXJXaW5kb3cuX3NldENvbGxlY3Rpb25CZWhhdmlvcihcbiAgICAgIHZpc2libGUsXG4gICAgICBOU1dpbmRvd0NvbGxlY3Rpb25CZWhhdmlvckNhbkpvaW5BbGxTcGFjZXNcbiAgICApXG4gIH1cblxuICBicm93c2VyV2luZG93LmlzVmlzaWJsZU9uQWxsV29ya3NwYWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb2xsZWN0aW9uQmVoYXZpb3IgPSBwYW5lbC5jb2xsZWN0aW9uQmVoYXZpb3IoKVxuICAgIHJldHVybiBjb2xsZWN0aW9uQmVoYXZpb3IgJiBOU1dpbmRvd0NvbGxlY3Rpb25CZWhhdmlvckNhbkpvaW5BbGxTcGFjZXNcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0SWdub3JlTW91c2VFdmVudHMgPSBmdW5jdGlvbihpZ25vcmUpIHtcbiAgICByZXR1cm4gcGFuZWwuc2V0SWdub3Jlc01vdXNlRXZlbnRzKGlnbm9yZSlcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuc2V0Q29udGVudFByb3RlY3Rpb24gPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICBwYW5lbC5zZXRTaGFyaW5nVHlwZShlbmFibGUgPyBOU1dpbmRvd1NoYXJpbmdOb25lIDogTlNXaW5kb3dTaGFyaW5nUmVhZE9ubHkpXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldEF1dG9IaWRlQ3Vyc29yID0gZnVuY3Rpb24oYXV0b0hpZGUpIHtcbiAgICBwYW5lbC5zZXREaXNhYmxlQXV0b0hpZGVDdXJzb3IoYXV0b0hpZGUpXG4gIH1cblxuICBicm93c2VyV2luZG93LnNldFZpYnJhbmN5ID0gZnVuY3Rpb24odHlwZSkge1xuICAgIHZhciBlZmZlY3RWaWV3ID0gYnJvd3NlcldpbmRvdy5fdmlicmFudFZpZXdcblxuICAgIGlmICghdHlwZSkge1xuICAgICAgaWYgKGVmZmVjdFZpZXcgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgZWZmZWN0Vmlldy5yZW1vdmVGcm9tU3VwZXJ2aWV3KClcbiAgICAgIHBhbmVsLnNldFZpYnJhbnRWaWV3KG51bGwpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoZWZmZWN0VmlldyA9PSBudWxsKSB7XG4gICAgICB2YXIgY29udGVudFZpZXcgPSBwYW5lbC5jb250ZW50VmlldygpXG4gICAgICBlZmZlY3RWaWV3ID0gTlNWaXN1YWxFZmZlY3RWaWV3LmFsbG9jKCkuaW5pdFdpdGhGcmFtZShcbiAgICAgICAgY29udGVudFZpZXcuYm91bmRzKClcbiAgICAgIClcbiAgICAgIGJyb3dzZXJXaW5kb3cuX3ZpYnJhbnRWaWV3ID0gZWZmZWN0Vmlld1xuXG4gICAgICBlZmZlY3RWaWV3LnNldEF1dG9yZXNpemluZ01hc2soTlNWaWV3V2lkdGhTaXphYmxlIHwgTlNWaWV3SGVpZ2h0U2l6YWJsZSlcbiAgICAgIGVmZmVjdFZpZXcuc2V0QmxlbmRpbmdNb2RlKE5TVmlzdWFsRWZmZWN0QmxlbmRpbmdNb2RlQmVoaW5kV2luZG93KVxuICAgICAgZWZmZWN0Vmlldy5zZXRTdGF0ZShOU1Zpc3VhbEVmZmVjdFN0YXRlQWN0aXZlKVxuICAgICAgZWZmZWN0Vmlldy5zZXRGcmFtZShjb250ZW50Vmlldy5ib3VuZHMoKSlcbiAgICAgIGNvbnRlbnRWaWV3LmFkZFN1YnZpZXdfcG9zaXRpb25lZF9yZWxhdGl2ZVRvKFxuICAgICAgICBlZmZlY3RWaWV3LFxuICAgICAgICBOU1dpbmRvd0JlbG93LFxuICAgICAgICBudWxsXG4gICAgICApXG4gICAgfVxuXG4gICAgdmFyIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxMaWdodFxuXG4gICAgaWYgKHR5cGUgPT09ICdhcHBlYXJhbmNlLWJhc2VkJykge1xuICAgICAgdmlicmFuY3lUeXBlID0gTlNWaXN1YWxFZmZlY3RNYXRlcmlhbEFwcGVhcmFuY2VCYXNlZFxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xpZ2h0Jykge1xuICAgICAgdmlicmFuY3lUeXBlID0gTlNWaXN1YWxFZmZlY3RNYXRlcmlhbExpZ2h0XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZGFyaycpIHtcbiAgICAgIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxEYXJrXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAndGl0bGViYXInKSB7XG4gICAgICB2aWJyYW5jeVR5cGUgPSBOU1Zpc3VhbEVmZmVjdE1hdGVyaWFsVGl0bGViYXJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzZWxlY3Rpb24nKSB7XG4gICAgICB2aWJyYW5jeVR5cGUgPSBOU1Zpc3VhbEVmZmVjdE1hdGVyaWFsU2VsZWN0aW9uXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWVudScpIHtcbiAgICAgIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxNZW51XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAncG9wb3ZlcicpIHtcbiAgICAgIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxQb3BvdmVyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2lkZWJhcicpIHtcbiAgICAgIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxTaWRlYmFyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbWVkaXVtLWxpZ2h0Jykge1xuICAgICAgdmlicmFuY3lUeXBlID0gTlNWaXN1YWxFZmZlY3RNYXRlcmlhbE1lZGl1bUxpZ2h0XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAndWx0cmEtZGFyaycpIHtcbiAgICAgIHZpYnJhbmN5VHlwZSA9IE5TVmlzdWFsRWZmZWN0TWF0ZXJpYWxVbHRyYURhcmtcbiAgICB9XG5cbiAgICBlZmZlY3RWaWV3LnNldE1hdGVyaWFsKHZpYnJhbmN5VHlwZSlcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuX3NldEJhY2tncm91bmRDb2xvciA9IGZ1bmN0aW9uKGNvbG9yTmFtZSkge1xuICAgIHZhciBjb2xvciA9IHBhcnNlSGV4Q29sb3IoY29sb3JOYW1lKVxuICAgIHdlYnZpZXcuc2V0VmFsdWVfZm9yS2V5KGZhbHNlLCAnZHJhd3NCYWNrZ3JvdW5kJylcbiAgICBwYW5lbC5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvclxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5faW52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHBhbmVsLmZsdXNoV2luZG93KClcbiAgICBwYW5lbC5jb250ZW50VmlldygpLnNldE5lZWRzRGlzcGxheSh0cnVlKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5fc2V0U3R5bGVNYXNrID0gZnVuY3Rpb24ob24sIGZsYWcpIHtcbiAgICB2YXIgd2FzTWF4aW1pemFibGUgPSBicm93c2VyV2luZG93LmlzTWF4aW1pemFibGUoKVxuICAgIGlmIChvbikge1xuICAgICAgcGFuZWwuc2V0U3R5bGVNYXNrKHBhbmVsLnN0eWxlTWFzaygpIHwgZmxhZylcbiAgICB9IGVsc2Uge1xuICAgICAgcGFuZWwuc2V0U3R5bGVNYXNrKHBhbmVsLnN0eWxlTWFzaygpICYgfmZsYWcpXG4gICAgfVxuICAgIC8vIENoYW5nZSBzdHlsZSBtYXNrIHdpbGwgbWFrZSB0aGUgem9vbSBidXR0b24gcmV2ZXJ0IHRvIGRlZmF1bHQsIHByb2JhYmx5XG4gICAgLy8gYSBidWcgb2YgQ29jb2Egb3IgbWFjT1MuXG4gICAgYnJvd3NlcldpbmRvdy5zZXRNYXhpbWl6YWJsZSh3YXNNYXhpbWl6YWJsZSlcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuX3NldENvbGxlY3Rpb25CZWhhdmlvciA9IGZ1bmN0aW9uKG9uLCBmbGFnKSB7XG4gICAgdmFyIHdhc01heGltaXphYmxlID0gYnJvd3NlcldpbmRvdy5pc01heGltaXphYmxlKClcbiAgICBpZiAob24pIHtcbiAgICAgIHBhbmVsLnNldENvbGxlY3Rpb25CZWhhdmlvcihwYW5lbC5jb2xsZWN0aW9uQmVoYXZpb3IoKSB8IGZsYWcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHBhbmVsLnNldENvbGxlY3Rpb25CZWhhdmlvcihwYW5lbC5jb2xsZWN0aW9uQmVoYXZpb3IoKSAmIH5mbGFnKVxuICAgIH1cbiAgICAvLyBDaGFuZ2UgY29sbGVjdGlvbkJlaGF2aW9yIHdpbGwgbWFrZSB0aGUgem9vbSBidXR0b24gcmV2ZXJ0IHRvIGRlZmF1bHQsXG4gICAgLy8gcHJvYmFibHkgYSBidWcgb2YgQ29jb2Egb3IgbWFjT1MuXG4gICAgYnJvd3NlcldpbmRvdy5zZXRNYXhpbWl6YWJsZSh3YXNNYXhpbWl6YWJsZSlcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cuX3Nob3dXaW5kb3dCdXR0b24gPSBmdW5jdGlvbihidXR0b24pIHtcbiAgICB2YXIgdmlldyA9IHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKGJ1dHRvbilcbiAgICB2aWV3LnN1cGVydmlldygpLmFkZFN1YnZpZXdfcG9zaXRpb25lZF9yZWxhdGl2ZSh2aWV3LCBOU1dpbmRvd0Fib3ZlLCBudWxsKVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/browser-api.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\n  JS_BRIDGE: '__skpm_sketchBridge',\n  START_MOVING_WINDOW: '__skpm_startMovingWindow',\n  EXECUTE_JAVASCRIPT: '__skpm_executeJS',\n  EXECUTE_JAVASCRIPT_SUCCESS: '__skpm_executeJS_success_',\n  EXECUTE_JAVASCRIPT_ERROR: '__skpm_executeJS_error_',\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvY29uc3RhbnRzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy8uL25vZGVfbW9kdWxlcy9za2V0Y2gtbW9kdWxlLXdlYi12aWV3L2xpYi9jb25zdGFudHMuanM/MzdmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgSlNfQlJJREdFOiAnX19za3BtX3NrZXRjaEJyaWRnZScsXG4gIFNUQVJUX01PVklOR19XSU5ET1c6ICdfX3NrcG1fc3RhcnRNb3ZpbmdXaW5kb3cnLFxuICBFWEVDVVRFX0pBVkFTQ1JJUFQ6ICdfX3NrcG1fZXhlY3V0ZUpTJyxcbiAgRVhFQ1VURV9KQVZBU0NSSVBUX1NVQ0NFU1M6ICdfX3NrcG1fZXhlY3V0ZUpTX3N1Y2Nlc3NfJyxcbiAgRVhFQ1VURV9KQVZBU0NSSVBUX0VSUk9SOiAnX19za3BtX2V4ZWN1dGVKU19lcnJvcl8nLFxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/constants.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var tagsToFocus =\n  '[\"text\", \"textarea\", \"date\", \"datetime-local\", \"email\", \"number\", \"month\", \"password\", \"search\", \"tel\", \"time\", \"url\", \"week\" ]'\n\nmodule.exports = function(webView, event) {\n  var point = webView.convertPoint_fromView(event.locationInWindow(), null)\n  return (\n    'var el = document.elementFromPoint(' + // get the DOM element that match the event\n    point.x +\n    ', ' +\n    point.y +\n    '); ' +\n    'if (el && ' + // some tags need to be focused instead of clicked\n    tagsToFocus +\n    '.indexOf(el.type) >= 0 && ' +\n    'el.focus' +\n    ') {' +\n    'el.focus();' + // so focus them\n    '} else if (el) {' +\n    'el.dispatchEvent(new Event(\"click\", {bubbles: true}))' + // click the others\n    '}'\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvZGlzcGF0Y2gtZmlyc3QtY2xpY2suanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL2Rpc3BhdGNoLWZpcnN0LWNsaWNrLmpzPzk0YzUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRhZ3NUb0ZvY3VzID1cbiAgJ1tcInRleHRcIiwgXCJ0ZXh0YXJlYVwiLCBcImRhdGVcIiwgXCJkYXRldGltZS1sb2NhbFwiLCBcImVtYWlsXCIsIFwibnVtYmVyXCIsIFwibW9udGhcIiwgXCJwYXNzd29yZFwiLCBcInNlYXJjaFwiLCBcInRlbFwiLCBcInRpbWVcIiwgXCJ1cmxcIiwgXCJ3ZWVrXCIgXSdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3ZWJWaWV3LCBldmVudCkge1xuICB2YXIgcG9pbnQgPSB3ZWJWaWV3LmNvbnZlcnRQb2ludF9mcm9tVmlldyhldmVudC5sb2NhdGlvbkluV2luZG93KCksIG51bGwpXG4gIHJldHVybiAoXG4gICAgJ3ZhciBlbCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoJyArIC8vIGdldCB0aGUgRE9NIGVsZW1lbnQgdGhhdCBtYXRjaCB0aGUgZXZlbnRcbiAgICBwb2ludC54ICtcbiAgICAnLCAnICtcbiAgICBwb2ludC55ICtcbiAgICAnKTsgJyArXG4gICAgJ2lmIChlbCAmJiAnICsgLy8gc29tZSB0YWdzIG5lZWQgdG8gYmUgZm9jdXNlZCBpbnN0ZWFkIG9mIGNsaWNrZWRcbiAgICB0YWdzVG9Gb2N1cyArXG4gICAgJy5pbmRleE9mKGVsLnR5cGUpID49IDAgJiYgJyArXG4gICAgJ2VsLmZvY3VzJyArXG4gICAgJykgeycgK1xuICAgICdlbC5mb2N1cygpOycgKyAvLyBzbyBmb2N1cyB0aGVtXG4gICAgJ30gZWxzZSBpZiAoZWwpIHsnICtcbiAgICAnZWwuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJjbGlja1wiLCB7YnViYmxlczogdHJ1ZX0pKScgKyAvLyBjbGljayB0aGUgb3RoZXJzXG4gICAgJ30nXG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/dispatch-first-click.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/execute-javascript.js":
/*!***********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/execute-javascript.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(Promise) {var CONSTANTS = __webpack_require__(/*! ./constants */ \"./node_modules/sketch-module-web-view/lib/constants.js\")\n\nmodule.exports = function(webview, browserWindow) {\n  function executeJavaScript(script, userGesture, callback) {\n    if (typeof userGesture === 'function') {\n      callback = userGesture\n      userGesture = false\n    }\n    var fiber = coscript.createFiber()\n\n    // if the webview is not ready yet, defer the execution until it is\n    if (\n      webview.navigationDelegate().state &&\n      webview.navigationDelegate().state.wasReady == 0\n    ) {\n      return new Promise(function(resolve, reject) {\n        browserWindow.once('ready-to-show', function() {\n          executeJavaScript(script, userGesture, callback)\n            .then(resolve)\n            .catch(reject)\n          fiber.cleanup()\n        })\n      })\n    }\n\n    return new Promise(function(resolve, reject) {\n      var requestId = Math.random()\n\n      browserWindow.webContents.on(\n        CONSTANTS.EXECUTE_JAVASCRIPT_SUCCESS + requestId,\n        function(res) {\n          try {\n            if (callback) {\n              callback(null, res)\n            }\n            resolve(res)\n          } catch (err) {\n            reject(err)\n          }\n          fiber.cleanup()\n        }\n      )\n      browserWindow.webContents.on(\n        CONSTANTS.EXECUTE_JAVASCRIPT_ERROR + requestId,\n        function(err) {\n          try {\n            if (callback) {\n              callback(err)\n              resolve()\n            } else {\n              reject(err)\n            }\n          } catch (err2) {\n            reject(err2)\n          }\n          fiber.cleanup()\n        }\n      )\n\n      webview.evaluateJavaScript_completionHandler(\n        module.exports.wrapScript(script, requestId),\n        null\n      )\n    })\n  }\n\n  return executeJavaScript\n}\n\nmodule.exports.wrapScript = function(script, requestId) {\n  return (\n    'window.' +\n    CONSTANTS.EXECUTE_JAVASCRIPT +\n    '(' +\n    requestId +\n    ', ' +\n    JSON.stringify(script) +\n    ')'\n  )\n}\n\nmodule.exports.injectScript = function(webView) {\n  var source =\n    'window.' +\n    CONSTANTS.EXECUTE_JAVASCRIPT +\n    ' = function(id, script) {' +\n    '  try {' +\n    '    var res = eval(script);' +\n    '    if (res && typeof res.then === \"function\" && typeof res.catch === \"function\") {' +\n    '      res.then(function (res2) {' +\n    '        window.postMessage(\"' +\n    CONSTANTS.EXECUTE_JAVASCRIPT_SUCCESS +\n    '\" + id, res2);' +\n    '      })' +\n    '      .catch(function (err) {' +\n    '        window.postMessage(\"' +\n    CONSTANTS.EXECUTE_JAVASCRIPT_ERROR +\n    '\" + id, err);' +\n    '      })' +\n    '    } else {' +\n    '      window.postMessage(\"' +\n    CONSTANTS.EXECUTE_JAVASCRIPT_SUCCESS +\n    '\" + id, res);' +\n    '    }' +\n    '  } catch (err) {' +\n    '    window.postMessage(\"' +\n    CONSTANTS.EXECUTE_JAVASCRIPT_ERROR +\n    '\" + id, err);' +\n    '  }' +\n    '}'\n  var script = WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(\n    source,\n    0,\n    true\n  )\n  webView\n    .configuration()\n    .userContentController()\n    .addUserScript(script)\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@skpm/promise/index.js */ \"./node_modules/@skpm/promise/index.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvZXhlY3V0ZS1qYXZhc2NyaXB0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy8uL25vZGVfbW9kdWxlcy9za2V0Y2gtbW9kdWxlLXdlYi12aWV3L2xpYi9leGVjdXRlLWphdmFzY3JpcHQuanM/ZDM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ09OU1RBTlRTID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHdlYnZpZXcsIGJyb3dzZXJXaW5kb3cpIHtcbiAgZnVuY3Rpb24gZXhlY3V0ZUphdmFTY3JpcHQoc2NyaXB0LCB1c2VyR2VzdHVyZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHVzZXJHZXN0dXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHVzZXJHZXN0dXJlXG4gICAgICB1c2VyR2VzdHVyZSA9IGZhbHNlXG4gICAgfVxuICAgIHZhciBmaWJlciA9IGNvc2NyaXB0LmNyZWF0ZUZpYmVyKClcblxuICAgIC8vIGlmIHRoZSB3ZWJ2aWV3IGlzIG5vdCByZWFkeSB5ZXQsIGRlZmVyIHRoZSBleGVjdXRpb24gdW50aWwgaXQgaXNcbiAgICBpZiAoXG4gICAgICB3ZWJ2aWV3Lm5hdmlnYXRpb25EZWxlZ2F0ZSgpLnN0YXRlICYmXG4gICAgICB3ZWJ2aWV3Lm5hdmlnYXRpb25EZWxlZ2F0ZSgpLnN0YXRlLndhc1JlYWR5ID09IDBcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgYnJvd3NlcldpbmRvdy5vbmNlKCdyZWFkeS10by1zaG93JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhlY3V0ZUphdmFTY3JpcHQoc2NyaXB0LCB1c2VyR2VzdHVyZSwgY2FsbGJhY2spXG4gICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgLmNhdGNoKHJlamVjdClcbiAgICAgICAgICBmaWJlci5jbGVhbnVwKClcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3RJZCA9IE1hdGgucmFuZG9tKClcblxuICAgICAgYnJvd3NlcldpbmRvdy53ZWJDb250ZW50cy5vbihcbiAgICAgICAgQ09OU1RBTlRTLkVYRUNVVEVfSkFWQVNDUklQVF9TVUNDRVNTICsgcmVxdWVzdElkLFxuICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUocmVzKVxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICB9XG4gICAgICAgICAgZmliZXIuY2xlYW51cCgpXG4gICAgICAgIH1cbiAgICAgIClcbiAgICAgIGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMub24oXG4gICAgICAgIENPTlNUQU5UUy5FWEVDVVRFX0pBVkFTQ1JJUFRfRVJST1IgKyByZXF1ZXN0SWQsXG4gICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKVxuICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyMikge1xuICAgICAgICAgICAgcmVqZWN0KGVycjIpXG4gICAgICAgICAgfVxuICAgICAgICAgIGZpYmVyLmNsZWFudXAoKVxuICAgICAgICB9XG4gICAgICApXG5cbiAgICAgIHdlYnZpZXcuZXZhbHVhdGVKYXZhU2NyaXB0X2NvbXBsZXRpb25IYW5kbGVyKFxuICAgICAgICBtb2R1bGUuZXhwb3J0cy53cmFwU2NyaXB0KHNjcmlwdCwgcmVxdWVzdElkKSxcbiAgICAgICAgbnVsbFxuICAgICAgKVxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gZXhlY3V0ZUphdmFTY3JpcHRcbn1cblxubW9kdWxlLmV4cG9ydHMud3JhcFNjcmlwdCA9IGZ1bmN0aW9uKHNjcmlwdCwgcmVxdWVzdElkKSB7XG4gIHJldHVybiAoXG4gICAgJ3dpbmRvdy4nICtcbiAgICBDT05TVEFOVFMuRVhFQ1VURV9KQVZBU0NSSVBUICtcbiAgICAnKCcgK1xuICAgIHJlcXVlc3RJZCArXG4gICAgJywgJyArXG4gICAgSlNPTi5zdHJpbmdpZnkoc2NyaXB0KSArXG4gICAgJyknXG4gIClcbn1cblxubW9kdWxlLmV4cG9ydHMuaW5qZWN0U2NyaXB0ID0gZnVuY3Rpb24od2ViVmlldykge1xuICB2YXIgc291cmNlID1cbiAgICAnd2luZG93LicgK1xuICAgIENPTlNUQU5UUy5FWEVDVVRFX0pBVkFTQ1JJUFQgK1xuICAgICcgPSBmdW5jdGlvbihpZCwgc2NyaXB0KSB7JyArXG4gICAgJyAgdHJ5IHsnICtcbiAgICAnICAgIHZhciByZXMgPSBldmFsKHNjcmlwdCk7JyArXG4gICAgJyAgICBpZiAocmVzICYmIHR5cGVvZiByZXMudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiByZXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikgeycgK1xuICAgICcgICAgICByZXMudGhlbihmdW5jdGlvbiAocmVzMikgeycgK1xuICAgICcgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShcIicgK1xuICAgIENPTlNUQU5UUy5FWEVDVVRFX0pBVkFTQ1JJUFRfU1VDQ0VTUyArXG4gICAgJ1wiICsgaWQsIHJlczIpOycgK1xuICAgICcgICAgICB9KScgK1xuICAgICcgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgeycgK1xuICAgICcgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZShcIicgK1xuICAgIENPTlNUQU5UUy5FWEVDVVRFX0pBVkFTQ1JJUFRfRVJST1IgK1xuICAgICdcIiArIGlkLCBlcnIpOycgK1xuICAgICcgICAgICB9KScgK1xuICAgICcgICAgfSBlbHNlIHsnICtcbiAgICAnICAgICAgd2luZG93LnBvc3RNZXNzYWdlKFwiJyArXG4gICAgQ09OU1RBTlRTLkVYRUNVVEVfSkFWQVNDUklQVF9TVUNDRVNTICtcbiAgICAnXCIgKyBpZCwgcmVzKTsnICtcbiAgICAnICAgIH0nICtcbiAgICAnICB9IGNhdGNoIChlcnIpIHsnICtcbiAgICAnICAgIHdpbmRvdy5wb3N0TWVzc2FnZShcIicgK1xuICAgIENPTlNUQU5UUy5FWEVDVVRFX0pBVkFTQ1JJUFRfRVJST1IgK1xuICAgICdcIiArIGlkLCBlcnIpOycgK1xuICAgICcgIH0nICtcbiAgICAnfSdcbiAgdmFyIHNjcmlwdCA9IFdLVXNlclNjcmlwdC5hbGxvYygpLmluaXRXaXRoU291cmNlX2luamVjdGlvblRpbWVfZm9yTWFpbkZyYW1lT25seShcbiAgICBzb3VyY2UsXG4gICAgMCxcbiAgICB0cnVlXG4gIClcbiAgd2ViVmlld1xuICAgIC5jb25maWd1cmF0aW9uKClcbiAgICAudXNlckNvbnRlbnRDb250cm9sbGVyKClcbiAgICAuYWRkVXNlclNjcmlwdChzY3JpcHQpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/execute-javascript.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function addEdgeConstraint(edge, subview, view, constant) {\n  view.addConstraint(\n    NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(\n      subview,\n      edge,\n      NSLayoutRelationEqual,\n      view,\n      edge,\n      1,\n      constant\n    )\n  )\n}\nmodule.exports = function fitSubviewToView(subview, view, constants) {\n  constants = constants || []\n  subview.setTranslatesAutoresizingMaskIntoConstraints(false)\n\n  addEdgeConstraint(NSLayoutAttributeLeft, subview, view, constants[0] || 0)\n  addEdgeConstraint(NSLayoutAttributeTop, subview, view, constants[1] || 0)\n  addEdgeConstraint(NSLayoutAttributeRight, subview, view, constants[2] || 0)\n  addEdgeConstraint(NSLayoutAttributeBottom, subview, view, constants[3] || 0)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvZml0U3Vidmlldy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvZml0U3Vidmlldy5qcz9jNmVjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFkZEVkZ2VDb25zdHJhaW50KGVkZ2UsIHN1YnZpZXcsIHZpZXcsIGNvbnN0YW50KSB7XG4gIHZpZXcuYWRkQ29uc3RyYWludChcbiAgICBOU0xheW91dENvbnN0cmFpbnQuY29uc3RyYWludFdpdGhJdGVtX2F0dHJpYnV0ZV9yZWxhdGVkQnlfdG9JdGVtX2F0dHJpYnV0ZV9tdWx0aXBsaWVyX2NvbnN0YW50KFxuICAgICAgc3VidmlldyxcbiAgICAgIGVkZ2UsXG4gICAgICBOU0xheW91dFJlbGF0aW9uRXF1YWwsXG4gICAgICB2aWV3LFxuICAgICAgZWRnZSxcbiAgICAgIDEsXG4gICAgICBjb25zdGFudFxuICAgIClcbiAgKVxufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBmaXRTdWJ2aWV3VG9WaWV3KHN1YnZpZXcsIHZpZXcsIGNvbnN0YW50cykge1xuICBjb25zdGFudHMgPSBjb25zdGFudHMgfHwgW11cbiAgc3Vidmlldy5zZXRUcmFuc2xhdGVzQXV0b3Jlc2l6aW5nTWFza0ludG9Db25zdHJhaW50cyhmYWxzZSlcblxuICBhZGRFZGdlQ29uc3RyYWludChOU0xheW91dEF0dHJpYnV0ZUxlZnQsIHN1YnZpZXcsIHZpZXcsIGNvbnN0YW50c1swXSB8fCAwKVxuICBhZGRFZGdlQ29uc3RyYWludChOU0xheW91dEF0dHJpYnV0ZVRvcCwgc3VidmlldywgdmlldywgY29uc3RhbnRzWzFdIHx8IDApXG4gIGFkZEVkZ2VDb25zdHJhaW50KE5TTGF5b3V0QXR0cmlidXRlUmlnaHQsIHN1YnZpZXcsIHZpZXcsIGNvbnN0YW50c1syXSB8fCAwKVxuICBhZGRFZGdlQ29uc3RyYWludChOU0xheW91dEF0dHJpYnV0ZUJvdHRvbSwgc3VidmlldywgdmlldywgY29uc3RhbnRzWzNdIHx8IDApXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/fitSubview.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* let's try to match the API from Electron's Browser window\n(https://github.com/electron/electron/blob/master/docs/api/browser-window.md) */\nvar EventEmitter = __webpack_require__(/*! events */ \"events\")\nvar buildBrowserAPI = __webpack_require__(/*! ./browser-api */ \"./node_modules/sketch-module-web-view/lib/browser-api.js\")\nvar buildWebAPI = __webpack_require__(/*! ./webview-api */ \"./node_modules/sketch-module-web-view/lib/webview-api.js\")\nvar fitSubviewToView = __webpack_require__(/*! ./fitSubview */ \"./node_modules/sketch-module-web-view/lib/fitSubview.js\")\nvar dispatchFirstClick = __webpack_require__(/*! ./dispatch-first-click */ \"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js\")\nvar injectClientMessaging = __webpack_require__(/*! ./inject-client-messaging */ \"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js\")\nvar movableArea = __webpack_require__(/*! ./movable-area */ \"./node_modules/sketch-module-web-view/lib/movable-area.js\")\nvar executeJavaScript = __webpack_require__(/*! ./execute-javascript */ \"./node_modules/sketch-module-web-view/lib/execute-javascript.js\")\nvar setDelegates = __webpack_require__(/*! ./set-delegates */ \"./node_modules/sketch-module-web-view/lib/set-delegates.js\")\n\nfunction BrowserWindow(options) {\n  options = options || {}\n\n  var identifier = options.identifier || NSUUID.UUID().UUIDString()\n  var threadDictionary = NSThread.mainThread().threadDictionary()\n\n  var existingBrowserWindow = BrowserWindow.fromId(identifier)\n\n  // if we already have a window opened, reuse it\n  if (existingBrowserWindow) {\n    return existingBrowserWindow\n  }\n\n  var browserWindow = new EventEmitter()\n  browserWindow.id = identifier\n\n  if (options.modal && !options.parent) {\n    throw new Error('A modal needs to have a parent.')\n  }\n\n  // Long-running script\n  var fiber = coscript.createFiber()\n\n  // Window size\n  var width = options.width || 800\n  var height = options.height || 600\n  var mainScreenRect = NSScreen.screens()\n    .firstObject()\n    .frame()\n  var cocoaBounds = NSMakeRect(\n    typeof options.x !== 'undefined'\n      ? options.x\n      : Math.round((NSWidth(mainScreenRect) - width) / 2),\n    typeof options.y !== 'undefined'\n      ? NSHeight(mainScreenRect) - options.y\n      : Math.round((NSHeight(mainScreenRect) - height) / 2),\n    width,\n    height\n  )\n\n  if (options.titleBarStyle && options.titleBarStyle !== 'default') {\n    options.frame = false\n  }\n\n  var useStandardWindow = options.windowType !== 'textured'\n  var styleMask = NSTitledWindowMask\n\n  // this is commented out because the toolbar doesn't appear otherwise :thinking-face:\n  // if (!useStandardWindow || options.frame === false) {\n  //   styleMask = NSFullSizeContentViewWindowMask\n  // }\n  if (options.minimizable !== false) {\n    styleMask |= NSMiniaturizableWindowMask\n  }\n  if (options.closable !== false) {\n    styleMask |= NSClosableWindowMask\n  }\n  if (options.resizable !== false) {\n    styleMask |= NSResizableWindowMask\n  }\n  if (!useStandardWindow || options.transparent || options.frame === false) {\n    styleMask |= NSTexturedBackgroundWindowMask\n  }\n\n  var panel = NSPanel.alloc().initWithContentRect_styleMask_backing_defer(\n    cocoaBounds,\n    styleMask,\n    NSBackingStoreBuffered,\n    true\n  )\n\n  var wkwebviewConfig = WKWebViewConfiguration.alloc().init()\n  var webView = WKWebView.alloc().initWithFrame_configuration(\n    CGRectMake(0, 0, options.width || 800, options.height || 600),\n    wkwebviewConfig\n  )\n  injectClientMessaging(webView)\n  webView.setAutoresizingMask(NSViewWidthSizable | NSViewHeightSizable)\n\n  buildBrowserAPI(browserWindow, panel, webView)\n  buildWebAPI(browserWindow, panel, webView)\n  setDelegates(browserWindow, panel, webView, options)\n\n  if (options.windowType === 'desktop') {\n    panel.setLevel(kCGDesktopWindowLevel - 1)\n    // panel.setCanBecomeKeyWindow(false)\n    panel.setCollectionBehavior(\n      NSWindowCollectionBehaviorCanJoinAllSpaces |\n        NSWindowCollectionBehaviorStationary |\n        NSWindowCollectionBehaviorIgnoresCycle\n    )\n  }\n\n  if (\n    typeof options.minWidth !== 'undefined' ||\n    typeof options.minHeight !== 'undefined'\n  ) {\n    browserWindow.setMinimumSize(options.minWidth || 0, options.minHeight || 0)\n  }\n\n  if (\n    typeof options.maxWidth !== 'undefined' ||\n    typeof options.maxHeight !== 'undefined'\n  ) {\n    browserWindow.setMaximumSize(\n      options.maxWidth || 10000,\n      options.maxHeight || 10000\n    )\n  }\n\n  // if (options.focusable === false) {\n  //   panel.setCanBecomeKeyWindow(false)\n  // }\n\n  if (options.transparent || options.frame === false) {\n    panel.titlebarAppearsTransparent = true\n    panel.titleVisibility = NSWindowTitleHidden\n    panel.setOpaque(0)\n    panel.isMovableByWindowBackground = true\n    var toolbar2 = NSToolbar.alloc().initWithIdentifier(\n      'titlebarStylingToolbar'\n    )\n    toolbar2.setShowsBaselineSeparator(false)\n    panel.setToolbar(toolbar2)\n  }\n\n  if (options.titleBarStyle === 'hiddenInset') {\n    var toolbar = NSToolbar.alloc().initWithIdentifier('titlebarStylingToolbar')\n    toolbar.setShowsBaselineSeparator(false)\n    panel.setToolbar(toolbar)\n  }\n\n  if (options.frame === false || !options.useContentSize) {\n    browserWindow.setSize(width, height)\n  }\n\n  if (options.center) {\n    browserWindow.center()\n  }\n\n  if (options.alwaysOnTop) {\n    browserWindow.setAlwaysOnTop(true)\n  }\n\n  if (options.fullscreen) {\n    browserWindow.setFullScreen(true)\n  }\n  browserWindow.setFullScreenable(!!options.fullscreenable)\n\n  const title =\n    options.title ||\n    (typeof __command !== 'undefined' && __command.pluginBundle()\n      ? __command.pluginBundle().name()\n      : undefined)\n  if (title) {\n    browserWindow.setTitle(title)\n  }\n\n  var backgroundColor = options.backgroundColor\n  if (options.transparent) {\n    backgroundColor = NSColor.clearColor()\n  }\n  if (!backgroundColor && options.frame === false && options.vibrancy) {\n    backgroundColor = NSColor.clearColor()\n  }\n\n  browserWindow._setBackgroundColor(\n    backgroundColor || NSColor.windowBackgroundColor()\n  )\n\n  if (options.hasShadow === false) {\n    browserWindow.setHasShadow(false)\n  }\n\n  if (typeof options.opacity !== 'undefined') {\n    browserWindow.setOpacity(options.opacity)\n  }\n\n  options.webPreferences = options.webPreferences || {}\n\n  webView\n    .configuration()\n    .preferences()\n    .setValue_forKey(\n      options.webPreferences.devTools !== false,\n      'developerExtrasEnabled'\n    )\n  webView\n    .configuration()\n    .preferences()\n    .setValue_forKey(\n      options.webPreferences.javascript !== false,\n      'javaScriptEnabled'\n    )\n  webView\n    .configuration()\n    .preferences()\n    .setValue_forKey(!!options.webPreferences.plugins, 'plugInsEnabled')\n  webView\n    .configuration()\n    .preferences()\n    .setValue_forKey(\n      options.webPreferences.minimumFontSize || 0,\n      'minimumFontSize'\n    )\n\n  if (options.webPreferences.zoomFactor) {\n    webView.setMagnification(options.webPreferences.zoomFactor)\n  }\n\n  var contentView = panel.contentView()\n\n  if (options.frame !== false) {\n    webView.setFrame(contentView.bounds())\n    contentView.addSubview(webView)\n  } else {\n    // In OSX 10.10, adding subviews to the root view for the NSView hierarchy\n    // produces warnings. To eliminate the warnings, we resize the contentView\n    // to fill the window, and add subviews to that.\n    // http://crbug.com/380412\n    contentView.setAutoresizingMask(NSViewWidthSizable | NSViewHeightSizable)\n    fitSubviewToView(contentView, contentView.superview())\n\n    webView.setFrame(contentView.bounds())\n    contentView.addSubview(webView)\n\n    // The fullscreen button should always be hidden for frameless window.\n    if (panel.standardWindowButton(NSWindowFullScreenButton)) {\n      panel.standardWindowButton(NSWindowFullScreenButton).setHidden(true)\n    }\n\n    if (!options.titleBarStyle || options.titleBarStyle === 'default') {\n      // Hide the window buttons.\n      panel.standardWindowButton(NSWindowZoomButton).setHidden(true)\n      panel.standardWindowButton(NSWindowMiniaturizeButton).setHidden(true)\n      panel.standardWindowButton(NSWindowCloseButton).setHidden(true)\n\n      // Some third-party macOS utilities check the zoom button's enabled state to\n      // determine whether to show custom UI on hover, so we disable it here to\n      // prevent them from doing so in a frameless app window.\n      panel.standardWindowButton(NSWindowZoomButton).setEnabled(false)\n    }\n  }\n\n  if (options.vibrancy) {\n    browserWindow.setVibrancy(options.vibrancy)\n  }\n\n  // Set maximizable state last to ensure zoom button does not get reset\n  // by calls to other APIs.\n  browserWindow.setMaximizable(options.maximizable !== false)\n\n  panel.setHidesOnDeactivate(options.hidesOnDeactivate !== false)\n\n  if (options.remembersWindowFrame) {\n    panel.setFrameAutosaveName(identifier)\n    panel.setFrameUsingName_force(panel.frameAutosaveName(), false)\n  }\n\n  if (options.acceptsFirstMouse) {\n    browserWindow.on('focus', function(event) {\n      if (event.type() === NSEventTypeLeftMouseDown) {\n        browserWindow.webContents\n          .executeJavaScript(dispatchFirstClick(webView, event))\n          .catch(() => {})\n      }\n    })\n  }\n\n  executeJavaScript.injectScript(webView)\n  movableArea.injectScript(webView)\n  movableArea.setupHandler(browserWindow)\n\n  if (options.show !== false) {\n    browserWindow.show()\n  }\n\n  browserWindow.on('closed', function() {\n    browserWindow._destroyed = true\n    threadDictionary.removeObjectForKey(identifier)\n    fiber.cleanup()\n  })\n\n  threadDictionary[identifier] = panel\n\n  fiber.onCleanup(function() {\n    if (!browserWindow._destroyed) {\n      browserWindow.destroy()\n    }\n  })\n\n  return browserWindow\n}\n\nBrowserWindow.fromId = function(identifier) {\n  var threadDictionary = NSThread.mainThread().threadDictionary()\n\n  if (threadDictionary[identifier]) {\n    return BrowserWindow.fromPanel(threadDictionary[identifier], identifier)\n  }\n\n  return undefined\n}\n\nBrowserWindow.fromPanel = function(panel, identifier) {\n  var browserWindow = new EventEmitter()\n  browserWindow.id = identifier\n\n  if (!panel || !panel.contentView) {\n    throw new Error('needs to pass an NSPanel')\n  }\n\n  var webView = null\n  var subviews = panel.contentView().subviews()\n  for (var i = 0; i < subviews.length; i += 1) {\n    if (\n      !webView &&\n      !subviews[i].isKindOfClass(WKInspectorWKWebView) &&\n      subviews[i].isKindOfClass(WKWebView)\n    ) {\n      webView = subviews[i]\n    }\n  }\n\n  if (!webView) {\n    throw new Error('The panel needs to have a webview')\n  }\n\n  buildBrowserAPI(browserWindow, panel, webView)\n  buildWebAPI(browserWindow, panel, webView)\n\n  return browserWindow\n}\n\nmodule.exports = BrowserWindow\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL2luZGV4LmpzP2NhMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogbGV0J3MgdHJ5IHRvIG1hdGNoIHRoZSBBUEkgZnJvbSBFbGVjdHJvbidzIEJyb3dzZXIgd2luZG93XG4oaHR0cHM6Ly9naXRodWIuY29tL2VsZWN0cm9uL2VsZWN0cm9uL2Jsb2IvbWFzdGVyL2RvY3MvYXBpL2Jyb3dzZXItd2luZG93Lm1kKSAqL1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpXG52YXIgYnVpbGRCcm93c2VyQVBJID0gcmVxdWlyZSgnLi9icm93c2VyLWFwaScpXG52YXIgYnVpbGRXZWJBUEkgPSByZXF1aXJlKCcuL3dlYnZpZXctYXBpJylcbnZhciBmaXRTdWJ2aWV3VG9WaWV3ID0gcmVxdWlyZSgnLi9maXRTdWJ2aWV3JylcbnZhciBkaXNwYXRjaEZpcnN0Q2xpY2sgPSByZXF1aXJlKCcuL2Rpc3BhdGNoLWZpcnN0LWNsaWNrJylcbnZhciBpbmplY3RDbGllbnRNZXNzYWdpbmcgPSByZXF1aXJlKCcuL2luamVjdC1jbGllbnQtbWVzc2FnaW5nJylcbnZhciBtb3ZhYmxlQXJlYSA9IHJlcXVpcmUoJy4vbW92YWJsZS1hcmVhJylcbnZhciBleGVjdXRlSmF2YVNjcmlwdCA9IHJlcXVpcmUoJy4vZXhlY3V0ZS1qYXZhc2NyaXB0JylcbnZhciBzZXREZWxlZ2F0ZXMgPSByZXF1aXJlKCcuL3NldC1kZWxlZ2F0ZXMnKVxuXG5mdW5jdGlvbiBCcm93c2VyV2luZG93KG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICB2YXIgaWRlbnRpZmllciA9IG9wdGlvbnMuaWRlbnRpZmllciB8fCBOU1VVSUQuVVVJRCgpLlVVSURTdHJpbmcoKVxuICB2YXIgdGhyZWFkRGljdGlvbmFyeSA9IE5TVGhyZWFkLm1haW5UaHJlYWQoKS50aHJlYWREaWN0aW9uYXJ5KClcblxuICB2YXIgZXhpc3RpbmdCcm93c2VyV2luZG93ID0gQnJvd3NlcldpbmRvdy5mcm9tSWQoaWRlbnRpZmllcilcblxuICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSB3aW5kb3cgb3BlbmVkLCByZXVzZSBpdFxuICBpZiAoZXhpc3RpbmdCcm93c2VyV2luZG93KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nQnJvd3NlcldpbmRvd1xuICB9XG5cbiAgdmFyIGJyb3dzZXJXaW5kb3cgPSBuZXcgRXZlbnRFbWl0dGVyKClcbiAgYnJvd3NlcldpbmRvdy5pZCA9IGlkZW50aWZpZXJcblxuICBpZiAob3B0aW9ucy5tb2RhbCAmJiAhb3B0aW9ucy5wYXJlbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgbW9kYWwgbmVlZHMgdG8gaGF2ZSBhIHBhcmVudC4nKVxuICB9XG5cbiAgLy8gTG9uZy1ydW5uaW5nIHNjcmlwdFxuICB2YXIgZmliZXIgPSBjb3NjcmlwdC5jcmVhdGVGaWJlcigpXG5cbiAgLy8gV2luZG93IHNpemVcbiAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCA4MDBcbiAgdmFyIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IDYwMFxuICB2YXIgbWFpblNjcmVlblJlY3QgPSBOU1NjcmVlbi5zY3JlZW5zKClcbiAgICAuZmlyc3RPYmplY3QoKVxuICAgIC5mcmFtZSgpXG4gIHZhciBjb2NvYUJvdW5kcyA9IE5TTWFrZVJlY3QoXG4gICAgdHlwZW9mIG9wdGlvbnMueCAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gb3B0aW9ucy54XG4gICAgICA6IE1hdGgucm91bmQoKE5TV2lkdGgobWFpblNjcmVlblJlY3QpIC0gd2lkdGgpIC8gMiksXG4gICAgdHlwZW9mIG9wdGlvbnMueSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgID8gTlNIZWlnaHQobWFpblNjcmVlblJlY3QpIC0gb3B0aW9ucy55XG4gICAgICA6IE1hdGgucm91bmQoKE5TSGVpZ2h0KG1haW5TY3JlZW5SZWN0KSAtIGhlaWdodCkgLyAyKSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHRcbiAgKVxuXG4gIGlmIChvcHRpb25zLnRpdGxlQmFyU3R5bGUgJiYgb3B0aW9ucy50aXRsZUJhclN0eWxlICE9PSAnZGVmYXVsdCcpIHtcbiAgICBvcHRpb25zLmZyYW1lID0gZmFsc2VcbiAgfVxuXG4gIHZhciB1c2VTdGFuZGFyZFdpbmRvdyA9IG9wdGlvbnMud2luZG93VHlwZSAhPT0gJ3RleHR1cmVkJ1xuICB2YXIgc3R5bGVNYXNrID0gTlNUaXRsZWRXaW5kb3dNYXNrXG5cbiAgLy8gdGhpcyBpcyBjb21tZW50ZWQgb3V0IGJlY2F1c2UgdGhlIHRvb2xiYXIgZG9lc24ndCBhcHBlYXIgb3RoZXJ3aXNlIDp0aGlua2luZy1mYWNlOlxuICAvLyBpZiAoIXVzZVN0YW5kYXJkV2luZG93IHx8IG9wdGlvbnMuZnJhbWUgPT09IGZhbHNlKSB7XG4gIC8vICAgc3R5bGVNYXNrID0gTlNGdWxsU2l6ZUNvbnRlbnRWaWV3V2luZG93TWFza1xuICAvLyB9XG4gIGlmIChvcHRpb25zLm1pbmltaXphYmxlICE9PSBmYWxzZSkge1xuICAgIHN0eWxlTWFzayB8PSBOU01pbmlhdHVyaXphYmxlV2luZG93TWFza1xuICB9XG4gIGlmIChvcHRpb25zLmNsb3NhYmxlICE9PSBmYWxzZSkge1xuICAgIHN0eWxlTWFzayB8PSBOU0Nsb3NhYmxlV2luZG93TWFza1xuICB9XG4gIGlmIChvcHRpb25zLnJlc2l6YWJsZSAhPT0gZmFsc2UpIHtcbiAgICBzdHlsZU1hc2sgfD0gTlNSZXNpemFibGVXaW5kb3dNYXNrXG4gIH1cbiAgaWYgKCF1c2VTdGFuZGFyZFdpbmRvdyB8fCBvcHRpb25zLnRyYW5zcGFyZW50IHx8IG9wdGlvbnMuZnJhbWUgPT09IGZhbHNlKSB7XG4gICAgc3R5bGVNYXNrIHw9IE5TVGV4dHVyZWRCYWNrZ3JvdW5kV2luZG93TWFza1xuICB9XG5cbiAgdmFyIHBhbmVsID0gTlNQYW5lbC5hbGxvYygpLmluaXRXaXRoQ29udGVudFJlY3Rfc3R5bGVNYXNrX2JhY2tpbmdfZGVmZXIoXG4gICAgY29jb2FCb3VuZHMsXG4gICAgc3R5bGVNYXNrLFxuICAgIE5TQmFja2luZ1N0b3JlQnVmZmVyZWQsXG4gICAgdHJ1ZVxuICApXG5cbiAgdmFyIHdrd2Vidmlld0NvbmZpZyA9IFdLV2ViVmlld0NvbmZpZ3VyYXRpb24uYWxsb2MoKS5pbml0KClcbiAgdmFyIHdlYlZpZXcgPSBXS1dlYlZpZXcuYWxsb2MoKS5pbml0V2l0aEZyYW1lX2NvbmZpZ3VyYXRpb24oXG4gICAgQ0dSZWN0TWFrZSgwLCAwLCBvcHRpb25zLndpZHRoIHx8IDgwMCwgb3B0aW9ucy5oZWlnaHQgfHwgNjAwKSxcbiAgICB3a3dlYnZpZXdDb25maWdcbiAgKVxuICBpbmplY3RDbGllbnRNZXNzYWdpbmcod2ViVmlldylcbiAgd2ViVmlldy5zZXRBdXRvcmVzaXppbmdNYXNrKE5TVmlld1dpZHRoU2l6YWJsZSB8IE5TVmlld0hlaWdodFNpemFibGUpXG5cbiAgYnVpbGRCcm93c2VyQVBJKGJyb3dzZXJXaW5kb3csIHBhbmVsLCB3ZWJWaWV3KVxuICBidWlsZFdlYkFQSShicm93c2VyV2luZG93LCBwYW5lbCwgd2ViVmlldylcbiAgc2V0RGVsZWdhdGVzKGJyb3dzZXJXaW5kb3csIHBhbmVsLCB3ZWJWaWV3LCBvcHRpb25zKVxuXG4gIGlmIChvcHRpb25zLndpbmRvd1R5cGUgPT09ICdkZXNrdG9wJykge1xuICAgIHBhbmVsLnNldExldmVsKGtDR0Rlc2t0b3BXaW5kb3dMZXZlbCAtIDEpXG4gICAgLy8gcGFuZWwuc2V0Q2FuQmVjb21lS2V5V2luZG93KGZhbHNlKVxuICAgIHBhbmVsLnNldENvbGxlY3Rpb25CZWhhdmlvcihcbiAgICAgIE5TV2luZG93Q29sbGVjdGlvbkJlaGF2aW9yQ2FuSm9pbkFsbFNwYWNlcyB8XG4gICAgICAgIE5TV2luZG93Q29sbGVjdGlvbkJlaGF2aW9yU3RhdGlvbmFyeSB8XG4gICAgICAgIE5TV2luZG93Q29sbGVjdGlvbkJlaGF2aW9ySWdub3Jlc0N5Y2xlXG4gICAgKVxuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBvcHRpb25zLm1pbldpZHRoICE9PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBvcHRpb25zLm1pbkhlaWdodCAhPT0gJ3VuZGVmaW5lZCdcbiAgKSB7XG4gICAgYnJvd3NlcldpbmRvdy5zZXRNaW5pbXVtU2l6ZShvcHRpb25zLm1pbldpZHRoIHx8IDAsIG9wdGlvbnMubWluSGVpZ2h0IHx8IDApXG4gIH1cblxuICBpZiAoXG4gICAgdHlwZW9mIG9wdGlvbnMubWF4V2lkdGggIT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIG9wdGlvbnMubWF4SGVpZ2h0ICE9PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICBicm93c2VyV2luZG93LnNldE1heGltdW1TaXplKFxuICAgICAgb3B0aW9ucy5tYXhXaWR0aCB8fCAxMDAwMCxcbiAgICAgIG9wdGlvbnMubWF4SGVpZ2h0IHx8IDEwMDAwXG4gICAgKVxuICB9XG5cbiAgLy8gaWYgKG9wdGlvbnMuZm9jdXNhYmxlID09PSBmYWxzZSkge1xuICAvLyAgIHBhbmVsLnNldENhbkJlY29tZUtleVdpbmRvdyhmYWxzZSlcbiAgLy8gfVxuXG4gIGlmIChvcHRpb25zLnRyYW5zcGFyZW50IHx8IG9wdGlvbnMuZnJhbWUgPT09IGZhbHNlKSB7XG4gICAgcGFuZWwudGl0bGViYXJBcHBlYXJzVHJhbnNwYXJlbnQgPSB0cnVlXG4gICAgcGFuZWwudGl0bGVWaXNpYmlsaXR5ID0gTlNXaW5kb3dUaXRsZUhpZGRlblxuICAgIHBhbmVsLnNldE9wYXF1ZSgwKVxuICAgIHBhbmVsLmlzTW92YWJsZUJ5V2luZG93QmFja2dyb3VuZCA9IHRydWVcbiAgICB2YXIgdG9vbGJhcjIgPSBOU1Rvb2xiYXIuYWxsb2MoKS5pbml0V2l0aElkZW50aWZpZXIoXG4gICAgICAndGl0bGViYXJTdHlsaW5nVG9vbGJhcidcbiAgICApXG4gICAgdG9vbGJhcjIuc2V0U2hvd3NCYXNlbGluZVNlcGFyYXRvcihmYWxzZSlcbiAgICBwYW5lbC5zZXRUb29sYmFyKHRvb2xiYXIyKVxuICB9XG5cbiAgaWYgKG9wdGlvbnMudGl0bGVCYXJTdHlsZSA9PT0gJ2hpZGRlbkluc2V0Jykge1xuICAgIHZhciB0b29sYmFyID0gTlNUb29sYmFyLmFsbG9jKCkuaW5pdFdpdGhJZGVudGlmaWVyKCd0aXRsZWJhclN0eWxpbmdUb29sYmFyJylcbiAgICB0b29sYmFyLnNldFNob3dzQmFzZWxpbmVTZXBhcmF0b3IoZmFsc2UpXG4gICAgcGFuZWwuc2V0VG9vbGJhcih0b29sYmFyKVxuICB9XG5cbiAgaWYgKG9wdGlvbnMuZnJhbWUgPT09IGZhbHNlIHx8ICFvcHRpb25zLnVzZUNvbnRlbnRTaXplKSB7XG4gICAgYnJvd3NlcldpbmRvdy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpXG4gIH1cblxuICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICBicm93c2VyV2luZG93LmNlbnRlcigpXG4gIH1cblxuICBpZiAob3B0aW9ucy5hbHdheXNPblRvcCkge1xuICAgIGJyb3dzZXJXaW5kb3cuc2V0QWx3YXlzT25Ub3AodHJ1ZSlcbiAgfVxuXG4gIGlmIChvcHRpb25zLmZ1bGxzY3JlZW4pIHtcbiAgICBicm93c2VyV2luZG93LnNldEZ1bGxTY3JlZW4odHJ1ZSlcbiAgfVxuICBicm93c2VyV2luZG93LnNldEZ1bGxTY3JlZW5hYmxlKCEhb3B0aW9ucy5mdWxsc2NyZWVuYWJsZSlcblxuICBjb25zdCB0aXRsZSA9XG4gICAgb3B0aW9ucy50aXRsZSB8fFxuICAgICh0eXBlb2YgX19jb21tYW5kICE9PSAndW5kZWZpbmVkJyAmJiBfX2NvbW1hbmQucGx1Z2luQnVuZGxlKClcbiAgICAgID8gX19jb21tYW5kLnBsdWdpbkJ1bmRsZSgpLm5hbWUoKVxuICAgICAgOiB1bmRlZmluZWQpXG4gIGlmICh0aXRsZSkge1xuICAgIGJyb3dzZXJXaW5kb3cuc2V0VGl0bGUodGl0bGUpXG4gIH1cblxuICB2YXIgYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3JcbiAgaWYgKG9wdGlvbnMudHJhbnNwYXJlbnQpIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBOU0NvbG9yLmNsZWFyQ29sb3IoKVxuICB9XG4gIGlmICghYmFja2dyb3VuZENvbG9yICYmIG9wdGlvbnMuZnJhbWUgPT09IGZhbHNlICYmIG9wdGlvbnMudmlicmFuY3kpIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBOU0NvbG9yLmNsZWFyQ29sb3IoKVxuICB9XG5cbiAgYnJvd3NlcldpbmRvdy5fc2V0QmFja2dyb3VuZENvbG9yKFxuICAgIGJhY2tncm91bmRDb2xvciB8fCBOU0NvbG9yLndpbmRvd0JhY2tncm91bmRDb2xvcigpXG4gIClcblxuICBpZiAob3B0aW9ucy5oYXNTaGFkb3cgPT09IGZhbHNlKSB7XG4gICAgYnJvd3NlcldpbmRvdy5zZXRIYXNTaGFkb3coZmFsc2UpXG4gIH1cblxuICBpZiAodHlwZW9mIG9wdGlvbnMub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBicm93c2VyV2luZG93LnNldE9wYWNpdHkob3B0aW9ucy5vcGFjaXR5KVxuICB9XG5cbiAgb3B0aW9ucy53ZWJQcmVmZXJlbmNlcyA9IG9wdGlvbnMud2ViUHJlZmVyZW5jZXMgfHwge31cblxuICB3ZWJWaWV3XG4gICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgIC5wcmVmZXJlbmNlcygpXG4gICAgLnNldFZhbHVlX2ZvcktleShcbiAgICAgIG9wdGlvbnMud2ViUHJlZmVyZW5jZXMuZGV2VG9vbHMgIT09IGZhbHNlLFxuICAgICAgJ2RldmVsb3BlckV4dHJhc0VuYWJsZWQnXG4gICAgKVxuICB3ZWJWaWV3XG4gICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgIC5wcmVmZXJlbmNlcygpXG4gICAgLnNldFZhbHVlX2ZvcktleShcbiAgICAgIG9wdGlvbnMud2ViUHJlZmVyZW5jZXMuamF2YXNjcmlwdCAhPT0gZmFsc2UsXG4gICAgICAnamF2YVNjcmlwdEVuYWJsZWQnXG4gICAgKVxuICB3ZWJWaWV3XG4gICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgIC5wcmVmZXJlbmNlcygpXG4gICAgLnNldFZhbHVlX2ZvcktleSghIW9wdGlvbnMud2ViUHJlZmVyZW5jZXMucGx1Z2lucywgJ3BsdWdJbnNFbmFibGVkJylcbiAgd2ViVmlld1xuICAgIC5jb25maWd1cmF0aW9uKClcbiAgICAucHJlZmVyZW5jZXMoKVxuICAgIC5zZXRWYWx1ZV9mb3JLZXkoXG4gICAgICBvcHRpb25zLndlYlByZWZlcmVuY2VzLm1pbmltdW1Gb250U2l6ZSB8fCAwLFxuICAgICAgJ21pbmltdW1Gb250U2l6ZSdcbiAgICApXG5cbiAgaWYgKG9wdGlvbnMud2ViUHJlZmVyZW5jZXMuem9vbUZhY3Rvcikge1xuICAgIHdlYlZpZXcuc2V0TWFnbmlmaWNhdGlvbihvcHRpb25zLndlYlByZWZlcmVuY2VzLnpvb21GYWN0b3IpXG4gIH1cblxuICB2YXIgY29udGVudFZpZXcgPSBwYW5lbC5jb250ZW50VmlldygpXG5cbiAgaWYgKG9wdGlvbnMuZnJhbWUgIT09IGZhbHNlKSB7XG4gICAgd2ViVmlldy5zZXRGcmFtZShjb250ZW50Vmlldy5ib3VuZHMoKSlcbiAgICBjb250ZW50Vmlldy5hZGRTdWJ2aWV3KHdlYlZpZXcpXG4gIH0gZWxzZSB7XG4gICAgLy8gSW4gT1NYIDEwLjEwLCBhZGRpbmcgc3Vidmlld3MgdG8gdGhlIHJvb3QgdmlldyBmb3IgdGhlIE5TVmlldyBoaWVyYXJjaHlcbiAgICAvLyBwcm9kdWNlcyB3YXJuaW5ncy4gVG8gZWxpbWluYXRlIHRoZSB3YXJuaW5ncywgd2UgcmVzaXplIHRoZSBjb250ZW50Vmlld1xuICAgIC8vIHRvIGZpbGwgdGhlIHdpbmRvdywgYW5kIGFkZCBzdWJ2aWV3cyB0byB0aGF0LlxuICAgIC8vIGh0dHA6Ly9jcmJ1Zy5jb20vMzgwNDEyXG4gICAgY29udGVudFZpZXcuc2V0QXV0b3Jlc2l6aW5nTWFzayhOU1ZpZXdXaWR0aFNpemFibGUgfCBOU1ZpZXdIZWlnaHRTaXphYmxlKVxuICAgIGZpdFN1YnZpZXdUb1ZpZXcoY29udGVudFZpZXcsIGNvbnRlbnRWaWV3LnN1cGVydmlldygpKVxuXG4gICAgd2ViVmlldy5zZXRGcmFtZShjb250ZW50Vmlldy5ib3VuZHMoKSlcbiAgICBjb250ZW50Vmlldy5hZGRTdWJ2aWV3KHdlYlZpZXcpXG5cbiAgICAvLyBUaGUgZnVsbHNjcmVlbiBidXR0b24gc2hvdWxkIGFsd2F5cyBiZSBoaWRkZW4gZm9yIGZyYW1lbGVzcyB3aW5kb3cuXG4gICAgaWYgKHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKE5TV2luZG93RnVsbFNjcmVlbkJ1dHRvbikpIHtcbiAgICAgIHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKE5TV2luZG93RnVsbFNjcmVlbkJ1dHRvbikuc2V0SGlkZGVuKHRydWUpXG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLnRpdGxlQmFyU3R5bGUgfHwgb3B0aW9ucy50aXRsZUJhclN0eWxlID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIC8vIEhpZGUgdGhlIHdpbmRvdyBidXR0b25zLlxuICAgICAgcGFuZWwuc3RhbmRhcmRXaW5kb3dCdXR0b24oTlNXaW5kb3dab29tQnV0dG9uKS5zZXRIaWRkZW4odHJ1ZSlcbiAgICAgIHBhbmVsLnN0YW5kYXJkV2luZG93QnV0dG9uKE5TV2luZG93TWluaWF0dXJpemVCdXR0b24pLnNldEhpZGRlbih0cnVlKVxuICAgICAgcGFuZWwuc3RhbmRhcmRXaW5kb3dCdXR0b24oTlNXaW5kb3dDbG9zZUJ1dHRvbikuc2V0SGlkZGVuKHRydWUpXG5cbiAgICAgIC8vIFNvbWUgdGhpcmQtcGFydHkgbWFjT1MgdXRpbGl0aWVzIGNoZWNrIHRoZSB6b29tIGJ1dHRvbidzIGVuYWJsZWQgc3RhdGUgdG9cbiAgICAgIC8vIGRldGVybWluZSB3aGV0aGVyIHRvIHNob3cgY3VzdG9tIFVJIG9uIGhvdmVyLCBzbyB3ZSBkaXNhYmxlIGl0IGhlcmUgdG9cbiAgICAgIC8vIHByZXZlbnQgdGhlbSBmcm9tIGRvaW5nIHNvIGluIGEgZnJhbWVsZXNzIGFwcCB3aW5kb3cuXG4gICAgICBwYW5lbC5zdGFuZGFyZFdpbmRvd0J1dHRvbihOU1dpbmRvd1pvb21CdXR0b24pLnNldEVuYWJsZWQoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdGlvbnMudmlicmFuY3kpIHtcbiAgICBicm93c2VyV2luZG93LnNldFZpYnJhbmN5KG9wdGlvbnMudmlicmFuY3kpXG4gIH1cblxuICAvLyBTZXQgbWF4aW1pemFibGUgc3RhdGUgbGFzdCB0byBlbnN1cmUgem9vbSBidXR0b24gZG9lcyBub3QgZ2V0IHJlc2V0XG4gIC8vIGJ5IGNhbGxzIHRvIG90aGVyIEFQSXMuXG4gIGJyb3dzZXJXaW5kb3cuc2V0TWF4aW1pemFibGUob3B0aW9ucy5tYXhpbWl6YWJsZSAhPT0gZmFsc2UpXG5cbiAgcGFuZWwuc2V0SGlkZXNPbkRlYWN0aXZhdGUob3B0aW9ucy5oaWRlc09uRGVhY3RpdmF0ZSAhPT0gZmFsc2UpXG5cbiAgaWYgKG9wdGlvbnMucmVtZW1iZXJzV2luZG93RnJhbWUpIHtcbiAgICBwYW5lbC5zZXRGcmFtZUF1dG9zYXZlTmFtZShpZGVudGlmaWVyKVxuICAgIHBhbmVsLnNldEZyYW1lVXNpbmdOYW1lX2ZvcmNlKHBhbmVsLmZyYW1lQXV0b3NhdmVOYW1lKCksIGZhbHNlKVxuICB9XG5cbiAgaWYgKG9wdGlvbnMuYWNjZXB0c0ZpcnN0TW91c2UpIHtcbiAgICBicm93c2VyV2luZG93Lm9uKCdmb2N1cycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudHlwZSgpID09PSBOU0V2ZW50VHlwZUxlZnRNb3VzZURvd24pIHtcbiAgICAgICAgYnJvd3NlcldpbmRvdy53ZWJDb250ZW50c1xuICAgICAgICAgIC5leGVjdXRlSmF2YVNjcmlwdChkaXNwYXRjaEZpcnN0Q2xpY2sod2ViVmlldywgZXZlbnQpKVxuICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgZXhlY3V0ZUphdmFTY3JpcHQuaW5qZWN0U2NyaXB0KHdlYlZpZXcpXG4gIG1vdmFibGVBcmVhLmluamVjdFNjcmlwdCh3ZWJWaWV3KVxuICBtb3ZhYmxlQXJlYS5zZXR1cEhhbmRsZXIoYnJvd3NlcldpbmRvdylcblxuICBpZiAob3B0aW9ucy5zaG93ICE9PSBmYWxzZSkge1xuICAgIGJyb3dzZXJXaW5kb3cuc2hvdygpXG4gIH1cblxuICBicm93c2VyV2luZG93Lm9uKCdjbG9zZWQnLCBmdW5jdGlvbigpIHtcbiAgICBicm93c2VyV2luZG93Ll9kZXN0cm95ZWQgPSB0cnVlXG4gICAgdGhyZWFkRGljdGlvbmFyeS5yZW1vdmVPYmplY3RGb3JLZXkoaWRlbnRpZmllcilcbiAgICBmaWJlci5jbGVhbnVwKClcbiAgfSlcblxuICB0aHJlYWREaWN0aW9uYXJ5W2lkZW50aWZpZXJdID0gcGFuZWxcblxuICBmaWJlci5vbkNsZWFudXAoZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFicm93c2VyV2luZG93Ll9kZXN0cm95ZWQpIHtcbiAgICAgIGJyb3dzZXJXaW5kb3cuZGVzdHJveSgpXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBicm93c2VyV2luZG93XG59XG5cbkJyb3dzZXJXaW5kb3cuZnJvbUlkID0gZnVuY3Rpb24oaWRlbnRpZmllcikge1xuICB2YXIgdGhyZWFkRGljdGlvbmFyeSA9IE5TVGhyZWFkLm1haW5UaHJlYWQoKS50aHJlYWREaWN0aW9uYXJ5KClcblxuICBpZiAodGhyZWFkRGljdGlvbmFyeVtpZGVudGlmaWVyXSkge1xuICAgIHJldHVybiBCcm93c2VyV2luZG93LmZyb21QYW5lbCh0aHJlYWREaWN0aW9uYXJ5W2lkZW50aWZpZXJdLCBpZGVudGlmaWVyKVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5Ccm93c2VyV2luZG93LmZyb21QYW5lbCA9IGZ1bmN0aW9uKHBhbmVsLCBpZGVudGlmaWVyKSB7XG4gIHZhciBicm93c2VyV2luZG93ID0gbmV3IEV2ZW50RW1pdHRlcigpXG4gIGJyb3dzZXJXaW5kb3cuaWQgPSBpZGVudGlmaWVyXG5cbiAgaWYgKCFwYW5lbCB8fCAhcGFuZWwuY29udGVudFZpZXcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25lZWRzIHRvIHBhc3MgYW4gTlNQYW5lbCcpXG4gIH1cblxuICB2YXIgd2ViVmlldyA9IG51bGxcbiAgdmFyIHN1YnZpZXdzID0gcGFuZWwuY29udGVudFZpZXcoKS5zdWJ2aWV3cygpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vidmlld3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoXG4gICAgICAhd2ViVmlldyAmJlxuICAgICAgIXN1YnZpZXdzW2ldLmlzS2luZE9mQ2xhc3MoV0tJbnNwZWN0b3JXS1dlYlZpZXcpICYmXG4gICAgICBzdWJ2aWV3c1tpXS5pc0tpbmRPZkNsYXNzKFdLV2ViVmlldylcbiAgICApIHtcbiAgICAgIHdlYlZpZXcgPSBzdWJ2aWV3c1tpXVxuICAgIH1cbiAgfVxuXG4gIGlmICghd2ViVmlldykge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIHBhbmVsIG5lZWRzIHRvIGhhdmUgYSB3ZWJ2aWV3JylcbiAgfVxuXG4gIGJ1aWxkQnJvd3NlckFQSShicm93c2VyV2luZG93LCBwYW5lbCwgd2ViVmlldylcbiAgYnVpbGRXZWJBUEkoYnJvd3NlcldpbmRvdywgcGFuZWwsIHdlYlZpZXcpXG5cbiAgcmV0dXJuIGJyb3dzZXJXaW5kb3dcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBCcm93c2VyV2luZG93XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/index.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/inject-client-messaging.js":
/*!****************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/inject-client-messaging.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var CONSTANTS = __webpack_require__(/*! ./constants */ \"./node_modules/sketch-module-web-view/lib/constants.js\")\n\nmodule.exports = function(webView) {\n  var source =\n    'window.originalPostMessage = window.postMessage;' +\n    'window.postMessage = function(actionName) {' +\n    'if (!actionName) {' +\n    \"throw new Error('missing action name')\" +\n    '}' +\n    'window.webkit.messageHandlers.' +\n    CONSTANTS.JS_BRIDGE +\n    '.postMessage(' +\n    'JSON.stringify([].slice.call(arguments))' +\n    ');' +\n    '}'\n  var script = WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(\n    source,\n    0,\n    true\n  )\n  webView\n    .configuration()\n    .userContentController()\n    .addUserScript(script)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvaW5qZWN0LWNsaWVudC1tZXNzYWdpbmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL2luamVjdC1jbGllbnQtbWVzc2FnaW5nLmpzPzJiOTAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIENPTlNUQU5UUyA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3ZWJWaWV3KSB7XG4gIHZhciBzb3VyY2UgPVxuICAgICd3aW5kb3cub3JpZ2luYWxQb3N0TWVzc2FnZSA9IHdpbmRvdy5wb3N0TWVzc2FnZTsnICtcbiAgICAnd2luZG93LnBvc3RNZXNzYWdlID0gZnVuY3Rpb24oYWN0aW9uTmFtZSkgeycgK1xuICAgICdpZiAoIWFjdGlvbk5hbWUpIHsnICtcbiAgICBcInRocm93IG5ldyBFcnJvcignbWlzc2luZyBhY3Rpb24gbmFtZScpXCIgK1xuICAgICd9JyArXG4gICAgJ3dpbmRvdy53ZWJraXQubWVzc2FnZUhhbmRsZXJzLicgK1xuICAgIENPTlNUQU5UUy5KU19CUklER0UgK1xuICAgICcucG9zdE1lc3NhZ2UoJyArXG4gICAgJ0pTT04uc3RyaW5naWZ5KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSknICtcbiAgICAnKTsnICtcbiAgICAnfSdcbiAgdmFyIHNjcmlwdCA9IFdLVXNlclNjcmlwdC5hbGxvYygpLmluaXRXaXRoU291cmNlX2luamVjdGlvblRpbWVfZm9yTWFpbkZyYW1lT25seShcbiAgICBzb3VyY2UsXG4gICAgMCxcbiAgICB0cnVlXG4gIClcbiAgd2ViVmlld1xuICAgIC5jb25maWd1cmF0aW9uKClcbiAgICAudXNlckNvbnRlbnRDb250cm9sbGVyKClcbiAgICAuYWRkVXNlclNjcmlwdChzY3JpcHQpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/inject-client-messaging.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/movable-area.js":
/*!*****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/movable-area.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var CONSTANTS = __webpack_require__(/*! ./constants */ \"./node_modules/sketch-module-web-view/lib/constants.js\")\n\nmodule.exports.injectScript = function(webView) {\n  var source =\n    '(function () {' +\n    \"document.addEventListener('mousedown', onMouseDown);\" +\n    '' +\n    'function shouldDrag(target) {' +\n    '  if (!target || (target.dataset || {}).appRegion === \"no-drag\") { return false }' +\n    '  if ((target.dataset || {}).appRegion === \"drag\") { return true }' +\n    '  return shouldDrag(target.parentElement)' +\n    '};' +\n    '' +\n    'function onMouseDown(e) {console.log(e);' +\n    '  if (e.button !== 0 || !shouldDrag(e.target)) { return }' +\n    '  window.postMessage(\"' +\n    CONSTANTS.START_MOVING_WINDOW +\n    '\");' +\n    '};' +\n    '})()'\n  var script = WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(\n    source,\n    0,\n    true\n  )\n  webView\n    .configuration()\n    .userContentController()\n    .addUserScript(script)\n}\n\nmodule.exports.setupHandler = function(browserWindow) {\n  var initialMouseLocation = null\n  var initialWindowPosition = null\n  var interval = null\n\n  function moveWindow() {\n    // if the user released the button, stop moving the window\n    if (!initialWindowPosition || NSEvent.pressedMouseButtons() !== 1) {\n      clearInterval(interval)\n      initialMouseLocation = null\n      initialWindowPosition = null\n      return\n    }\n\n    var mouse = NSEvent.mouseLocation()\n    browserWindow.setPosition(\n      initialWindowPosition.x + (mouse.x - initialMouseLocation.x),\n      initialWindowPosition.y + (initialMouseLocation.y - mouse.y), // y is inverted\n      false\n    )\n  }\n\n  browserWindow.webContents.on(CONSTANTS.START_MOVING_WINDOW, function() {\n    initialMouseLocation = NSEvent.mouseLocation()\n    var position = browserWindow.getPosition()\n    initialWindowPosition = {\n      x: position[0],\n      y: position[1],\n    }\n\n    interval = setInterval(moveWindow, 1000 / 60) // 60 fps\n  })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvbW92YWJsZS1hcmVhLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy8uL25vZGVfbW9kdWxlcy9za2V0Y2gtbW9kdWxlLXdlYi12aWV3L2xpYi9tb3ZhYmxlLWFyZWEuanM/YmJiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ09OU1RBTlRTID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKVxuXG5tb2R1bGUuZXhwb3J0cy5pbmplY3RTY3JpcHQgPSBmdW5jdGlvbih3ZWJWaWV3KSB7XG4gIHZhciBzb3VyY2UgPVxuICAgICcoZnVuY3Rpb24gKCkgeycgK1xuICAgIFwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1wiICtcbiAgICAnJyArXG4gICAgJ2Z1bmN0aW9uIHNob3VsZERyYWcodGFyZ2V0KSB7JyArXG4gICAgJyAgaWYgKCF0YXJnZXQgfHwgKHRhcmdldC5kYXRhc2V0IHx8IHt9KS5hcHBSZWdpb24gPT09IFwibm8tZHJhZ1wiKSB7IHJldHVybiBmYWxzZSB9JyArXG4gICAgJyAgaWYgKCh0YXJnZXQuZGF0YXNldCB8fCB7fSkuYXBwUmVnaW9uID09PSBcImRyYWdcIikgeyByZXR1cm4gdHJ1ZSB9JyArXG4gICAgJyAgcmV0dXJuIHNob3VsZERyYWcodGFyZ2V0LnBhcmVudEVsZW1lbnQpJyArXG4gICAgJ307JyArXG4gICAgJycgK1xuICAgICdmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7Y29uc29sZS5sb2coZSk7JyArXG4gICAgJyAgaWYgKGUuYnV0dG9uICE9PSAwIHx8ICFzaG91bGREcmFnKGUudGFyZ2V0KSkgeyByZXR1cm4gfScgK1xuICAgICcgIHdpbmRvdy5wb3N0TWVzc2FnZShcIicgK1xuICAgIENPTlNUQU5UUy5TVEFSVF9NT1ZJTkdfV0lORE9XICtcbiAgICAnXCIpOycgK1xuICAgICd9OycgK1xuICAgICd9KSgpJ1xuICB2YXIgc2NyaXB0ID0gV0tVc2VyU2NyaXB0LmFsbG9jKCkuaW5pdFdpdGhTb3VyY2VfaW5qZWN0aW9uVGltZV9mb3JNYWluRnJhbWVPbmx5KFxuICAgIHNvdXJjZSxcbiAgICAwLFxuICAgIHRydWVcbiAgKVxuICB3ZWJWaWV3XG4gICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgIC51c2VyQ29udGVudENvbnRyb2xsZXIoKVxuICAgIC5hZGRVc2VyU2NyaXB0KHNjcmlwdClcbn1cblxubW9kdWxlLmV4cG9ydHMuc2V0dXBIYW5kbGVyID0gZnVuY3Rpb24oYnJvd3NlcldpbmRvdykge1xuICB2YXIgaW5pdGlhbE1vdXNlTG9jYXRpb24gPSBudWxsXG4gIHZhciBpbml0aWFsV2luZG93UG9zaXRpb24gPSBudWxsXG4gIHZhciBpbnRlcnZhbCA9IG51bGxcblxuICBmdW5jdGlvbiBtb3ZlV2luZG93KCkge1xuICAgIC8vIGlmIHRoZSB1c2VyIHJlbGVhc2VkIHRoZSBidXR0b24sIHN0b3AgbW92aW5nIHRoZSB3aW5kb3dcbiAgICBpZiAoIWluaXRpYWxXaW5kb3dQb3NpdGlvbiB8fCBOU0V2ZW50LnByZXNzZWRNb3VzZUJ1dHRvbnMoKSAhPT0gMSkge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbClcbiAgICAgIGluaXRpYWxNb3VzZUxvY2F0aW9uID0gbnVsbFxuICAgICAgaW5pdGlhbFdpbmRvd1Bvc2l0aW9uID0gbnVsbFxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIG1vdXNlID0gTlNFdmVudC5tb3VzZUxvY2F0aW9uKClcbiAgICBicm93c2VyV2luZG93LnNldFBvc2l0aW9uKFxuICAgICAgaW5pdGlhbFdpbmRvd1Bvc2l0aW9uLnggKyAobW91c2UueCAtIGluaXRpYWxNb3VzZUxvY2F0aW9uLngpLFxuICAgICAgaW5pdGlhbFdpbmRvd1Bvc2l0aW9uLnkgKyAoaW5pdGlhbE1vdXNlTG9jYXRpb24ueSAtIG1vdXNlLnkpLCAvLyB5IGlzIGludmVydGVkXG4gICAgICBmYWxzZVxuICAgIClcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMub24oQ09OU1RBTlRTLlNUQVJUX01PVklOR19XSU5ET1csIGZ1bmN0aW9uKCkge1xuICAgIGluaXRpYWxNb3VzZUxvY2F0aW9uID0gTlNFdmVudC5tb3VzZUxvY2F0aW9uKClcbiAgICB2YXIgcG9zaXRpb24gPSBicm93c2VyV2luZG93LmdldFBvc2l0aW9uKClcbiAgICBpbml0aWFsV2luZG93UG9zaXRpb24gPSB7XG4gICAgICB4OiBwb3NpdGlvblswXSxcbiAgICAgIHk6IHBvc2l0aW9uWzFdLFxuICAgIH1cblxuICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwobW92ZVdpbmRvdywgMTAwMCAvIDYwKSAvLyA2MCBmcHNcbiAgfSlcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/movable-area.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(webArguments) {\n  var args = null\n  try {\n    args = JSON.parse(webArguments)\n  } catch (e) {\n    // malformed arguments\n  }\n\n  if (\n    !args ||\n    !args.constructor ||\n    args.constructor !== Array ||\n    args.length == 0\n  ) {\n    return null\n  }\n\n  return args\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvcGFyc2VXZWJBcmd1bWVudHMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL3BhcnNlV2ViQXJndW1lbnRzLmpzP2Q0MmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih3ZWJBcmd1bWVudHMpIHtcbiAgdmFyIGFyZ3MgPSBudWxsXG4gIHRyeSB7XG4gICAgYXJncyA9IEpTT04ucGFyc2Uod2ViQXJndW1lbnRzKVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gbWFsZm9ybWVkIGFyZ3VtZW50c1xuICB9XG5cbiAgaWYgKFxuICAgICFhcmdzIHx8XG4gICAgIWFyZ3MuY29uc3RydWN0b3IgfHxcbiAgICBhcmdzLmNvbnN0cnVjdG9yICE9PSBBcnJheSB8fFxuICAgIGFyZ3MubGVuZ3RoID09IDBcbiAgKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBhcmdzXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/parseWebArguments.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var ObjCClass = __webpack_require__(/*! mocha-js-delegate */ \"./node_modules/mocha-js-delegate/index.js\")\nvar parseWebArguments = __webpack_require__(/*! ./parseWebArguments */ \"./node_modules/sketch-module-web-view/lib/parseWebArguments.js\")\nvar CONSTANTS = __webpack_require__(/*! ./constants */ \"./node_modules/sketch-module-web-view/lib/constants.js\")\n\n// We create one ObjC class for ourselves here\nvar WindowDelegateClass\nvar NavigationDelegateClass\nvar WebScriptHandlerClass\n\n// TODO: events\n// - 'page-favicon-updated'\n// - 'new-window'\n// - 'did-navigate-in-page'\n// - 'will-prevent-unload'\n// - 'crashed'\n// - 'unresponsive'\n// - 'responsive'\n// - 'destroyed'\n// - 'before-input-event'\n// - 'certificate-error'\n// - 'found-in-page'\n// - 'media-started-playing'\n// - 'media-paused'\n// - 'did-change-theme-color'\n// - 'update-target-url'\n// - 'cursor-changed'\n// - 'context-menu'\n// - 'select-bluetooth-device'\n// - 'paint'\n// - 'console-message'\n\nmodule.exports = function(browserWindow, panel, webview, options) {\n  if (!WindowDelegateClass) {\n    WindowDelegateClass = new ObjCClass({\n      utils: null,\n      panel: null,\n\n      'windowDidResize:': function() {\n        this.utils.emit('resize')\n      },\n\n      'windowDidMiniaturize:': function() {\n        this.utils.emit('minimize')\n      },\n\n      'windowDidDeminiaturize:': function() {\n        this.utils.emit('restore')\n      },\n\n      'windowDidEnterFullScreen:': function() {\n        this.utils.emit('enter-full-screen')\n      },\n\n      'windowDidExitFullScreen:': function() {\n        this.utils.emit('leave-full-screen')\n      },\n\n      'windowDidMove:': function() {\n        this.utils.emit('move')\n        this.utils.emit('moved')\n      },\n\n      'windowShouldClose:': function() {\n        var shouldClose = 1\n        this.utils.emit('close', {\n          get defaultPrevented() {\n            return !shouldClose\n          },\n          preventDefault: function() {\n            shouldClose = 0\n          },\n        })\n        return shouldClose\n      },\n\n      'windowWillClose:': function() {\n        this.utils.emit('closed')\n      },\n\n      'windowDidBecomeKey:': function() {\n        this.utils.emit('focus', this.panel.currentEvent())\n      },\n\n      'windowDidResignKey:': function() {\n        this.utils.emit('blur')\n      },\n    })\n  }\n\n  if (!NavigationDelegateClass) {\n    NavigationDelegateClass = new ObjCClass({\n      state: {\n        wasReady: 0,\n      },\n      utils: null,\n\n      // // Called when the web view begins to receive web content.\n      'webView:didCommitNavigation:': function(webView) {\n        this.utils.emit('will-navigate', {}, String(String(webView.URL())))\n      },\n\n      // // Called when web content begins to load in a web view.\n      'webView:didStartProvisionalNavigation:': function() {\n        this.utils.emit('did-start-navigation')\n        this.utils.emit('did-start-loading')\n      },\n\n      // Called when a web view receives a server redirect.\n      'webView:didReceiveServerRedirectForProvisionalNavigation:': function() {\n        this.utils.emit('did-get-redirect-request')\n      },\n\n      // // Called when the web view needs to respond to an authentication challenge.\n      // 'webView:didReceiveAuthenticationChallenge:completionHandler:': function(\n      //   webView,\n      //   challenge,\n      //   completionHandler\n      // ) {\n      //   function callback(username, password) {\n      //     completionHandler(\n      //       0,\n      //       NSURLCredential.credentialWithUser_password_persistence(\n      //         username,\n      //         password,\n      //         1\n      //       )\n      //     )\n      //   }\n      //   var protectionSpace = challenge.protectionSpace()\n      //   this.utils.emit(\n      //     'login',\n      //     {},\n      //     {\n      //       method: String(protectionSpace.authenticationMethod()),\n      //       url: 'not implemented', // TODO:\n      //       referrer: 'not implemented', // TODO:\n      //     },\n      //     {\n      //       isProxy: !!protectionSpace.isProxy(),\n      //       scheme: String(protectionSpace.protocol()),\n      //       host: String(protectionSpace.host()),\n      //       port: Number(protectionSpace.port()),\n      //       realm: String(protectionSpace.realm()),\n      //     },\n      //     callback\n      //   )\n      // },\n\n      // Called when an error occurs during navigation.\n      // 'webView:didFailNavigation:withError:': function(\n      //   webView,\n      //   navigation,\n      //   error\n      // ) {},\n\n      // Called when an error occurs while the web view is loading content.\n      'webView:didFailProvisionalNavigation:withError:': function(\n        webView,\n        navigation,\n        error\n      ) {\n        this.utils.emit('did-fail-load', error)\n      },\n\n      // Called when the navigation is complete.\n      'webView:didFinishNavigation:': function() {\n        if (this.state.wasReady == 0) {\n          this.state.wasReady = 1\n          this.utils.emitBrowserEvent('ready-to-show')\n        }\n        this.utils.emit('did-navigate')\n        this.utils.emit('did-frame-navigate')\n        this.utils.emit('did-stop-loading')\n        this.utils.emit('did-finish-load')\n        this.utils.emit('did-frame-finish-load')\n      },\n\n      // Called when the web view’s web content process is terminated.\n      'webViewWebContentProcessDidTerminate:': function() {\n        this.utils.emit('dom-ready')\n      },\n\n      // Decides whether to allow or cancel a navigation.\n      // webView:decidePolicyForNavigationAction:decisionHandler:\n\n      // Decides whether to allow or cancel a navigation after its response is known.\n      // webView:decidePolicyForNavigationResponse:decisionHandler:\n    })\n  }\n\n  if (!WebScriptHandlerClass) {\n    WebScriptHandlerClass = new ObjCClass({\n      utils: null,\n      'userContentController:didReceiveScriptMessage:': function(_, message) {\n        var args = this.utils.parseWebArguments(String(message.body()))\n        if (!args) {\n          return\n        }\n        if (!args[0] || typeof args[0] !== 'string') {\n          return\n        }\n        args[0] = String(args[0])\n\n        this.utils.emit.apply(this, args)\n      },\n    })\n  }\n\n  var navigationDelegate = NavigationDelegateClass.new({\n    utils: {\n      setTitle: browserWindow.setTitle.bind(browserWindow),\n      emitBrowserEvent() {\n        try {\n          browserWindow.emit.apply(browserWindow, arguments)\n        } catch (err) {\n          if (\n            typeof process !== 'undefined' &&\n            process.listenerCount &&\n            process.listenerCount('uncaughtException')\n          ) {\n            process.emit('uncaughtException', err, 'uncaughtException')\n          } else {\n            console.error(err)\n            throw err\n          }\n        }\n      },\n      emit() {\n        try {\n          browserWindow.webContents.emit.apply(\n            browserWindow.webContents,\n            arguments\n          )\n        } catch (err) {\n          if (\n            typeof process !== 'undefined' &&\n            process.listenerCount &&\n            process.listenerCount('uncaughtException')\n          ) {\n            process.emit('uncaughtException', err, 'uncaughtException')\n          } else {\n            console.error(err)\n            throw err\n          }\n        }\n      },\n    },\n    state: {\n      wasReady: 0,\n    },\n  })\n\n  webview.setNavigationDelegate(navigationDelegate)\n\n  var webScriptHandler = WebScriptHandlerClass.new({\n    utils: {\n      emit() {\n        try {\n          browserWindow.webContents.emit.apply(\n            browserWindow.webContents,\n            arguments\n          )\n        } catch (err) {\n          if (\n            typeof process !== 'undefined' &&\n            process.listenerCount &&\n            process.listenerCount('uncaughtException')\n          ) {\n            process.emit('uncaughtException', err, 'uncaughtException')\n          } else {\n            console.error(err)\n            throw err\n          }\n        }\n      },\n      parseWebArguments: parseWebArguments,\n    },\n  })\n\n  webview\n    .configuration()\n    .userContentController()\n    .addScriptMessageHandler_name(webScriptHandler, CONSTANTS.JS_BRIDGE)\n\n  var utils = {\n    emit() {\n      try {\n        browserWindow.emit.apply(browserWindow, arguments)\n      } catch (err) {\n        if (\n          typeof process !== 'undefined' &&\n          process.listenerCount &&\n          process.listenerCount('uncaughtException')\n        ) {\n          process.emit('uncaughtException', err, 'uncaughtException')\n        } else {\n          console.error(err)\n          throw err\n        }\n      }\n    },\n  }\n  if (options.modal) {\n    // find the window of the document\n    var msdocument\n    if (options.parent.type === 'Document') {\n      msdocument = options.parent.sketchObject\n    } else {\n      msdocument = options.parent\n    }\n    if (msdocument && String(msdocument.class()) === 'MSDocumentData') {\n      // we only have an MSDocumentData instead of a MSDocument\n      // let's try to get back to the MSDocument\n      msdocument = msdocument.delegate()\n    }\n    utils.parentWindow = msdocument.windowForSheet()\n  }\n\n  var windowDelegate = WindowDelegateClass.new({\n    utils: utils,\n    panel: panel,\n  })\n\n  panel.setDelegate(windowDelegate)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvc2V0LWRlbGVnYXRlcy5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvc2V0LWRlbGVnYXRlcy5qcz9mYzkzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBPYmpDQ2xhc3MgPSByZXF1aXJlKCdtb2NoYS1qcy1kZWxlZ2F0ZScpXG52YXIgcGFyc2VXZWJBcmd1bWVudHMgPSByZXF1aXJlKCcuL3BhcnNlV2ViQXJndW1lbnRzJylcbnZhciBDT05TVEFOVFMgPSByZXF1aXJlKCcuL2NvbnN0YW50cycpXG5cbi8vIFdlIGNyZWF0ZSBvbmUgT2JqQyBjbGFzcyBmb3Igb3Vyc2VsdmVzIGhlcmVcbnZhciBXaW5kb3dEZWxlZ2F0ZUNsYXNzXG52YXIgTmF2aWdhdGlvbkRlbGVnYXRlQ2xhc3NcbnZhciBXZWJTY3JpcHRIYW5kbGVyQ2xhc3NcblxuLy8gVE9ETzogZXZlbnRzXG4vLyAtICdwYWdlLWZhdmljb24tdXBkYXRlZCdcbi8vIC0gJ25ldy13aW5kb3cnXG4vLyAtICdkaWQtbmF2aWdhdGUtaW4tcGFnZSdcbi8vIC0gJ3dpbGwtcHJldmVudC11bmxvYWQnXG4vLyAtICdjcmFzaGVkJ1xuLy8gLSAndW5yZXNwb25zaXZlJ1xuLy8gLSAncmVzcG9uc2l2ZSdcbi8vIC0gJ2Rlc3Ryb3llZCdcbi8vIC0gJ2JlZm9yZS1pbnB1dC1ldmVudCdcbi8vIC0gJ2NlcnRpZmljYXRlLWVycm9yJ1xuLy8gLSAnZm91bmQtaW4tcGFnZSdcbi8vIC0gJ21lZGlhLXN0YXJ0ZWQtcGxheWluZydcbi8vIC0gJ21lZGlhLXBhdXNlZCdcbi8vIC0gJ2RpZC1jaGFuZ2UtdGhlbWUtY29sb3InXG4vLyAtICd1cGRhdGUtdGFyZ2V0LXVybCdcbi8vIC0gJ2N1cnNvci1jaGFuZ2VkJ1xuLy8gLSAnY29udGV4dC1tZW51J1xuLy8gLSAnc2VsZWN0LWJsdWV0b290aC1kZXZpY2UnXG4vLyAtICdwYWludCdcbi8vIC0gJ2NvbnNvbGUtbWVzc2FnZSdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihicm93c2VyV2luZG93LCBwYW5lbCwgd2Vidmlldywgb3B0aW9ucykge1xuICBpZiAoIVdpbmRvd0RlbGVnYXRlQ2xhc3MpIHtcbiAgICBXaW5kb3dEZWxlZ2F0ZUNsYXNzID0gbmV3IE9iakNDbGFzcyh7XG4gICAgICB1dGlsczogbnVsbCxcbiAgICAgIHBhbmVsOiBudWxsLFxuXG4gICAgICAnd2luZG93RGlkUmVzaXplOic6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ3Jlc2l6ZScpXG4gICAgICB9LFxuXG4gICAgICAnd2luZG93RGlkTWluaWF0dXJpemU6JzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgnbWluaW1pemUnKVxuICAgICAgfSxcblxuICAgICAgJ3dpbmRvd0RpZERlbWluaWF0dXJpemU6JzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgncmVzdG9yZScpXG4gICAgICB9LFxuXG4gICAgICAnd2luZG93RGlkRW50ZXJGdWxsU2NyZWVuOic6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ2VudGVyLWZ1bGwtc2NyZWVuJylcbiAgICAgIH0sXG5cbiAgICAgICd3aW5kb3dEaWRFeGl0RnVsbFNjcmVlbjonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdsZWF2ZS1mdWxsLXNjcmVlbicpXG4gICAgICB9LFxuXG4gICAgICAnd2luZG93RGlkTW92ZTonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdtb3ZlJylcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdtb3ZlZCcpXG4gICAgICB9LFxuXG4gICAgICAnd2luZG93U2hvdWxkQ2xvc2U6JzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzaG91bGRDbG9zZSA9IDFcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdjbG9zZScsIHtcbiAgICAgICAgICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiAhc2hvdWxkQ2xvc2VcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNob3VsZENsb3NlID0gMFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBzaG91bGRDbG9zZVxuICAgICAgfSxcblxuICAgICAgJ3dpbmRvd1dpbGxDbG9zZTonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdjbG9zZWQnKVxuICAgICAgfSxcblxuICAgICAgJ3dpbmRvd0RpZEJlY29tZUtleTonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdmb2N1cycsIHRoaXMucGFuZWwuY3VycmVudEV2ZW50KCkpXG4gICAgICB9LFxuXG4gICAgICAnd2luZG93RGlkUmVzaWduS2V5Oic6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ2JsdXInKVxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgaWYgKCFOYXZpZ2F0aW9uRGVsZWdhdGVDbGFzcykge1xuICAgIE5hdmlnYXRpb25EZWxlZ2F0ZUNsYXNzID0gbmV3IE9iakNDbGFzcyh7XG4gICAgICBzdGF0ZToge1xuICAgICAgICB3YXNSZWFkeTogMCxcbiAgICAgIH0sXG4gICAgICB1dGlsczogbnVsbCxcblxuICAgICAgLy8gLy8gQ2FsbGVkIHdoZW4gdGhlIHdlYiB2aWV3IGJlZ2lucyB0byByZWNlaXZlIHdlYiBjb250ZW50LlxuICAgICAgJ3dlYlZpZXc6ZGlkQ29tbWl0TmF2aWdhdGlvbjonOiBmdW5jdGlvbih3ZWJWaWV3KSB7XG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgnd2lsbC1uYXZpZ2F0ZScsIHt9LCBTdHJpbmcoU3RyaW5nKHdlYlZpZXcuVVJMKCkpKSlcbiAgICAgIH0sXG5cbiAgICAgIC8vIC8vIENhbGxlZCB3aGVuIHdlYiBjb250ZW50IGJlZ2lucyB0byBsb2FkIGluIGEgd2ViIHZpZXcuXG4gICAgICAnd2ViVmlldzpkaWRTdGFydFByb3Zpc2lvbmFsTmF2aWdhdGlvbjonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdkaWQtc3RhcnQtbmF2aWdhdGlvbicpXG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgnZGlkLXN0YXJ0LWxvYWRpbmcnKVxuICAgICAgfSxcblxuICAgICAgLy8gQ2FsbGVkIHdoZW4gYSB3ZWIgdmlldyByZWNlaXZlcyBhIHNlcnZlciByZWRpcmVjdC5cbiAgICAgICd3ZWJWaWV3OmRpZFJlY2VpdmVTZXJ2ZXJSZWRpcmVjdEZvclByb3Zpc2lvbmFsTmF2aWdhdGlvbjonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdkaWQtZ2V0LXJlZGlyZWN0LXJlcXVlc3QnKVxuICAgICAgfSxcblxuICAgICAgLy8gLy8gQ2FsbGVkIHdoZW4gdGhlIHdlYiB2aWV3IG5lZWRzIHRvIHJlc3BvbmQgdG8gYW4gYXV0aGVudGljYXRpb24gY2hhbGxlbmdlLlxuICAgICAgLy8gJ3dlYlZpZXc6ZGlkUmVjZWl2ZUF1dGhlbnRpY2F0aW9uQ2hhbGxlbmdlOmNvbXBsZXRpb25IYW5kbGVyOic6IGZ1bmN0aW9uKFxuICAgICAgLy8gICB3ZWJWaWV3LFxuICAgICAgLy8gICBjaGFsbGVuZ2UsXG4gICAgICAvLyAgIGNvbXBsZXRpb25IYW5kbGVyXG4gICAgICAvLyApIHtcbiAgICAgIC8vICAgZnVuY3Rpb24gY2FsbGJhY2sodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgICAvLyAgICAgY29tcGxldGlvbkhhbmRsZXIoXG4gICAgICAvLyAgICAgICAwLFxuICAgICAgLy8gICAgICAgTlNVUkxDcmVkZW50aWFsLmNyZWRlbnRpYWxXaXRoVXNlcl9wYXNzd29yZF9wZXJzaXN0ZW5jZShcbiAgICAgIC8vICAgICAgICAgdXNlcm5hbWUsXG4gICAgICAvLyAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgLy8gICAgICAgICAxXG4gICAgICAvLyAgICAgICApXG4gICAgICAvLyAgICAgKVxuICAgICAgLy8gICB9XG4gICAgICAvLyAgIHZhciBwcm90ZWN0aW9uU3BhY2UgPSBjaGFsbGVuZ2UucHJvdGVjdGlvblNwYWNlKClcbiAgICAgIC8vICAgdGhpcy51dGlscy5lbWl0KFxuICAgICAgLy8gICAgICdsb2dpbicsXG4gICAgICAvLyAgICAge30sXG4gICAgICAvLyAgICAge1xuICAgICAgLy8gICAgICAgbWV0aG9kOiBTdHJpbmcocHJvdGVjdGlvblNwYWNlLmF1dGhlbnRpY2F0aW9uTWV0aG9kKCkpLFxuICAgICAgLy8gICAgICAgdXJsOiAnbm90IGltcGxlbWVudGVkJywgLy8gVE9ETzpcbiAgICAgIC8vICAgICAgIHJlZmVycmVyOiAnbm90IGltcGxlbWVudGVkJywgLy8gVE9ETzpcbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIHtcbiAgICAgIC8vICAgICAgIGlzUHJveHk6ICEhcHJvdGVjdGlvblNwYWNlLmlzUHJveHkoKSxcbiAgICAgIC8vICAgICAgIHNjaGVtZTogU3RyaW5nKHByb3RlY3Rpb25TcGFjZS5wcm90b2NvbCgpKSxcbiAgICAgIC8vICAgICAgIGhvc3Q6IFN0cmluZyhwcm90ZWN0aW9uU3BhY2UuaG9zdCgpKSxcbiAgICAgIC8vICAgICAgIHBvcnQ6IE51bWJlcihwcm90ZWN0aW9uU3BhY2UucG9ydCgpKSxcbiAgICAgIC8vICAgICAgIHJlYWxtOiBTdHJpbmcocHJvdGVjdGlvblNwYWNlLnJlYWxtKCkpLFxuICAgICAgLy8gICAgIH0sXG4gICAgICAvLyAgICAgY2FsbGJhY2tcbiAgICAgIC8vICAgKVxuICAgICAgLy8gfSxcblxuICAgICAgLy8gQ2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBuYXZpZ2F0aW9uLlxuICAgICAgLy8gJ3dlYlZpZXc6ZGlkRmFpbE5hdmlnYXRpb246d2l0aEVycm9yOic6IGZ1bmN0aW9uKFxuICAgICAgLy8gICB3ZWJWaWV3LFxuICAgICAgLy8gICBuYXZpZ2F0aW9uLFxuICAgICAgLy8gICBlcnJvclxuICAgICAgLy8gKSB7fSxcblxuICAgICAgLy8gQ2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIHdoaWxlIHRoZSB3ZWIgdmlldyBpcyBsb2FkaW5nIGNvbnRlbnQuXG4gICAgICAnd2ViVmlldzpkaWRGYWlsUHJvdmlzaW9uYWxOYXZpZ2F0aW9uOndpdGhFcnJvcjonOiBmdW5jdGlvbihcbiAgICAgICAgd2ViVmlldyxcbiAgICAgICAgbmF2aWdhdGlvbixcbiAgICAgICAgZXJyb3JcbiAgICAgICkge1xuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ2RpZC1mYWlsLWxvYWQnLCBlcnJvcilcbiAgICAgIH0sXG5cbiAgICAgIC8vIENhbGxlZCB3aGVuIHRoZSBuYXZpZ2F0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgJ3dlYlZpZXc6ZGlkRmluaXNoTmF2aWdhdGlvbjonOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUud2FzUmVhZHkgPT0gMCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUud2FzUmVhZHkgPSAxXG4gICAgICAgICAgdGhpcy51dGlscy5lbWl0QnJvd3NlckV2ZW50KCdyZWFkeS10by1zaG93JylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ2RpZC1uYXZpZ2F0ZScpXG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgnZGlkLWZyYW1lLW5hdmlnYXRlJylcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdkaWQtc3RvcC1sb2FkaW5nJylcbiAgICAgICAgdGhpcy51dGlscy5lbWl0KCdkaWQtZmluaXNoLWxvYWQnKVxuICAgICAgICB0aGlzLnV0aWxzLmVtaXQoJ2RpZC1mcmFtZS1maW5pc2gtbG9hZCcpXG4gICAgICB9LFxuXG4gICAgICAvLyBDYWxsZWQgd2hlbiB0aGUgd2ViIHZpZXfigJlzIHdlYiBjb250ZW50IHByb2Nlc3MgaXMgdGVybWluYXRlZC5cbiAgICAgICd3ZWJWaWV3V2ViQ29udGVudFByb2Nlc3NEaWRUZXJtaW5hdGU6JzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudXRpbHMuZW1pdCgnZG9tLXJlYWR5JylcbiAgICAgIH0sXG5cbiAgICAgIC8vIERlY2lkZXMgd2hldGhlciB0byBhbGxvdyBvciBjYW5jZWwgYSBuYXZpZ2F0aW9uLlxuICAgICAgLy8gd2ViVmlldzpkZWNpZGVQb2xpY3lGb3JOYXZpZ2F0aW9uQWN0aW9uOmRlY2lzaW9uSGFuZGxlcjpcblxuICAgICAgLy8gRGVjaWRlcyB3aGV0aGVyIHRvIGFsbG93IG9yIGNhbmNlbCBhIG5hdmlnYXRpb24gYWZ0ZXIgaXRzIHJlc3BvbnNlIGlzIGtub3duLlxuICAgICAgLy8gd2ViVmlldzpkZWNpZGVQb2xpY3lGb3JOYXZpZ2F0aW9uUmVzcG9uc2U6ZGVjaXNpb25IYW5kbGVyOlxuICAgIH0pXG4gIH1cblxuICBpZiAoIVdlYlNjcmlwdEhhbmRsZXJDbGFzcykge1xuICAgIFdlYlNjcmlwdEhhbmRsZXJDbGFzcyA9IG5ldyBPYmpDQ2xhc3Moe1xuICAgICAgdXRpbHM6IG51bGwsXG4gICAgICAndXNlckNvbnRlbnRDb250cm9sbGVyOmRpZFJlY2VpdmVTY3JpcHRNZXNzYWdlOic6IGZ1bmN0aW9uKF8sIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLnV0aWxzLnBhcnNlV2ViQXJndW1lbnRzKFN0cmluZyhtZXNzYWdlLmJvZHkoKSkpXG4gICAgICAgIGlmICghYXJncykge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICghYXJnc1swXSB8fCB0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBhcmdzWzBdID0gU3RyaW5nKGFyZ3NbMF0pXG5cbiAgICAgICAgdGhpcy51dGlscy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICB2YXIgbmF2aWdhdGlvbkRlbGVnYXRlID0gTmF2aWdhdGlvbkRlbGVnYXRlQ2xhc3MubmV3KHtcbiAgICB1dGlsczoge1xuICAgICAgc2V0VGl0bGU6IGJyb3dzZXJXaW5kb3cuc2V0VGl0bGUuYmluZChicm93c2VyV2luZG93KSxcbiAgICAgIGVtaXRCcm93c2VyRXZlbnQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYnJvd3NlcldpbmRvdy5lbWl0LmFwcGx5KGJyb3dzZXJXaW5kb3csIGFyZ3VtZW50cylcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQgJiZcbiAgICAgICAgICAgIHByb2Nlc3MubGlzdGVuZXJDb3VudCgndW5jYXVnaHRFeGNlcHRpb24nKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmNhdWdodEV4Y2VwdGlvbicsIGVyciwgJ3VuY2F1Z2h0RXhjZXB0aW9uJylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbWl0KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMuZW1pdC5hcHBseShcbiAgICAgICAgICAgIGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMsXG4gICAgICAgICAgICBhcmd1bWVudHNcbiAgICAgICAgICApXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgcHJvY2Vzcy5saXN0ZW5lckNvdW50ICYmXG4gICAgICAgICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQoJ3VuY2F1Z2h0RXhjZXB0aW9uJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5jYXVnaHRFeGNlcHRpb24nLCBlcnIsICd1bmNhdWdodEV4Y2VwdGlvbicpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxuICAgICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIHdhc1JlYWR5OiAwLFxuICAgIH0sXG4gIH0pXG5cbiAgd2Vidmlldy5zZXROYXZpZ2F0aW9uRGVsZWdhdGUobmF2aWdhdGlvbkRlbGVnYXRlKVxuXG4gIHZhciB3ZWJTY3JpcHRIYW5kbGVyID0gV2ViU2NyaXB0SGFuZGxlckNsYXNzLm5ldyh7XG4gICAgdXRpbHM6IHtcbiAgICAgIGVtaXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYnJvd3NlcldpbmRvdy53ZWJDb250ZW50cy5lbWl0LmFwcGx5KFxuICAgICAgICAgICAgYnJvd3NlcldpbmRvdy53ZWJDb250ZW50cyxcbiAgICAgICAgICAgIGFyZ3VtZW50c1xuICAgICAgICAgIClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQgJiZcbiAgICAgICAgICAgIHByb2Nlc3MubGlzdGVuZXJDb3VudCgndW5jYXVnaHRFeGNlcHRpb24nKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmNhdWdodEV4Y2VwdGlvbicsIGVyciwgJ3VuY2F1Z2h0RXhjZXB0aW9uJylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwYXJzZVdlYkFyZ3VtZW50czogcGFyc2VXZWJBcmd1bWVudHMsXG4gICAgfSxcbiAgfSlcblxuICB3ZWJ2aWV3XG4gICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgIC51c2VyQ29udGVudENvbnRyb2xsZXIoKVxuICAgIC5hZGRTY3JpcHRNZXNzYWdlSGFuZGxlcl9uYW1lKHdlYlNjcmlwdEhhbmRsZXIsIENPTlNUQU5UUy5KU19CUklER0UpXG5cbiAgdmFyIHV0aWxzID0ge1xuICAgIGVtaXQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBicm93c2VyV2luZG93LmVtaXQuYXBwbHkoYnJvd3NlcldpbmRvdywgYXJndW1lbnRzKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQgJiZcbiAgICAgICAgICBwcm9jZXNzLmxpc3RlbmVyQ291bnQoJ3VuY2F1Z2h0RXhjZXB0aW9uJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmNhdWdodEV4Y2VwdGlvbicsIGVyciwgJ3VuY2F1Z2h0RXhjZXB0aW9uJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH1cbiAgaWYgKG9wdGlvbnMubW9kYWwpIHtcbiAgICAvLyBmaW5kIHRoZSB3aW5kb3cgb2YgdGhlIGRvY3VtZW50XG4gICAgdmFyIG1zZG9jdW1lbnRcbiAgICBpZiAob3B0aW9ucy5wYXJlbnQudHlwZSA9PT0gJ0RvY3VtZW50Jykge1xuICAgICAgbXNkb2N1bWVudCA9IG9wdGlvbnMucGFyZW50LnNrZXRjaE9iamVjdFxuICAgIH0gZWxzZSB7XG4gICAgICBtc2RvY3VtZW50ID0gb3B0aW9ucy5wYXJlbnRcbiAgICB9XG4gICAgaWYgKG1zZG9jdW1lbnQgJiYgU3RyaW5nKG1zZG9jdW1lbnQuY2xhc3MoKSkgPT09ICdNU0RvY3VtZW50RGF0YScpIHtcbiAgICAgIC8vIHdlIG9ubHkgaGF2ZSBhbiBNU0RvY3VtZW50RGF0YSBpbnN0ZWFkIG9mIGEgTVNEb2N1bWVudFxuICAgICAgLy8gbGV0J3MgdHJ5IHRvIGdldCBiYWNrIHRvIHRoZSBNU0RvY3VtZW50XG4gICAgICBtc2RvY3VtZW50ID0gbXNkb2N1bWVudC5kZWxlZ2F0ZSgpXG4gICAgfVxuICAgIHV0aWxzLnBhcmVudFdpbmRvdyA9IG1zZG9jdW1lbnQud2luZG93Rm9yU2hlZXQoKVxuICB9XG5cbiAgdmFyIHdpbmRvd0RlbGVnYXRlID0gV2luZG93RGVsZWdhdGVDbGFzcy5uZXcoe1xuICAgIHV0aWxzOiB1dGlscyxcbiAgICBwYW5lbDogcGFuZWwsXG4gIH0pXG5cbiAgcGFuZWwuc2V0RGVsZWdhdGUod2luZG93RGVsZWdhdGUpXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/set-delegates.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var EventEmitter = __webpack_require__(/*! events */ \"events\")\nvar executeJavaScript = __webpack_require__(/*! ./execute-javascript */ \"./node_modules/sketch-module-web-view/lib/execute-javascript.js\")\n\n// let's try to match https://github.com/electron/electron/blob/master/docs/api/web-contents.md\nmodule.exports = function buildAPI(browserWindow, panel, webview) {\n  var webContents = new EventEmitter()\n\n  webContents.loadURL = browserWindow.loadURL\n\n  webContents.loadFile = function(/* filePath */) {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n\n  webContents.downloadURL = function(/* filePath */) {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n\n  webContents.getURL = function() {\n    return String(webview.url())\n  }\n\n  webContents.getTitle = function() {\n    return String(webview.title())\n  }\n\n  webContents.isDestroyed = function() {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n\n  webContents.focus = browserWindow.focus\n  webContents.isFocused = browserWindow.isFocused\n\n  webContents.isLoading = function() {\n    return !!webview.loading()\n  }\n\n  webContents.isLoadingMainFrame = function() {\n    // TODO:\n    return !!webview.loading()\n  }\n\n  webContents.isWaitingForResponse = function() {\n    return !webview.loading()\n  }\n\n  webContents.stop = function() {\n    webview.stopLoading()\n  }\n  webContents.reload = function() {\n    webview.reload()\n  }\n  webContents.reloadIgnoringCache = function() {\n    webview.reloadFromOrigin()\n  }\n  webContents.canGoBack = function() {\n    return !!webview.canGoBack()\n  }\n  webContents.canGoForward = function() {\n    return !!webview.canGoForward()\n  }\n  webContents.canGoToOffset = function(offset) {\n    return !!webview.backForwardList().itemAtIndex(offset)\n  }\n  webContents.clearHistory = function() {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.goBack = function() {\n    webview.goBack()\n  }\n  webContents.goForward = function() {\n    webview.goForward()\n  }\n  webContents.goToIndex = function(index) {\n    var backForwardList = webview.backForwardList()\n    var backList = backForwardList.backList()\n    var backListLength = backList.count()\n    if (backListLength > index) {\n      webview.loadRequest(NSURLRequest.requestWithURL(backList[index]))\n      return\n    }\n    var forwardList = backForwardList.forwardList()\n    if (forwardList.count() > index - backListLength) {\n      webview.loadRequest(\n        NSURLRequest.requestWithURL(forwardList[index - backListLength])\n      )\n      return\n    }\n    throw new Error('Cannot go to index ' + index)\n  }\n  webContents.goToOffset = function(offset) {\n    if (!webContents.canGoToOffset(offset)) {\n      throw new Error('Cannot go to offset ' + offset)\n    }\n    webview.loadRequest(\n      NSURLRequest.requestWithURL(webview.backForwardList().itemAtIndex(offset))\n    )\n  }\n  webContents.isCrashed = function() {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.setUserAgent = function(/* userAgent */) {\n    // TODO:\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.getUserAgent = function() {\n    const userAgent = webview.customUserAgent()\n    return userAgent ? String(userAgent) : undefined\n  }\n  webContents.insertCSS = function(css) {\n    var source =\n      \"var style = document.createElement('style'); style.innerHTML = \" +\n      css.replace(/\"/, '\\\\\"') +\n      '; document.head.appendChild(style);'\n    var script = WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(\n      source,\n      0,\n      true\n    )\n    webview\n      .configuration()\n      .userContentController()\n      .addUserScript(script)\n  }\n  webContents.insertJS = function(source) {\n    var script = WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(\n      source,\n      0,\n      true\n    )\n    webview\n      .configuration()\n      .userContentController()\n      .addUserScript(script)\n  }\n  webContents.executeJavaScript = executeJavaScript(webview, browserWindow)\n  webContents.setIgnoreMenuShortcuts = function() {\n    // TODO:??\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.setAudioMuted = function(/* muted */) {\n    // TODO:??\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.isAudioMuted = function() {\n    // TODO:??\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.setZoomFactor = function(factor) {\n    webview.setMagnification_centeredAtPoint(factor, CGPointMake(0, 0))\n  }\n  webContents.getZoomFactor = function(callback) {\n    callback(Number(webview.magnification()))\n  }\n  webContents.setZoomLevel = function(level) {\n    // eslint-disable-next-line no-restricted-properties\n    webContents.setZoomFactor(Math.pow(1.2, level))\n  }\n  webContents.getZoomLevel = function(callback) {\n    // eslint-disable-next-line no-restricted-properties\n    callback(Math.log(Number(webview.magnification())) / Math.log(1.2))\n  }\n  webContents.setVisualZoomLevelLimits = function(/* minimumLevel, maximumLevel */) {\n    // TODO:??\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n  webContents.setLayoutZoomLevelLimits = function(/* minimumLevel, maximumLevel */) {\n    // TODO:??\n    console.warn(\n      'Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)'\n    )\n  }\n\n  // TODO:\n  // webContents.undo = function() {\n  //   webview.undoManager().undo()\n  // }\n  // webContents.redo = function() {\n  //   webview.undoManager().redo()\n  // }\n  // webContents.cut = webview.cut\n  // webContents.copy = webview.copy\n  // webContents.paste = webview.paste\n  // webContents.pasteAndMatchStyle = webview.pasteAsRichText\n  // webContents.delete = webview.delete\n  // webContents.replace = webview.replaceSelectionWithText\n\n  webContents.send = function() {\n    const script =\n      'window.postMessage({' +\n      'isSketchMessage: true,' +\n      \"origin: '\" +\n      String(__command.identifier()) +\n      \"',\" +\n      'args: ' +\n      JSON.stringify([].slice.call(arguments)) +\n      '}, \"*\")'\n    webview.evaluateJavaScript_completionHandler(script, null)\n  }\n\n  webContents.getNativeWebview = function() {\n    return webview\n  }\n\n  browserWindow.webContents = webContents\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9saWIvd2Vidmlldy1hcGkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvbGliL3dlYnZpZXctYXBpLmpzPzk5NTAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpXG52YXIgZXhlY3V0ZUphdmFTY3JpcHQgPSByZXF1aXJlKCcuL2V4ZWN1dGUtamF2YXNjcmlwdCcpXG5cbi8vIGxldCdzIHRyeSB0byBtYXRjaCBodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24vZWxlY3Ryb24vYmxvYi9tYXN0ZXIvZG9jcy9hcGkvd2ViLWNvbnRlbnRzLm1kXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkQVBJKGJyb3dzZXJXaW5kb3csIHBhbmVsLCB3ZWJ2aWV3KSB7XG4gIHZhciB3ZWJDb250ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHdlYkNvbnRlbnRzLmxvYWRVUkwgPSBicm93c2VyV2luZG93LmxvYWRVUkxcblxuICB3ZWJDb250ZW50cy5sb2FkRmlsZSA9IGZ1bmN0aW9uKC8qIGZpbGVQYXRoICovKSB7XG4gICAgLy8gVE9ETzpcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTm90IGltcGxlbWVudGVkIHlldCwgcGxlYXNlIG9wZW4gYSBQUiBvbiBodHRwczovL2dpdGh1Yi5jb20vc2twbS9za2V0Y2gtbW9kdWxlLXdlYi12aWV3IDopJ1xuICAgIClcbiAgfVxuXG4gIHdlYkNvbnRlbnRzLmRvd25sb2FkVVJMID0gZnVuY3Rpb24oLyogZmlsZVBhdGggKi8pIHtcbiAgICAvLyBUT0RPOlxuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdOb3QgaW1wbGVtZW50ZWQgeWV0LCBwbGVhc2Ugb3BlbiBhIFBSIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9za3BtL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcgOiknXG4gICAgKVxuICB9XG5cbiAgd2ViQ29udGVudHMuZ2V0VVJMID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFN0cmluZyh3ZWJ2aWV3LnVybCgpKVxuICB9XG5cbiAgd2ViQ29udGVudHMuZ2V0VGl0bGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHdlYnZpZXcudGl0bGUoKSlcbiAgfVxuXG4gIHdlYkNvbnRlbnRzLmlzRGVzdHJveWVkID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzpcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTm90IGltcGxlbWVudGVkIHlldCwgcGxlYXNlIG9wZW4gYSBQUiBvbiBodHRwczovL2dpdGh1Yi5jb20vc2twbS9za2V0Y2gtbW9kdWxlLXdlYi12aWV3IDopJ1xuICAgIClcbiAgfVxuXG4gIHdlYkNvbnRlbnRzLmZvY3VzID0gYnJvd3NlcldpbmRvdy5mb2N1c1xuICB3ZWJDb250ZW50cy5pc0ZvY3VzZWQgPSBicm93c2VyV2luZG93LmlzRm9jdXNlZFxuXG4gIHdlYkNvbnRlbnRzLmlzTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhIXdlYnZpZXcubG9hZGluZygpXG4gIH1cblxuICB3ZWJDb250ZW50cy5pc0xvYWRpbmdNYWluRnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPOlxuICAgIHJldHVybiAhIXdlYnZpZXcubG9hZGluZygpXG4gIH1cblxuICB3ZWJDb250ZW50cy5pc1dhaXRpbmdGb3JSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhd2Vidmlldy5sb2FkaW5nKClcbiAgfVxuXG4gIHdlYkNvbnRlbnRzLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICB3ZWJ2aWV3LnN0b3BMb2FkaW5nKClcbiAgfVxuICB3ZWJDb250ZW50cy5yZWxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICB3ZWJ2aWV3LnJlbG9hZCgpXG4gIH1cbiAgd2ViQ29udGVudHMucmVsb2FkSWdub3JpbmdDYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgIHdlYnZpZXcucmVsb2FkRnJvbU9yaWdpbigpXG4gIH1cbiAgd2ViQ29udGVudHMuY2FuR29CYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhd2Vidmlldy5jYW5Hb0JhY2soKVxuICB9XG4gIHdlYkNvbnRlbnRzLmNhbkdvRm9yd2FyZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAhIXdlYnZpZXcuY2FuR29Gb3J3YXJkKClcbiAgfVxuICB3ZWJDb250ZW50cy5jYW5Hb1RvT2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgcmV0dXJuICEhd2Vidmlldy5iYWNrRm9yd2FyZExpc3QoKS5pdGVtQXRJbmRleChvZmZzZXQpXG4gIH1cbiAgd2ViQ29udGVudHMuY2xlYXJIaXN0b3J5ID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzpcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTm90IGltcGxlbWVudGVkIHlldCwgcGxlYXNlIG9wZW4gYSBQUiBvbiBodHRwczovL2dpdGh1Yi5jb20vc2twbS9za2V0Y2gtbW9kdWxlLXdlYi12aWV3IDopJ1xuICAgIClcbiAgfVxuICB3ZWJDb250ZW50cy5nb0JhY2sgPSBmdW5jdGlvbigpIHtcbiAgICB3ZWJ2aWV3LmdvQmFjaygpXG4gIH1cbiAgd2ViQ29udGVudHMuZ29Gb3J3YXJkID0gZnVuY3Rpb24oKSB7XG4gICAgd2Vidmlldy5nb0ZvcndhcmQoKVxuICB9XG4gIHdlYkNvbnRlbnRzLmdvVG9JbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgdmFyIGJhY2tGb3J3YXJkTGlzdCA9IHdlYnZpZXcuYmFja0ZvcndhcmRMaXN0KClcbiAgICB2YXIgYmFja0xpc3QgPSBiYWNrRm9yd2FyZExpc3QuYmFja0xpc3QoKVxuICAgIHZhciBiYWNrTGlzdExlbmd0aCA9IGJhY2tMaXN0LmNvdW50KClcbiAgICBpZiAoYmFja0xpc3RMZW5ndGggPiBpbmRleCkge1xuICAgICAgd2Vidmlldy5sb2FkUmVxdWVzdChOU1VSTFJlcXVlc3QucmVxdWVzdFdpdGhVUkwoYmFja0xpc3RbaW5kZXhdKSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB2YXIgZm9yd2FyZExpc3QgPSBiYWNrRm9yd2FyZExpc3QuZm9yd2FyZExpc3QoKVxuICAgIGlmIChmb3J3YXJkTGlzdC5jb3VudCgpID4gaW5kZXggLSBiYWNrTGlzdExlbmd0aCkge1xuICAgICAgd2Vidmlldy5sb2FkUmVxdWVzdChcbiAgICAgICAgTlNVUkxSZXF1ZXN0LnJlcXVlc3RXaXRoVVJMKGZvcndhcmRMaXN0W2luZGV4IC0gYmFja0xpc3RMZW5ndGhdKVxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdvIHRvIGluZGV4ICcgKyBpbmRleClcbiAgfVxuICB3ZWJDb250ZW50cy5nb1RvT2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgaWYgKCF3ZWJDb250ZW50cy5jYW5Hb1RvT2Zmc2V0KG9mZnNldCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdvIHRvIG9mZnNldCAnICsgb2Zmc2V0KVxuICAgIH1cbiAgICB3ZWJ2aWV3LmxvYWRSZXF1ZXN0KFxuICAgICAgTlNVUkxSZXF1ZXN0LnJlcXVlc3RXaXRoVVJMKHdlYnZpZXcuYmFja0ZvcndhcmRMaXN0KCkuaXRlbUF0SW5kZXgob2Zmc2V0KSlcbiAgICApXG4gIH1cbiAgd2ViQ29udGVudHMuaXNDcmFzaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzpcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTm90IGltcGxlbWVudGVkIHlldCwgcGxlYXNlIG9wZW4gYSBQUiBvbiBodHRwczovL2dpdGh1Yi5jb20vc2twbS9za2V0Y2gtbW9kdWxlLXdlYi12aWV3IDopJ1xuICAgIClcbiAgfVxuICB3ZWJDb250ZW50cy5zZXRVc2VyQWdlbnQgPSBmdW5jdGlvbigvKiB1c2VyQWdlbnQgKi8pIHtcbiAgICAvLyBUT0RPOlxuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdOb3QgaW1wbGVtZW50ZWQgeWV0LCBwbGVhc2Ugb3BlbiBhIFBSIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9za3BtL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcgOiknXG4gICAgKVxuICB9XG4gIHdlYkNvbnRlbnRzLmdldFVzZXJBZ2VudCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHVzZXJBZ2VudCA9IHdlYnZpZXcuY3VzdG9tVXNlckFnZW50KClcbiAgICByZXR1cm4gdXNlckFnZW50ID8gU3RyaW5nKHVzZXJBZ2VudCkgOiB1bmRlZmluZWRcbiAgfVxuICB3ZWJDb250ZW50cy5pbnNlcnRDU1MgPSBmdW5jdGlvbihjc3MpIHtcbiAgICB2YXIgc291cmNlID1cbiAgICAgIFwidmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsgc3R5bGUuaW5uZXJIVE1MID0gXCIgK1xuICAgICAgY3NzLnJlcGxhY2UoL1wiLywgJ1xcXFxcIicpICtcbiAgICAgICc7IGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOydcbiAgICB2YXIgc2NyaXB0ID0gV0tVc2VyU2NyaXB0LmFsbG9jKCkuaW5pdFdpdGhTb3VyY2VfaW5qZWN0aW9uVGltZV9mb3JNYWluRnJhbWVPbmx5KFxuICAgICAgc291cmNlLFxuICAgICAgMCxcbiAgICAgIHRydWVcbiAgICApXG4gICAgd2Vidmlld1xuICAgICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgICAgLnVzZXJDb250ZW50Q29udHJvbGxlcigpXG4gICAgICAuYWRkVXNlclNjcmlwdChzY3JpcHQpXG4gIH1cbiAgd2ViQ29udGVudHMuaW5zZXJ0SlMgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICB2YXIgc2NyaXB0ID0gV0tVc2VyU2NyaXB0LmFsbG9jKCkuaW5pdFdpdGhTb3VyY2VfaW5qZWN0aW9uVGltZV9mb3JNYWluRnJhbWVPbmx5KFxuICAgICAgc291cmNlLFxuICAgICAgMCxcbiAgICAgIHRydWVcbiAgICApXG4gICAgd2Vidmlld1xuICAgICAgLmNvbmZpZ3VyYXRpb24oKVxuICAgICAgLnVzZXJDb250ZW50Q29udHJvbGxlcigpXG4gICAgICAuYWRkVXNlclNjcmlwdChzY3JpcHQpXG4gIH1cbiAgd2ViQ29udGVudHMuZXhlY3V0ZUphdmFTY3JpcHQgPSBleGVjdXRlSmF2YVNjcmlwdCh3ZWJ2aWV3LCBicm93c2VyV2luZG93KVxuICB3ZWJDb250ZW50cy5zZXRJZ25vcmVNZW51U2hvcnRjdXRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gVE9ETzo/P1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdOb3QgaW1wbGVtZW50ZWQgeWV0LCBwbGVhc2Ugb3BlbiBhIFBSIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9za3BtL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcgOiknXG4gICAgKVxuICB9XG4gIHdlYkNvbnRlbnRzLnNldEF1ZGlvTXV0ZWQgPSBmdW5jdGlvbigvKiBtdXRlZCAqLykge1xuICAgIC8vIFRPRE86Pz9cbiAgICBjb25zb2xlLndhcm4oXG4gICAgICAnTm90IGltcGxlbWVudGVkIHlldCwgcGxlYXNlIG9wZW4gYSBQUiBvbiBodHRwczovL2dpdGh1Yi5jb20vc2twbS9za2V0Y2gtbW9kdWxlLXdlYi12aWV3IDopJ1xuICAgIClcbiAgfVxuICB3ZWJDb250ZW50cy5pc0F1ZGlvTXV0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPOj8/XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ05vdCBpbXBsZW1lbnRlZCB5ZXQsIHBsZWFzZSBvcGVuIGEgUFIgb24gaHR0cHM6Ly9naXRodWIuY29tL3NrcG0vc2tldGNoLW1vZHVsZS13ZWItdmlldyA6KSdcbiAgICApXG4gIH1cbiAgd2ViQ29udGVudHMuc2V0Wm9vbUZhY3RvciA9IGZ1bmN0aW9uKGZhY3Rvcikge1xuICAgIHdlYnZpZXcuc2V0TWFnbmlmaWNhdGlvbl9jZW50ZXJlZEF0UG9pbnQoZmFjdG9yLCBDR1BvaW50TWFrZSgwLCAwKSlcbiAgfVxuICB3ZWJDb250ZW50cy5nZXRab29tRmFjdG9yID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhOdW1iZXIod2Vidmlldy5tYWduaWZpY2F0aW9uKCkpKVxuICB9XG4gIHdlYkNvbnRlbnRzLnNldFpvb21MZXZlbCA9IGZ1bmN0aW9uKGxldmVsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuICAgIHdlYkNvbnRlbnRzLnNldFpvb21GYWN0b3IoTWF0aC5wb3coMS4yLCBsZXZlbCkpXG4gIH1cbiAgd2ViQ29udGVudHMuZ2V0Wm9vbUxldmVsID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1wcm9wZXJ0aWVzXG4gICAgY2FsbGJhY2soTWF0aC5sb2coTnVtYmVyKHdlYnZpZXcubWFnbmlmaWNhdGlvbigpKSkgLyBNYXRoLmxvZygxLjIpKVxuICB9XG4gIHdlYkNvbnRlbnRzLnNldFZpc3VhbFpvb21MZXZlbExpbWl0cyA9IGZ1bmN0aW9uKC8qIG1pbmltdW1MZXZlbCwgbWF4aW11bUxldmVsICovKSB7XG4gICAgLy8gVE9ETzo/P1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdOb3QgaW1wbGVtZW50ZWQgeWV0LCBwbGVhc2Ugb3BlbiBhIFBSIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9za3BtL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcgOiknXG4gICAgKVxuICB9XG4gIHdlYkNvbnRlbnRzLnNldExheW91dFpvb21MZXZlbExpbWl0cyA9IGZ1bmN0aW9uKC8qIG1pbmltdW1MZXZlbCwgbWF4aW11bUxldmVsICovKSB7XG4gICAgLy8gVE9ETzo/P1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdOb3QgaW1wbGVtZW50ZWQgeWV0LCBwbGVhc2Ugb3BlbiBhIFBSIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9za3BtL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcgOiknXG4gICAgKVxuICB9XG5cbiAgLy8gVE9ETzpcbiAgLy8gd2ViQ29udGVudHMudW5kbyA9IGZ1bmN0aW9uKCkge1xuICAvLyAgIHdlYnZpZXcudW5kb01hbmFnZXIoKS51bmRvKClcbiAgLy8gfVxuICAvLyB3ZWJDb250ZW50cy5yZWRvID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgd2Vidmlldy51bmRvTWFuYWdlcigpLnJlZG8oKVxuICAvLyB9XG4gIC8vIHdlYkNvbnRlbnRzLmN1dCA9IHdlYnZpZXcuY3V0XG4gIC8vIHdlYkNvbnRlbnRzLmNvcHkgPSB3ZWJ2aWV3LmNvcHlcbiAgLy8gd2ViQ29udGVudHMucGFzdGUgPSB3ZWJ2aWV3LnBhc3RlXG4gIC8vIHdlYkNvbnRlbnRzLnBhc3RlQW5kTWF0Y2hTdHlsZSA9IHdlYnZpZXcucGFzdGVBc1JpY2hUZXh0XG4gIC8vIHdlYkNvbnRlbnRzLmRlbGV0ZSA9IHdlYnZpZXcuZGVsZXRlXG4gIC8vIHdlYkNvbnRlbnRzLnJlcGxhY2UgPSB3ZWJ2aWV3LnJlcGxhY2VTZWxlY3Rpb25XaXRoVGV4dFxuXG4gIHdlYkNvbnRlbnRzLnNlbmQgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzY3JpcHQgPVxuICAgICAgJ3dpbmRvdy5wb3N0TWVzc2FnZSh7JyArXG4gICAgICAnaXNTa2V0Y2hNZXNzYWdlOiB0cnVlLCcgK1xuICAgICAgXCJvcmlnaW46ICdcIiArXG4gICAgICBTdHJpbmcoX19jb21tYW5kLmlkZW50aWZpZXIoKSkgK1xuICAgICAgXCInLFwiICtcbiAgICAgICdhcmdzOiAnICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkgK1xuICAgICAgJ30sIFwiKlwiKSdcbiAgICB3ZWJ2aWV3LmV2YWx1YXRlSmF2YVNjcmlwdF9jb21wbGV0aW9uSGFuZGxlcihzY3JpcHQsIG51bGwpXG4gIH1cblxuICB3ZWJDb250ZW50cy5nZXROYXRpdmVXZWJ2aWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdlYnZpZXdcbiAgfVxuXG4gIGJyb3dzZXJXaW5kb3cud2ViQ29udGVudHMgPSB3ZWJDb250ZW50c1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/lib/webview-api.js\n");

/***/ }),

/***/ "./node_modules/sketch-module-web-view/remote.js":
/*!*******************************************************!*\
  !*** ./node_modules/sketch-module-web-view/remote.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* globals NSThread */\nvar threadDictionary = NSThread.mainThread().threadDictionary()\n\nmodule.exports.getWebview = function(identifier) {\n  return __webpack_require__(/*! ./lib */ \"./node_modules/sketch-module-web-view/lib/index.js\").fromId(identifier) // eslint-disable-line\n}\n\nmodule.exports.isWebviewPresent = function isWebviewPresent(identifier) {\n  return !!threadDictionary[identifier]\n}\n\nmodule.exports.sendToWebview = function sendToWebview(identifier, evalString) {\n  if (!module.exports.isWebviewPresent(identifier)) {\n    return\n  }\n\n  var panel = threadDictionary[identifier]\n  var webview = null\n  var subviews = panel.contentView().subviews()\n  for (var i = 0; i < subviews.length; i += 1) {\n    if (\n      !webview &&\n      !subviews[i].isKindOfClass(WKInspectorWKWebView) &&\n      subviews[i].isKindOfClass(WKWebView)\n    ) {\n      webview = subviews[i]\n    }\n  }\n\n  if (!webview || !webview.evaluateJavaScript_completionHandler) {\n    throw new Error('Webview ' + identifier + ' not found')\n  }\n\n  webview.evaluateJavaScript_completionHandler(evalString, null)\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLW1vZHVsZS13ZWItdmlldy9yZW1vdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvcmVtb3RlLmpzPzJkNjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBOU1RocmVhZCAqL1xudmFyIHRocmVhZERpY3Rpb25hcnkgPSBOU1RocmVhZC5tYWluVGhyZWFkKCkudGhyZWFkRGljdGlvbmFyeSgpXG5cbm1vZHVsZS5leHBvcnRzLmdldFdlYnZpZXcgPSBmdW5jdGlvbihpZGVudGlmaWVyKSB7XG4gIHJldHVybiByZXF1aXJlKCcuL2xpYicpLmZyb21JZChpZGVudGlmaWVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG59XG5cbm1vZHVsZS5leHBvcnRzLmlzV2Vidmlld1ByZXNlbnQgPSBmdW5jdGlvbiBpc1dlYnZpZXdQcmVzZW50KGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuICEhdGhyZWFkRGljdGlvbmFyeVtpZGVudGlmaWVyXVxufVxuXG5tb2R1bGUuZXhwb3J0cy5zZW5kVG9XZWJ2aWV3ID0gZnVuY3Rpb24gc2VuZFRvV2VidmlldyhpZGVudGlmaWVyLCBldmFsU3RyaW5nKSB7XG4gIGlmICghbW9kdWxlLmV4cG9ydHMuaXNXZWJ2aWV3UHJlc2VudChpZGVudGlmaWVyKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgdmFyIHBhbmVsID0gdGhyZWFkRGljdGlvbmFyeVtpZGVudGlmaWVyXVxuICB2YXIgd2VidmlldyA9IG51bGxcbiAgdmFyIHN1YnZpZXdzID0gcGFuZWwuY29udGVudFZpZXcoKS5zdWJ2aWV3cygpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3Vidmlld3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoXG4gICAgICAhd2VidmlldyAmJlxuICAgICAgIXN1YnZpZXdzW2ldLmlzS2luZE9mQ2xhc3MoV0tJbnNwZWN0b3JXS1dlYlZpZXcpICYmXG4gICAgICBzdWJ2aWV3c1tpXS5pc0tpbmRPZkNsYXNzKFdLV2ViVmlldylcbiAgICApIHtcbiAgICAgIHdlYnZpZXcgPSBzdWJ2aWV3c1tpXVxuICAgIH1cbiAgfVxuXG4gIGlmICghd2VidmlldyB8fCAhd2Vidmlldy5ldmFsdWF0ZUphdmFTY3JpcHRfY29tcGxldGlvbkhhbmRsZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYnZpZXcgJyArIGlkZW50aWZpZXIgKyAnIG5vdCBmb3VuZCcpXG4gIH1cblxuICB3ZWJ2aWV3LmV2YWx1YXRlSmF2YVNjcmlwdF9jb21wbGV0aW9uSGFuZGxlcihldmFsU3RyaW5nLCBudWxsKVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sketch-module-web-view/remote.js\n");

/***/ }),

/***/ "./node_modules/sketch-polyfill-fetch/lib/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/sketch-polyfill-fetch/lib/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(Promise) {/* globals NSJSONSerialization NSJSONWritingPrettyPrinted NSDictionary NSHTTPURLResponse NSString NSASCIIStringEncoding NSUTF8StringEncoding coscript NSURL NSMutableURLRequest NSMutableData NSURLConnection */\nvar Buffer;\ntry {\n  Buffer = __webpack_require__(/*! buffer */ \"buffer\").Buffer;\n} catch (err) {}\n\nfunction response(httpResponse, data) {\n  var keys = [];\n  var all = [];\n  var headers = {};\n  var header;\n\n  for (var i = 0; i < httpResponse.allHeaderFields().allKeys().length; i++) {\n    var key = httpResponse\n      .allHeaderFields()\n      .allKeys()\n      [i].toLowerCase();\n    var value = String(httpResponse.allHeaderFields()[key]);\n    keys.push(key);\n    all.push([key, value]);\n    header = headers[key];\n    headers[key] = header ? header + \",\" + value : value;\n  }\n\n  return {\n    ok: ((httpResponse.statusCode() / 200) | 0) == 1, // 200-399\n    status: Number(httpResponse.statusCode()),\n    statusText: String(\n      NSHTTPURLResponse.localizedStringForStatusCode(httpResponse.statusCode())\n    ),\n    useFinalURL: true,\n    url: String(httpResponse.URL().absoluteString()),\n    clone: response.bind(this, httpResponse, data),\n    text: function() {\n      return new Promise(function(resolve, reject) {\n        const str = String(\n          NSString.alloc().initWithData_encoding(data, NSASCIIStringEncoding)\n        );\n        if (str) {\n          resolve(str);\n        } else {\n          reject(new Error(\"Couldn't parse body\"));\n        }\n      });\n    },\n    json: function() {\n      return new Promise(function(resolve, reject) {\n        var str = String(\n          NSString.alloc().initWithData_encoding(data, NSUTF8StringEncoding)\n        );\n        if (str) {\n          // parse errors are turned into exceptions, which cause promise to be rejected\n          var obj = JSON.parse(str);\n          resolve(obj);\n        } else {\n          reject(\n            new Error(\n              \"Could not parse JSON because it is not valid UTF-8 data.\"\n            )\n          );\n        }\n      });\n    },\n    blob: function() {\n      return Promise.resolve(data);\n    },\n    arrayBuffer: function() {\n      return Promise.resolve(Buffer.from(data));\n    },\n    headers: {\n      keys: function() {\n        return keys;\n      },\n      entries: function() {\n        return all;\n      },\n      get: function(n) {\n        return headers[n.toLowerCase()];\n      },\n      has: function(n) {\n        return n.toLowerCase() in headers;\n      }\n    }\n  };\n}\n\n// We create one ObjC class for ourselves here\nvar DelegateClass;\n\nfunction fetch(urlString, options) {\n  if (\n    typeof urlString === \"object\" &&\n    (!urlString.isKindOfClass || !urlString.isKindOfClass(NSString))\n  ) {\n    options = urlString;\n    urlString = options.url;\n  }\n  options = options || {};\n  if (!urlString) {\n    return Promise.reject(\"Missing URL\");\n  }\n  var fiber;\n  try {\n    fiber = coscript.createFiber();\n  } catch (err) {\n    coscript.shouldKeepAround = true;\n  }\n  return new Promise(function(resolve, reject) {\n    var url = NSURL.alloc().initWithString(urlString);\n    var request = NSMutableURLRequest.requestWithURL(url);\n    request.setHTTPMethod(options.method || \"GET\");\n\n    Object.keys(options.headers || {}).forEach(function(i) {\n      request.setValue_forHTTPHeaderField(options.headers[i], i);\n    });\n\n    if (options.body) {\n      var data;\n      if (typeof options.body === \"string\") {\n        var str = NSString.alloc().initWithString(options.body);\n        data = str.dataUsingEncoding(NSUTF8StringEncoding);\n      } else if (Buffer && Buffer.isBuffer(options.body)) {\n        data = options.body.toNSData();\n      } else if (\n        options.body.isKindOfClass &&\n        options.body.isKindOfClass(NSData) == 1\n      ) {\n        data = options.body;\n      } else if (options.body._isFormData) {\n        var boundary = options.body._boundary;\n        data = options.body._data;\n        data.appendData(\n          NSString.alloc()\n            .initWithString(\"--\" + boundary + \"--\\r\\n\")\n            .dataUsingEncoding(NSUTF8StringEncoding)\n        );\n        request.setValue_forHTTPHeaderField(\n          \"multipart/form-data; boundary=\" + boundary,\n          \"Content-Type\"\n        );\n      } else {\n        var error;\n        data = NSJSONSerialization.dataWithJSONObject_options_error(\n          options.body,\n          NSJSONWritingPrettyPrinted,\n          error\n        );\n        if (error != null) {\n          return reject(error);\n        }\n        request.setValue_forHTTPHeaderField(\n          \"\" + data.length(),\n          \"Content-Length\"\n        );\n      }\n      request.setHTTPBody(data);\n    }\n\n    if (options.cache) {\n      switch (options.cache) {\n        case \"reload\":\n        case \"no-cache\":\n        case \"no-store\": {\n          request.setCachePolicy(1); // NSURLRequestReloadIgnoringLocalCacheData\n        }\n        case \"force-cache\": {\n          request.setCachePolicy(2); // NSURLRequestReturnCacheDataElseLoad\n        }\n        case \"only-if-cached\": {\n          request.setCachePolicy(3); // NSURLRequestReturnCacheDataElseLoad\n        }\n      }\n    }\n\n    if (!options.credentials) {\n      request.setHTTPShouldHandleCookies(false);\n    }\n\n    var finished = false;\n\n    var connection = NSURLSession.sharedSession().dataTaskWithRequest_completionHandler(\n      request,\n      __mocha__.createBlock_function(\n        'v32@?0@\"NSData\"8@\"NSURLResponse\"16@\"NSError\"24',\n        function(data, res, error) {\n          if (fiber) {\n            fiber.cleanup();\n          } else {\n            coscript.shouldKeepAround = false;\n          }\n          if (error) {\n            finished = true;\n            return reject(error);\n          }\n          return resolve(response(res, data));\n        }\n      )\n    );\n\n    connection.resume();\n\n    if (fiber) {\n      fiber.onCleanup(function() {\n        if (!finished) {\n          connection.cancel();\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = fetch;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@skpm/promise/index.js */ \"./node_modules/@skpm/promise/index.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2tldGNoLXBvbHlmaWxsLWZldGNoL2xpYi9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9ub2RlX21vZHVsZXMvc2tldGNoLXBvbHlmaWxsLWZldGNoL2xpYi9pbmRleC5qcz8yNTE0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgTlNKU09OU2VyaWFsaXphdGlvbiBOU0pTT05Xcml0aW5nUHJldHR5UHJpbnRlZCBOU0RpY3Rpb25hcnkgTlNIVFRQVVJMUmVzcG9uc2UgTlNTdHJpbmcgTlNBU0NJSVN0cmluZ0VuY29kaW5nIE5TVVRGOFN0cmluZ0VuY29kaW5nIGNvc2NyaXB0IE5TVVJMIE5TTXV0YWJsZVVSTFJlcXVlc3QgTlNNdXRhYmxlRGF0YSBOU1VSTENvbm5lY3Rpb24gKi9cbnZhciBCdWZmZXI7XG50cnkge1xuICBCdWZmZXIgPSByZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcjtcbn0gY2F0Y2ggKGVycikge31cblxuZnVuY3Rpb24gcmVzcG9uc2UoaHR0cFJlc3BvbnNlLCBkYXRhKSB7XG4gIHZhciBrZXlzID0gW107XG4gIHZhciBhbGwgPSBbXTtcbiAgdmFyIGhlYWRlcnMgPSB7fTtcbiAgdmFyIGhlYWRlcjtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGh0dHBSZXNwb25zZS5hbGxIZWFkZXJGaWVsZHMoKS5hbGxLZXlzKCkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gaHR0cFJlc3BvbnNlXG4gICAgICAuYWxsSGVhZGVyRmllbGRzKClcbiAgICAgIC5hbGxLZXlzKClcbiAgICAgIFtpXS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciB2YWx1ZSA9IFN0cmluZyhodHRwUmVzcG9uc2UuYWxsSGVhZGVyRmllbGRzKClba2V5XSk7XG4gICAga2V5cy5wdXNoKGtleSk7XG4gICAgYWxsLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICBoZWFkZXIgPSBoZWFkZXJzW2tleV07XG4gICAgaGVhZGVyc1trZXldID0gaGVhZGVyID8gaGVhZGVyICsgXCIsXCIgKyB2YWx1ZSA6IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBvazogKChodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSgpIC8gMjAwKSB8IDApID09IDEsIC8vIDIwMC0zOTlcbiAgICBzdGF0dXM6IE51bWJlcihodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSgpKSxcbiAgICBzdGF0dXNUZXh0OiBTdHJpbmcoXG4gICAgICBOU0hUVFBVUkxSZXNwb25zZS5sb2NhbGl6ZWRTdHJpbmdGb3JTdGF0dXNDb2RlKGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlKCkpXG4gICAgKSxcbiAgICB1c2VGaW5hbFVSTDogdHJ1ZSxcbiAgICB1cmw6IFN0cmluZyhodHRwUmVzcG9uc2UuVVJMKCkuYWJzb2x1dGVTdHJpbmcoKSksXG4gICAgY2xvbmU6IHJlc3BvbnNlLmJpbmQodGhpcywgaHR0cFJlc3BvbnNlLCBkYXRhKSxcbiAgICB0ZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgY29uc3Qgc3RyID0gU3RyaW5nKFxuICAgICAgICAgIE5TU3RyaW5nLmFsbG9jKCkuaW5pdFdpdGhEYXRhX2VuY29kaW5nKGRhdGEsIE5TQVNDSUlTdHJpbmdFbmNvZGluZylcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgIHJlc29sdmUoc3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQ291bGRuJ3QgcGFyc2UgYm9keVwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAganNvbjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBzdHIgPSBTdHJpbmcoXG4gICAgICAgICAgTlNTdHJpbmcuYWxsb2MoKS5pbml0V2l0aERhdGFfZW5jb2RpbmcoZGF0YSwgTlNVVEY4U3RyaW5nRW5jb2RpbmcpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAvLyBwYXJzZSBlcnJvcnMgYXJlIHR1cm5lZCBpbnRvIGV4Y2VwdGlvbnMsIHdoaWNoIGNhdXNlIHByb21pc2UgdG8gYmUgcmVqZWN0ZWRcbiAgICAgICAgICB2YXIgb2JqID0gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICAgIHJlc29sdmUob2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiQ291bGQgbm90IHBhcnNlIEpTT04gYmVjYXVzZSBpdCBpcyBub3QgdmFsaWQgVVRGLTggZGF0YS5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYmxvYjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgIH0sXG4gICAgYXJyYXlCdWZmZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShCdWZmZXIuZnJvbShkYXRhKSk7XG4gICAgfSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICB9LFxuICAgICAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhbGw7XG4gICAgICB9LFxuICAgICAgZ2V0OiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJzW24udG9Mb3dlckNhc2UoKV07XG4gICAgICB9LFxuICAgICAgaGFzOiBmdW5jdGlvbihuKSB7XG4gICAgICAgIHJldHVybiBuLnRvTG93ZXJDYXNlKCkgaW4gaGVhZGVycztcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8vIFdlIGNyZWF0ZSBvbmUgT2JqQyBjbGFzcyBmb3Igb3Vyc2VsdmVzIGhlcmVcbnZhciBEZWxlZ2F0ZUNsYXNzO1xuXG5mdW5jdGlvbiBmZXRjaCh1cmxTdHJpbmcsIG9wdGlvbnMpIHtcbiAgaWYgKFxuICAgIHR5cGVvZiB1cmxTdHJpbmcgPT09IFwib2JqZWN0XCIgJiZcbiAgICAoIXVybFN0cmluZy5pc0tpbmRPZkNsYXNzIHx8ICF1cmxTdHJpbmcuaXNLaW5kT2ZDbGFzcyhOU1N0cmluZykpXG4gICkge1xuICAgIG9wdGlvbnMgPSB1cmxTdHJpbmc7XG4gICAgdXJsU3RyaW5nID0gb3B0aW9ucy51cmw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICghdXJsU3RyaW5nKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTWlzc2luZyBVUkxcIik7XG4gIH1cbiAgdmFyIGZpYmVyO1xuICB0cnkge1xuICAgIGZpYmVyID0gY29zY3JpcHQuY3JlYXRlRmliZXIoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29zY3JpcHQuc2hvdWxkS2VlcEFyb3VuZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciB1cmwgPSBOU1VSTC5hbGxvYygpLmluaXRXaXRoU3RyaW5nKHVybFN0cmluZyk7XG4gICAgdmFyIHJlcXVlc3QgPSBOU011dGFibGVVUkxSZXF1ZXN0LnJlcXVlc3RXaXRoVVJMKHVybCk7XG4gICAgcmVxdWVzdC5zZXRIVFRQTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpO1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucy5oZWFkZXJzIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJlcXVlc3Quc2V0VmFsdWVfZm9ySFRUUEhlYWRlckZpZWxkKG9wdGlvbnMuaGVhZGVyc1tpXSwgaSk7XG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBzdHIgPSBOU1N0cmluZy5hbGxvYygpLmluaXRXaXRoU3RyaW5nKG9wdGlvbnMuYm9keSk7XG4gICAgICAgIGRhdGEgPSBzdHIuZGF0YVVzaW5nRW5jb2RpbmcoTlNVVEY4U3RyaW5nRW5jb2RpbmcpO1xuICAgICAgfSBlbHNlIGlmIChCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKG9wdGlvbnMuYm9keSkpIHtcbiAgICAgICAgZGF0YSA9IG9wdGlvbnMuYm9keS50b05TRGF0YSgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgb3B0aW9ucy5ib2R5LmlzS2luZE9mQ2xhc3MgJiZcbiAgICAgICAgb3B0aW9ucy5ib2R5LmlzS2luZE9mQ2xhc3MoTlNEYXRhKSA9PSAxXG4gICAgICApIHtcbiAgICAgICAgZGF0YSA9IG9wdGlvbnMuYm9keTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5ib2R5Ll9pc0Zvcm1EYXRhKSB7XG4gICAgICAgIHZhciBib3VuZGFyeSA9IG9wdGlvbnMuYm9keS5fYm91bmRhcnk7XG4gICAgICAgIGRhdGEgPSBvcHRpb25zLmJvZHkuX2RhdGE7XG4gICAgICAgIGRhdGEuYXBwZW5kRGF0YShcbiAgICAgICAgICBOU1N0cmluZy5hbGxvYygpXG4gICAgICAgICAgICAuaW5pdFdpdGhTdHJpbmcoXCItLVwiICsgYm91bmRhcnkgKyBcIi0tXFxyXFxuXCIpXG4gICAgICAgICAgICAuZGF0YVVzaW5nRW5jb2RpbmcoTlNVVEY4U3RyaW5nRW5jb2RpbmcpXG4gICAgICAgICk7XG4gICAgICAgIHJlcXVlc3Quc2V0VmFsdWVfZm9ySFRUUEhlYWRlckZpZWxkKFxuICAgICAgICAgIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9XCIgKyBib3VuZGFyeSxcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIGRhdGEgPSBOU0pTT05TZXJpYWxpemF0aW9uLmRhdGFXaXRoSlNPTk9iamVjdF9vcHRpb25zX2Vycm9yKFxuICAgICAgICAgIG9wdGlvbnMuYm9keSxcbiAgICAgICAgICBOU0pTT05Xcml0aW5nUHJldHR5UHJpbnRlZCxcbiAgICAgICAgICBlcnJvclxuICAgICAgICApO1xuICAgICAgICBpZiAoZXJyb3IgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3Quc2V0VmFsdWVfZm9ySFRUUEhlYWRlckZpZWxkKFxuICAgICAgICAgIFwiXCIgKyBkYXRhLmxlbmd0aCgpLFxuICAgICAgICAgIFwiQ29udGVudC1MZW5ndGhcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVxdWVzdC5zZXRIVFRQQm9keShkYXRhKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jYWNoZSkge1xuICAgICAgc3dpdGNoIChvcHRpb25zLmNhY2hlKSB7XG4gICAgICAgIGNhc2UgXCJyZWxvYWRcIjpcbiAgICAgICAgY2FzZSBcIm5vLWNhY2hlXCI6XG4gICAgICAgIGNhc2UgXCJuby1zdG9yZVwiOiB7XG4gICAgICAgICAgcmVxdWVzdC5zZXRDYWNoZVBvbGljeSgxKTsgLy8gTlNVUkxSZXF1ZXN0UmVsb2FkSWdub3JpbmdMb2NhbENhY2hlRGF0YVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmb3JjZS1jYWNoZVwiOiB7XG4gICAgICAgICAgcmVxdWVzdC5zZXRDYWNoZVBvbGljeSgyKTsgLy8gTlNVUkxSZXF1ZXN0UmV0dXJuQ2FjaGVEYXRhRWxzZUxvYWRcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwib25seS1pZi1jYWNoZWRcIjoge1xuICAgICAgICAgIHJlcXVlc3Quc2V0Q2FjaGVQb2xpY3koMyk7IC8vIE5TVVJMUmVxdWVzdFJldHVybkNhY2hlRGF0YUVsc2VMb2FkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuY3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Quc2V0SFRUUFNob3VsZEhhbmRsZUNvb2tpZXMoZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBmaW5pc2hlZCA9IGZhbHNlO1xuXG4gICAgdmFyIGNvbm5lY3Rpb24gPSBOU1VSTFNlc3Npb24uc2hhcmVkU2Vzc2lvbigpLmRhdGFUYXNrV2l0aFJlcXVlc3RfY29tcGxldGlvbkhhbmRsZXIoXG4gICAgICByZXF1ZXN0LFxuICAgICAgX19tb2NoYV9fLmNyZWF0ZUJsb2NrX2Z1bmN0aW9uKFxuICAgICAgICAndjMyQD8wQFwiTlNEYXRhXCI4QFwiTlNVUkxSZXNwb25zZVwiMTZAXCJOU0Vycm9yXCIyNCcsXG4gICAgICAgIGZ1bmN0aW9uKGRhdGEsIHJlcywgZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZmliZXIpIHtcbiAgICAgICAgICAgIGZpYmVyLmNsZWFudXAoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29zY3JpcHQuc2hvdWxkS2VlcEFyb3VuZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXNwb25zZShyZXMsIGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG5cbiAgICBjb25uZWN0aW9uLnJlc3VtZSgpO1xuXG4gICAgaWYgKGZpYmVyKSB7XG4gICAgICBmaWJlci5vbkNsZWFudXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgICBjb25uZWN0aW9uLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/sketch-polyfill-fetch/lib/index.js\n");

/***/ }),

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzPzIzNjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW2J0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV1dKS5qb2luKCcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBieXRlc1RvVXVpZDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/bytesToUuid.js\n");

/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBvcnRzLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL3JuZy1icm93c2VyLmpzP2UxZjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gIEluIHRoZVxuLy8gYnJvd3NlciB0aGlzIGlzIGEgbGl0dGxlIGNvbXBsaWNhdGVkIGR1ZSB0byB1bmtub3duIHF1YWxpdHkgb2YgTWF0aC5yYW5kb20oKVxuLy8gYW5kIGluY29uc2lzdGVudCBzdXBwb3J0IGZvciB0aGUgYGNyeXB0b2AgQVBJLiAgV2UgZG8gdGhlIGJlc3Qgd2UgY2FuIHZpYVxuLy8gZmVhdHVyZS1kZXRlY3Rpb25cblxuLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvXG4vLyBpbXBsZW1lbnRhdGlvbi4gQWxzbywgZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIG9uIElFMTEuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gKHR5cGVvZihjcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihtc0NyeXB0bykgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0bykpO1xuXG5pZiAoZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIC8vIFdIQVRXRyBjcnlwdG8gUk5HIC0gaHR0cDovL3dpa2kud2hhdHdnLm9yZy93aWtpL0NyeXB0b1xuICB2YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdoYXR3Z1JORygpIHtcbiAgICBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICAgIHJldHVybiBybmRzODtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIE1hdGgucmFuZG9tKCktYmFzZWQgKFJORylcbiAgLy9cbiAgLy8gSWYgYWxsIGVsc2UgZmFpbHMsIHVzZSBNYXRoLnJhbmRvbSgpLiAgSXQncyBmYXN0LCBidXQgaXMgb2YgdW5zcGVjaWZpZWRcbiAgLy8gcXVhbGl0eS5cbiAgdmFyIHJuZHMgPSBuZXcgQXJyYXkoMTYpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWF0aFJORygpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcjsgaSA8IDE2OyBpKyspIHtcbiAgICAgIGlmICgoaSAmIDB4MDMpID09PSAwKSByID0gTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMDAwO1xuICAgICAgcm5kc1tpXSA9IHIgPj4+ICgoaSAmIDB4MDMpIDw8IDMpICYgMHhmZjtcbiAgICB9XG5cbiAgICByZXR1cm4gcm5kcztcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/rng-browser.js\n");

/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"./node_modules/uuid/lib/rng-browser.js\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"./node_modules/uuid/lib/bytesToUuid.js\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcz9jNjRlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuXG4gIGlmICh0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICBidWYgPSBvcHRpb25zID09PSAnYmluYXJ5JyA/IG5ldyBBcnJheSgxNikgOiBudWxsO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSAocm5kc1s2XSAmIDB4MGYpIHwgMHg0MDtcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwO1xuXG4gIC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IDE2OyArK2lpKSB7XG4gICAgICBidWZbaSArIGlpXSA9IHJuZHNbaWldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBidWYgfHwgYnl0ZXNUb1V1aWQocm5kcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjQ7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/v4.js\n");

/***/ }),

/***/ "./src/handler.js":
/*!************************!*\
  !*** ./src/handler.js ***!
  \************************/
/*! exports provided: default, onShutdown, importSvg, editSvg */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return onRun; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onShutdown\", function() { return onShutdown; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"importSvg\", function() { return importSvg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editSvg\", function() { return editSvg; });\n/* harmony import */ var sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sketch-module-web-view */ \"./node_modules/sketch-module-web-view/lib/index.js\");\n/* harmony import */ var sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sketch_module_web_view_remote__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sketch-module-web-view/remote */ \"./node_modules/sketch-module-web-view/remote.js\");\n/* harmony import */ var sketch_module_web_view_remote__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sketch_module_web_view_remote__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sketch_polyfill_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sketch-polyfill-fetch */ \"./node_modules/sketch-polyfill-fetch/lib/index.js\");\n/* harmony import */ var sketch_polyfill_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sketch_polyfill_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var sketch_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sketch/ui */ \"sketch/ui\");\n/* harmony import */ var sketch_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(sketch_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sketch_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sketch/dom */ \"sketch/dom\");\n/* harmony import */ var sketch_dom__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sketch_dom__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var sketch_settings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sketch/settings */ \"sketch/settings\");\n/* harmony import */ var sketch_settings__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(sketch_settings__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nvar webviewIdentifier = 'canary.webview';\nvar Document = sketch_dom__WEBPACK_IMPORTED_MODULE_4___default.a.Document;\nvar Image = sketch_dom__WEBPACK_IMPORTED_MODULE_4___default.a.Image;\nfunction onRun(context) {\n  // 判断是否是新用户\n  if (!sketch_settings__WEBPACK_IMPORTED_MODULE_5___default.a.settingForKey('canary-uuid')) {\n    var uuid = uuid_v4__WEBPACK_IMPORTED_MODULE_6___default()();\n    sketch_settings__WEBPACK_IMPORTED_MODULE_5___default.a.setSettingForKey('canary-uuid', uuid); // 进行上报\n\n    sketch_polyfill_fetch__WEBPACK_IMPORTED_MODULE_2___default()('', {\n      method: 'POST',\n      body: {\n        'canary-uuid': uuid\n      }\n    });\n  }\n\n  var browserWindow = sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0___default.a.fromId(webviewIdentifier);\n\n  if (browserWindow) {\n    if (browserWindow.isVisible()) {\n      browserWindow.minimize();\n    } else {\n      browserWindow.show();\n    }\n\n    return;\n  }\n\n  var options = {\n    identifier: webviewIdentifier,\n    width: 600,\n    height: 600,\n    fullscreen: true\n  };\n  browserWindow = new sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0___default.a(options);\n  var webContents = browserWindow.webContents;\n  browserWindow._panel.webContents = webContents;\n  browserWindow.maximize(); // print a message when the page loads\n\n  webContents.on('did-finish-load', function () {\n    sketch_ui__WEBPACK_IMPORTED_MODULE_3___default.a.message('UI loaded!');\n  });\n  webContents.on('export-svg', function (svg) {\n    var group = sketch_dom__WEBPACK_IMPORTED_MODULE_4___default.a.createLayerFromData(svg, 'svg');\n    group.name = \"canary-\".concat(group.id);\n    Document.fromNative(context.document).selectedPage.layers.push(group);\n    sketch_settings__WEBPACK_IMPORTED_MODULE_5___default.a.setDocumentSettingForKey(context.document, group.name, \"\".concat(svg));\n    browserWindow.minimize();\n  });\n  webContents.on('export-png', function (png) {\n    console.log(png);\n    var pngBase = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxMjFweCIgaGVpZ2h0PSI0NjFweCIgdmlld0JveD0iLTAuNSAtMC41IDEyMSA0NjEiIGNvbnRlbnQ9IiZsdDtteGZpbGUgaG9zdD0mcXVvdDt5dmFud2FuZ2wuZ2l0aHViLmlvJnF1b3Q7IG1vZGlmaWVkPSZxdW90OzIwMjAtMDMtMjhUMDg6MTU6MTcuNTM3WiZxdW90OyBhZ2VudD0mcXVvdDtNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xM182KSBBcHBsZVdlYktpdC82MDUuMS4xNSAoS0hUTUwsIGxpa2UgR2Vja28pJnF1b3Q7IGV0YWc9JnF1b3Q7VXEwM2NHOHdnbFZwRDdNZlpGcnEmcXVvdDsgdmVyc2lvbj0mcXVvdDsxMi4wLjAmcXVvdDsgdHlwZT0mcXVvdDtkZXZpY2UmcXVvdDsgcGFnZXM9JnF1b3Q7MSZxdW90OyZndDsmbHQ7ZGlhZ3JhbSBpZD0mcXVvdDtYRmdvUHM2aEw5SmlSeGVsQWY4YiZxdW90OyBuYW1lPSZxdW90O+esrCAxIOmhtSZxdW90OyZndDt4WlZiYjRNZ0ZJQi9qWTlMcXZSaVg5ZDJYWlkxNjlLSGJvOVVUNVVVeFNGTzNhOGZLR3FOYmV5V3VMMFkrQTRjNEpPTGdSWkJ0dVk0OGpmTUJXcFlJemN6ME5Ld3JEbXk1RmVCdkFUbVpGd0NqeE5Yb3dic3lCZG9PTkkwSVM3RXJZYUNNU3BJMUlZT0MwTndSSXRoemxuYWJuWmt0RDFxaEQzb2dKMkRhWmZ1aVN2OGt0cldyT0dQUUR5L0d0bWN6c3RJZ0t2R2VpV3hqMTJXbmlHME10Q0NNeWJLVXBBdGdDcDNsWmV5MzhPVmFEMHhEcUc0cFVPOG5yMXQ5dk9jRS85amE1NWU3YWYzNVozTzhvbHBvaGVzSnl2eXlnQm5TZWlDU21JYTZENzFpWUJkaEIwVlRlVXZsOHdYQWRWaG5RNjRnT3pxUE0xNjlYTFhBQXRBOEZ3MjBSMHFYM203bWpiMnpZcjVaK2FubW1IOXc3MDZjZU5FRnJTV0h5aXkraFhKTEhJL1FyOGVIRWZsSmoyU1RDa2R3SmM1NmdxekwvaXloL0tGK24wSlRuRG8wUnVFRGJHZnVuNm1mK2xuM085SFhoV1JLam81SmZMczhYNVBoL0tRUGg5cWdKMlRWeHpkbDBUSUxEQ1lVUFRmUWllM0M0MEZLSEVSY0NMSFZtSUx0RzNxZmFLTGc2dWZxV0Y4amkvNHZIamovVUtvckRZUFRoRTdlN1hSNmhzPSZsdDsvZGlhZ3JhbSZndDsmbHQ7L214ZmlsZSZndDsiPjxkZWZzLz48Zz48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjYwIiByeD0iOSIgcnk9IjkiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48ZWxsaXBzZSBjeD0iNDAiIGN5PSIxMjAiIHJ4PSI0MCIgcnk9IjQwIiBmaWxsPSIjZmZmZmZmIiBzdHJva2U9IiMwMDAwMDAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PHBhdGggZD0iTSAwIDE4MCBMIDYwIDIyMCBMIDAgMjYwIFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMCAyOTYgQyAwIDI3NC42NyA2MCAyNzQuNjcgNjAgMjk2IEwgNjAgMzQ0IEMgNjAgMzY1LjMzIDAgMzY1LjMzIDAgMzQ0IFoiIGZpbGw9IiNmZmZmZmYiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludGVyLWV2ZW50cz0ibm9uZSIvPjxwYXRoIGQ9Ik0gMCAyOTYgQyAwIDMxMiA2MCAzMTIgNjAgMjk2IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRlci1ldmVudHM9Im5vbmUiLz48cGF0aCBkPSJNIDAgMzgwIEwgMTAwIDM4MCBMIDEyMCA0MjAgTCAxMDAgNDYwIEwgMCA0NjAgTCAyMCA0MjAgWiIgZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50ZXItZXZlbnRzPSJub25lIi8+PC9nPjwvc3ZnPg==';\n    var image = NSImage.alloc().initWithContentsOfURL(NSURL.URLWithString(pngBase)); // MSImageData.alloc().initWithImage(image)\n\n    var imageLayer = new Image({\n      image: MSImageData.alloc().initWithImage(image)\n    }); // const group = sketch.createLayerFromData(png, 'bitmap');\n    // group.name = `canary-${group.id}`;\n\n    Document.fromNative(context.document).selectedPage.layers.push(imageLayer); // Settings.setDocumentSettingForKey(context.document, group.name, `${svg}`);\n\n    browserWindow.minimize();\n  }); // add a handler for a call from web content's javascript\n\n  webContents.on('nativeLog', function (s) {\n    sketch_ui__WEBPACK_IMPORTED_MODULE_3___default.a.message(s);\n    webContents.executeJavaScript(\"setRandomNumber(\".concat(Math.random(), \")\")).catch(console.error);\n  });\n  browserWindow.loadURL('https://yvanwangl.github.io/drawio/src/main/webapp/index.html');\n} // When the plugin is shutdown by Sketch (for example when the user disable the plugin)\n// we need to close the webview if it's open\n\nfunction onShutdown() {\n  var existingWebview = Object(sketch_module_web_view_remote__WEBPACK_IMPORTED_MODULE_1__[\"getWebview\"])(webviewIdentifier);\n\n  if (existingWebview) {\n    existingWebview.close();\n  }\n} // 导入svg\n\nvar importSvg = function importSvg() {\n  sketch_ui__WEBPACK_IMPORTED_MODULE_3___default.a.getInputFromUser(\"Parse svg\", {\n    initialValue: ''\n  }, function (err, value) {\n    if (err) {\n      // most likely the user canceled the input\n      return;\n    }\n\n    var group = sketch_dom__WEBPACK_IMPORTED_MODULE_4___default.a.createLayerFromData(value, 'bitmap');\n    Document.fromNative(context.document).selectedPage.layers.push(group);\n  });\n}; // 元素选择事件\n// export const onSelectionChangedFinish = (context) => {\n//   const document = context.actionContext.document;\n//   const selection = Document.fromNative(document).selectedLayers;\n//   if (selection.length === 1) {\n//     selection.forEach(layer => {\n//       if (/^canary-/.test(layer.name)) {\n//         const svgData = Settings.documentSettingForKey(document, layer.name);\n//         let browserWindow = BrowserWindow.fromId(webviewIdentifier);\n//         if (browserWindow) {\n//           const webContents = browserWindow._panel.webContents;\n//           // browserWindow.webContents.executeJavaScript(`importSvg(${svgData})`).catch(console.error);\n//           webContents.executeJavaScript(`importSvg(${JSON.stringify({ svgData })})`).catch(console.error);\n//         }\n//       }\n//     });\n//   } else {\n//   }\n// };\n// 元素编辑事件\n\nvar editSvg = function editSvg(context) {\n  var document = context.document;\n  var selection = Document.fromNative(document).selectedLayers;\n\n  if (selection.length === 1) {\n    selection.forEach(function (layer) {\n      if (/^canary-/.test(layer.name)) {\n        var svgData = sketch_settings__WEBPACK_IMPORTED_MODULE_5___default.a.documentSettingForKey(document, layer.name);\n        var browserWindow = sketch_module_web_view__WEBPACK_IMPORTED_MODULE_0___default.a.fromId(webviewIdentifier);\n\n        if (browserWindow) {\n          browserWindow.show();\n          var webContents = browserWindow.webContents;\n          webContents.executeJavaScript(\"importSvg(\".concat(JSON.stringify({\n            svgData: svgData\n          }), \")\")).catch(console.error);\n        }\n      }\n    });\n  } else {}\n}; // const sketch = require('sketch/dom');\n// const Document = sketch.Document;\n// const group = sketch.createLayerFromData(svg, 'svg');\n// Document.fromNative(context.document).selectedPage.layers.push(group);\n// ui.importXml(svgstring);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaGFuZGxlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvLi9zcmMvaGFuZGxlci5qcz9mMTY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCcm93c2VyV2luZG93IGZyb20gJ3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcnO1xuaW1wb3J0IHsgZ2V0V2VidmlldyB9IGZyb20gJ3NrZXRjaC1tb2R1bGUtd2ViLXZpZXcvcmVtb3RlJztcbmltcG9ydCBmZXRjaCBmcm9tICdza2V0Y2gtcG9seWZpbGwtZmV0Y2gnO1xuaW1wb3J0IFVJIGZyb20gJ3NrZXRjaC91aSc7XG5pbXBvcnQgc2tldGNoIGZyb20gJ3NrZXRjaC9kb20nO1xuaW1wb3J0IFNldHRpbmdzIGZyb20gJ3NrZXRjaC9zZXR0aW5ncyc7XG5pbXBvcnQgdXVpZHY0IGZyb20gJ3V1aWQvdjQnO1xuXG5jb25zdCB3ZWJ2aWV3SWRlbnRpZmllciA9ICdjYW5hcnkud2Vidmlldyc7XG5jb25zdCBEb2N1bWVudCA9IHNrZXRjaC5Eb2N1bWVudDtcbmNvbnN0IEltYWdlID0gc2tldGNoLkltYWdlO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvblJ1bihjb250ZXh0KSB7XG4gIC8vIOWIpOaWreaYr+WQpuaYr+aWsOeUqOaIt1xuICBpZiAoIVNldHRpbmdzLnNldHRpbmdGb3JLZXkoJ2NhbmFyeS11dWlkJykpIHtcbiAgICBjb25zdCB1dWlkID0gdXVpZHY0KCk7XG4gICAgU2V0dGluZ3Muc2V0U2V0dGluZ0ZvcktleSgnY2FuYXJ5LXV1aWQnLCB1dWlkKTtcbiAgICAvLyDov5vooYzkuIrmiqVcbiAgICBmZXRjaCgnJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiB7XG4gICAgICAgICdjYW5hcnktdXVpZCc6IHV1aWQsXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBsZXQgYnJvd3NlcldpbmRvdyA9IEJyb3dzZXJXaW5kb3cuZnJvbUlkKHdlYnZpZXdJZGVudGlmaWVyKTtcbiAgaWYgKGJyb3dzZXJXaW5kb3cpIHtcbiAgICBpZiAoYnJvd3NlcldpbmRvdy5pc1Zpc2libGUoKSkge1xuICAgICAgYnJvd3NlcldpbmRvdy5taW5pbWl6ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicm93c2VyV2luZG93LnNob3coKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBpZGVudGlmaWVyOiB3ZWJ2aWV3SWRlbnRpZmllcixcbiAgICB3aWR0aDogNjAwLFxuICAgIGhlaWdodDogNjAwLFxuICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gIH1cblxuICBicm93c2VyV2luZG93ID0gbmV3IEJyb3dzZXJXaW5kb3cob3B0aW9ucyk7XG5cbiAgY29uc3Qgd2ViQ29udGVudHMgPSBicm93c2VyV2luZG93LndlYkNvbnRlbnRzO1xuICBicm93c2VyV2luZG93Ll9wYW5lbC53ZWJDb250ZW50cyA9IHdlYkNvbnRlbnRzO1xuICBicm93c2VyV2luZG93Lm1heGltaXplKCk7XG5cbiAgLy8gcHJpbnQgYSBtZXNzYWdlIHdoZW4gdGhlIHBhZ2UgbG9hZHNcbiAgd2ViQ29udGVudHMub24oJ2RpZC1maW5pc2gtbG9hZCcsICgpID0+IHtcbiAgICBVSS5tZXNzYWdlKCdVSSBsb2FkZWQhJylcbiAgfSlcblxuICB3ZWJDb250ZW50cy5vbignZXhwb3J0LXN2ZycsIChzdmcpID0+IHtcbiAgICBjb25zdCBncm91cCA9IHNrZXRjaC5jcmVhdGVMYXllckZyb21EYXRhKHN2ZywgJ3N2ZycpO1xuICAgIGdyb3VwLm5hbWUgPSBgY2FuYXJ5LSR7Z3JvdXAuaWR9YDtcbiAgICBEb2N1bWVudC5mcm9tTmF0aXZlKGNvbnRleHQuZG9jdW1lbnQpLnNlbGVjdGVkUGFnZS5sYXllcnMucHVzaChncm91cCk7XG4gICAgU2V0dGluZ3Muc2V0RG9jdW1lbnRTZXR0aW5nRm9yS2V5KGNvbnRleHQuZG9jdW1lbnQsIGdyb3VwLm5hbWUsIGAke3N2Z31gKTtcbiAgICBicm93c2VyV2luZG93Lm1pbmltaXplKCk7XG4gIH0pO1xuXG4gIHdlYkNvbnRlbnRzLm9uKCdleHBvcnQtcG5nJywgKHBuZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKHBuZyk7XG4gICAgY29uc3QgcG5nQmFzZSA9ICdkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjJaWEp6YVc5dVBTSXhMakVpSUhkcFpIUm9QU0l4TWpGd2VDSWdhR1ZwWjJoMFBTSTBOakZ3ZUNJZ2RtbGxkMEp2ZUQwaUxUQXVOU0F0TUM0MUlERXlNU0EwTmpFaUlHTnZiblJsYm5ROUlpWnNkRHR0ZUdacGJHVWdhRzl6ZEQwbWNYVnZkRHQ1ZG1GdWQyRnVaMnd1WjJsMGFIVmlMbWx2Sm5GMWIzUTdJRzF2WkdsbWFXVmtQU1p4ZFc5ME96SXdNakF0TURNdE1qaFVNRGc2TVRVNk1UY3VOVE0zV2laeGRXOTBPeUJoWjJWdWREMG1jWFZ2ZER0TmIzcHBiR3hoTHpVdU1DQW9UV0ZqYVc1MGIzTm9PeUJKYm5SbGJDQk5ZV01nVDFNZ1dDQXhNRjh4TTE4MktTQkJjSEJzWlZkbFlrdHBkQzgyTURVdU1TNHhOU0FvUzBoVVRVd3NJR3hwYTJVZ1IyVmphMjhwSm5GMWIzUTdJR1YwWVdjOUpuRjFiM1E3VlhFd00yTkhPSGRuYkZad1JEZE5abHBHY25FbWNYVnZkRHNnZG1WeWMybHZiajBtY1hWdmREc3hNaTR3TGpBbWNYVnZkRHNnZEhsd1pUMG1jWFZ2ZER0a1pYWnBZMlVtY1hWdmREc2djR0ZuWlhNOUpuRjFiM1E3TVNaeGRXOTBPeVpuZERzbWJIUTdaR2xoWjNKaGJTQnBaRDBtY1hWdmREdFlSbWR2VUhNMmFFdzVTbWxTZUdWc1FXWTRZaVp4ZFc5ME95QnVZVzFsUFNaeGRXOTBPK2VzckNBeElPbWh0U1p4ZFc5ME95Wm5kRHQ0V2xaaVlqUk5aMFpKUWk5cVdUbE1jWFpTYVZnNVpESllXbGt4TmpsTFNHSnZPVlZVTlZWVmVGTkdUek5oT0daTFIzRk9ZbVY1VjNWTU1Ga3JRVFJqTkVwUFRHZFNXa0owZFZrME9HcG1UVUpYY0ZsSmVtTjZNRTVMZDNKRWJYazFSbVZDZGtGVWJWcEdkME5xZUU1WWIzZGljM2xDWkc5UFRra3dTVk0zUlhKWllVTk5VM0JKTVVsWlQwTXdUbmRTU1hSb2VteHVZV0p1V210MFJERnhhRVF6YjJkS01rUmhXbVoxYVZOMk9HdDBjbGR5VDBkUVVVUjVMMGQwYldONmMzUkpaMHQyUjJWcFYzaHFNVEpYYm1sSE1FMTBRME5OZVdKTFZYQkJkR2REY0ROc1dtVjVNemhQVm1GRU1IaEVjVWMwY0ZWUE9HNXlNWFE1ZGs5alJTODVhbUUxTldVM1lXWXpOVm96VHpodmJIQnZhR1Z6U25sMmVYbG5RbTVUWldsRFUyMUpZVFpFTnpGcFdVSmthRUl3VmxSbFZYWnNPSGRZUVdSV2FHNVJOalJuVDNweFVFMHhOamxZVEZoQlFYUkJPRVozTWpCU01IRllNMjAzYldwaU1ucFpjalZhSzJGdWJXMUlPWGMzTURaalpVNUZSbkpUVjBoNWFYa3JhRmhLVEVoSkwxRnlPR1ZJUldac1Ntb3lVMVJEYTJSM1NtTTFObWR4ZWt3dmFYbG9MMHRHSzI0d1NsUnVSRzh3VW5WRlJHSkhablZ1Tm0xbUsyeHVNMDg1U0Zob1YxSkxhbTgxU21aTWN6aFlOVkJvTDB0UlVHZzVjV2RLTWxSV2VIcGtiREJVU1V4RVExbFZVRlJtVVdsbE0wTTBNRVpMU0VWU1kwTk1TRlp0U1V4MFJ6TnhabUZMVEdjMmRXWnhWMFk0YW1rdk5IWklhbW92VlV0dmNrUlpVRlJvUlRkbE4xaFNObWh6UFNac2REc3ZaR2xoWjNKaGJTWm5kRHNtYkhRN0wyMTRabWxzWlNabmREc2lQanhrWldaekx6NDhaejQ4Y21WamRDQjRQU0l3SWlCNVBTSXdJaUIzYVdSMGFEMGlNVEl3SWlCb1pXbG5hSFE5SWpZd0lpQnllRDBpT1NJZ2NuazlJamtpSUdacGJHdzlJaU5tWm1abVptWWlJSE4wY205clpUMGlJekF3TURBd01DSWdjRzlwYm5SbGNpMWxkbVZ1ZEhNOUltNXZibVVpTHo0OFpXeHNhWEJ6WlNCamVEMGlOREFpSUdONVBTSXhNakFpSUhKNFBTSTBNQ0lnY25rOUlqUXdJaUJtYVd4c1BTSWpabVptWm1abUlpQnpkSEp2YTJVOUlpTXdNREF3TURBaUlIQnZhVzUwWlhJdFpYWmxiblJ6UFNKdWIyNWxJaTgrUEhCaGRHZ2daRDBpVFNBd0lERTRNQ0JNSURZd0lESXlNQ0JNSURBZ01qWXdJRm9pSUdacGJHdzlJaU5tWm1abVptWWlJSE4wY205clpUMGlJekF3TURBd01DSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWlCd2IybHVkR1Z5TFdWMlpXNTBjejBpYm05dVpTSXZQanh3WVhSb0lHUTlJazBnTUNBeU9UWWdReUF3SURJM05DNDJOeUEyTUNBeU56UXVOamNnTmpBZ01qazJJRXdnTmpBZ016UTBJRU1nTmpBZ016WTFMak16SURBZ016WTFMak16SURBZ016UTBJRm9pSUdacGJHdzlJaU5tWm1abVptWWlJSE4wY205clpUMGlJekF3TURBd01DSWdjM1J5YjJ0bExXMXBkR1Z5YkdsdGFYUTlJakV3SWlCd2IybHVkR1Z5TFdWMlpXNTBjejBpYm05dVpTSXZQanh3WVhSb0lHUTlJazBnTUNBeU9UWWdReUF3SURNeE1pQTJNQ0F6TVRJZ05qQWdNamsySWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVOUlpTXdNREF3TURBaUlITjBjbTlyWlMxdGFYUmxjbXhwYldsMFBTSXhNQ0lnY0c5cGJuUmxjaTFsZG1WdWRITTlJbTV2Ym1VaUx6NDhjR0YwYUNCa1BTSk5JREFnTXpnd0lFd2dNVEF3SURNNE1DQk1JREV5TUNBME1qQWdUQ0F4TURBZ05EWXdJRXdnTUNBME5qQWdUQ0F5TUNBME1qQWdXaUlnWm1sc2JEMGlJMlptWm1abVppSWdjM1J5YjJ0bFBTSWpNREF3TURBd0lpQnpkSEp2YTJVdGJXbDBaWEpzYVcxcGREMGlNVEFpSUhCdmFXNTBaWEl0WlhabGJuUnpQU0p1YjI1bElpOCtQQzluUGp3dmMzWm5QZz09J1xuICAgIGNvbnN0IGltYWdlID0gTlNJbWFnZS5hbGxvYygpLmluaXRXaXRoQ29udGVudHNPZlVSTChOU1VSTC5VUkxXaXRoU3RyaW5nKHBuZ0Jhc2UpKTtcbiAgICAvLyBNU0ltYWdlRGF0YS5hbGxvYygpLmluaXRXaXRoSW1hZ2UoaW1hZ2UpXG4gICAgbGV0IGltYWdlTGF5ZXIgPSBuZXcgSW1hZ2Uoe1xuICAgICAgaW1hZ2U6IE1TSW1hZ2VEYXRhLmFsbG9jKCkuaW5pdFdpdGhJbWFnZShpbWFnZSlcbiAgICB9KTtcbiAgICAvLyBjb25zdCBncm91cCA9IHNrZXRjaC5jcmVhdGVMYXllckZyb21EYXRhKHBuZywgJ2JpdG1hcCcpO1xuICAgIC8vIGdyb3VwLm5hbWUgPSBgY2FuYXJ5LSR7Z3JvdXAuaWR9YDtcbiAgICBEb2N1bWVudC5mcm9tTmF0aXZlKGNvbnRleHQuZG9jdW1lbnQpLnNlbGVjdGVkUGFnZS5sYXllcnMucHVzaChpbWFnZUxheWVyKTtcbiAgICAvLyBTZXR0aW5ncy5zZXREb2N1bWVudFNldHRpbmdGb3JLZXkoY29udGV4dC5kb2N1bWVudCwgZ3JvdXAubmFtZSwgYCR7c3ZnfWApO1xuICAgIGJyb3dzZXJXaW5kb3cubWluaW1pemUoKTtcbiAgfSk7XG5cbiAgLy8gYWRkIGEgaGFuZGxlciBmb3IgYSBjYWxsIGZyb20gd2ViIGNvbnRlbnQncyBqYXZhc2NyaXB0XG4gIHdlYkNvbnRlbnRzLm9uKCduYXRpdmVMb2cnLCBzID0+IHtcbiAgICBVSS5tZXNzYWdlKHMpXG4gICAgd2ViQ29udGVudHNcbiAgICAgIC5leGVjdXRlSmF2YVNjcmlwdChgc2V0UmFuZG9tTnVtYmVyKCR7TWF0aC5yYW5kb20oKX0pYClcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfSlcblxuICBicm93c2VyV2luZG93LmxvYWRVUkwoJ2h0dHBzOi8veXZhbndhbmdsLmdpdGh1Yi5pby9kcmF3aW8vc3JjL21haW4vd2ViYXBwL2luZGV4Lmh0bWwnKTtcbn1cblxuLy8gV2hlbiB0aGUgcGx1Z2luIGlzIHNodXRkb3duIGJ5IFNrZXRjaCAoZm9yIGV4YW1wbGUgd2hlbiB0aGUgdXNlciBkaXNhYmxlIHRoZSBwbHVnaW4pXG4vLyB3ZSBuZWVkIHRvIGNsb3NlIHRoZSB3ZWJ2aWV3IGlmIGl0J3Mgb3BlblxuZXhwb3J0IGZ1bmN0aW9uIG9uU2h1dGRvd24oKSB7XG4gIGNvbnN0IGV4aXN0aW5nV2VidmlldyA9IGdldFdlYnZpZXcod2Vidmlld0lkZW50aWZpZXIpXG4gIGlmIChleGlzdGluZ1dlYnZpZXcpIHtcbiAgICBleGlzdGluZ1dlYnZpZXcuY2xvc2UoKVxuICB9XG59XG5cbi8vIOWvvOWFpXN2Z1xuZXhwb3J0IGNvbnN0IGltcG9ydFN2ZyA9ICgpID0+IHtcbiAgVUkuZ2V0SW5wdXRGcm9tVXNlcihcbiAgICBcIlBhcnNlIHN2Z1wiLFxuICAgIHtcbiAgICAgIGluaXRpYWxWYWx1ZTogJycsXG4gICAgfSxcbiAgICAoZXJyLCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICAvLyBtb3N0IGxpa2VseSB0aGUgdXNlciBjYW5jZWxlZCB0aGUgaW5wdXRcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBjb25zdCBncm91cCA9IHNrZXRjaC5jcmVhdGVMYXllckZyb21EYXRhKHZhbHVlLCAnYml0bWFwJyk7XG4gICAgICBEb2N1bWVudC5mcm9tTmF0aXZlKGNvbnRleHQuZG9jdW1lbnQpLnNlbGVjdGVkUGFnZS5sYXllcnMucHVzaChncm91cCk7XG4gICAgfVxuICApXG59O1xuXG4vLyDlhYPntKDpgInmi6nkuovku7Zcbi8vIGV4cG9ydCBjb25zdCBvblNlbGVjdGlvbkNoYW5nZWRGaW5pc2ggPSAoY29udGV4dCkgPT4ge1xuLy8gICBjb25zdCBkb2N1bWVudCA9IGNvbnRleHQuYWN0aW9uQ29udGV4dC5kb2N1bWVudDtcbi8vICAgY29uc3Qgc2VsZWN0aW9uID0gRG9jdW1lbnQuZnJvbU5hdGl2ZShkb2N1bWVudCkuc2VsZWN0ZWRMYXllcnM7XG4vLyAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7XG4vLyAgICAgc2VsZWN0aW9uLmZvckVhY2gobGF5ZXIgPT4ge1xuLy8gICAgICAgaWYgKC9eY2FuYXJ5LS8udGVzdChsYXllci5uYW1lKSkge1xuLy8gICAgICAgICBjb25zdCBzdmdEYXRhID0gU2V0dGluZ3MuZG9jdW1lbnRTZXR0aW5nRm9yS2V5KGRvY3VtZW50LCBsYXllci5uYW1lKTtcbi8vICAgICAgICAgbGV0IGJyb3dzZXJXaW5kb3cgPSBCcm93c2VyV2luZG93LmZyb21JZCh3ZWJ2aWV3SWRlbnRpZmllcik7XG4vLyAgICAgICAgIGlmIChicm93c2VyV2luZG93KSB7XG4vLyAgICAgICAgICAgY29uc3Qgd2ViQ29udGVudHMgPSBicm93c2VyV2luZG93Ll9wYW5lbC53ZWJDb250ZW50cztcbi8vICAgICAgICAgICAvLyBicm93c2VyV2luZG93LndlYkNvbnRlbnRzLmV4ZWN1dGVKYXZhU2NyaXB0KGBpbXBvcnRTdmcoJHtzdmdEYXRhfSlgKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbi8vICAgICAgICAgICB3ZWJDb250ZW50cy5leGVjdXRlSmF2YVNjcmlwdChgaW1wb3J0U3ZnKCR7SlNPTi5zdHJpbmdpZnkoeyBzdmdEYXRhIH0pfSlgKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgfVxuLy8gICAgIH0pO1xuLy8gICB9IGVsc2Uge1xuXG4vLyAgIH1cbi8vIH07XG5cbi8vIOWFg+e0oOe8lui+keS6i+S7tlxuZXhwb3J0IGNvbnN0IGVkaXRTdmcgPSAoY29udGV4dCkgPT4ge1xuICBjb25zdCBkb2N1bWVudCA9IGNvbnRleHQuZG9jdW1lbnQ7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IERvY3VtZW50LmZyb21OYXRpdmUoZG9jdW1lbnQpLnNlbGVjdGVkTGF5ZXJzO1xuICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkge1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKGxheWVyID0+IHtcbiAgICAgIGlmICgvXmNhbmFyeS0vLnRlc3QobGF5ZXIubmFtZSkpIHtcbiAgICAgICAgY29uc3Qgc3ZnRGF0YSA9IFNldHRpbmdzLmRvY3VtZW50U2V0dGluZ0ZvcktleShkb2N1bWVudCwgbGF5ZXIubmFtZSk7XG4gICAgICAgIGxldCBicm93c2VyV2luZG93ID0gQnJvd3NlcldpbmRvdy5mcm9tSWQod2Vidmlld0lkZW50aWZpZXIpO1xuICAgICAgICBpZiAoYnJvd3NlcldpbmRvdykge1xuICAgICAgICAgIGJyb3dzZXJXaW5kb3cuc2hvdygpO1xuICAgICAgICAgIGNvbnN0IHdlYkNvbnRlbnRzID0gYnJvd3NlcldpbmRvdy53ZWJDb250ZW50cztcbiAgICAgICAgICB3ZWJDb250ZW50cy5leGVjdXRlSmF2YVNjcmlwdChgaW1wb3J0U3ZnKCR7SlNPTi5zdHJpbmdpZnkoeyBzdmdEYXRhIH0pfSlgKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuXG4gIH1cbn07XG5cbi8vIGNvbnN0IHNrZXRjaCA9IHJlcXVpcmUoJ3NrZXRjaC9kb20nKTtcbi8vIGNvbnN0IERvY3VtZW50ID0gc2tldGNoLkRvY3VtZW50O1xuLy8gY29uc3QgZ3JvdXAgPSBza2V0Y2guY3JlYXRlTGF5ZXJGcm9tRGF0YShzdmcsICdzdmcnKTtcblxuLy8gRG9jdW1lbnQuZnJvbU5hdGl2ZShjb250ZXh0LmRvY3VtZW50KS5zZWxlY3RlZFBhZ2UubGF5ZXJzLnB1c2goZ3JvdXApO1xuLy8gdWkuaW1wb3J0WG1sKHN2Z3N0cmluZyk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUZBO0FBTUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/handler.js\n");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"buffer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVmZmVyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy9leHRlcm5hbCBcImJ1ZmZlclwiP2JmZmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYnVmZmVyXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///buffer\n");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"events\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy9leHRlcm5hbCBcImV2ZW50c1wiPzdhN2UiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXZlbnRzXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///events\n");

/***/ }),

/***/ "sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"sketch/dom\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoL2RvbS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cG9ydHMvZXh0ZXJuYWwgXCJza2V0Y2gvZG9tXCI/ZmNkNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJza2V0Y2gvZG9tXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///sketch/dom\n");

/***/ }),

/***/ "sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"sketch/settings\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoL3NldHRpbmdzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy9leHRlcm5hbCBcInNrZXRjaC9zZXR0aW5nc1wiPzdmZmIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2tldGNoL3NldHRpbmdzXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///sketch/settings\n");

/***/ }),

/***/ "sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"sketch/ui\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoL3VpLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwb3J0cy9leHRlcm5hbCBcInNrZXRjaC91aVwiPzhiMzciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic2tldGNoL3VpXCIpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///sketch/ui\n");

/***/ })

/******/ });
    if (key === 'default' && typeof exports === 'function') {
      exports(context);
    } else if (typeof exports[key] !== 'function') {
      throw new Error('Missing export named "' + key + '". Your command should contain something like `export function " + key +"() {}`.');
    } else {
      exports[key](context);
    }
  } catch (err) {
    if (typeof process !== 'undefined' && process.listenerCount && process.listenerCount('uncaughtException')) {
      process.emit("uncaughtException", err, "uncaughtException");
    } else {
      throw err
    }
  }
}
globalThis['onRun'] = __skpm_run.bind(this, 'default');
globalThis['onShutdown'] = __skpm_run.bind(this, 'onShutdown');
globalThis['importSvg'] = __skpm_run.bind(this, 'importSvg');
globalThis['editSvg'] = __skpm_run.bind(this, 'editSvg')
